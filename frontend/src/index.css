@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Default (Dark) */
    --background: 9 9 11; /* #09090b */
    --foreground: 250 250 250; /* #fafafa */
    --card: 24 24 27; /* #18181b */
    --card-foreground: 250 250 250;
    --popover: 24 24 27;
    --popover-foreground: 250 250 250;
    --primary: 37 99 235; /* Blue 600 */
    --primary-foreground: 250 250 250;
    --secondary: 39 39 42; /* Zinc 800 */
    --secondary-foreground: 250 250 250;
    --muted: 39 39 42;
    --muted-foreground: 161 161 170; /* Zinc 400 */
    --accent: 39 39 42;
    --accent-foreground: 250 250 250;
    --destructive: 127 29 29;
    --destructive-foreground: 250 250 250;
    --border: 39 39 42; /* Zinc 800 */
    --input: 39 39 42;
    --ring: 37 99 235;
    --radius: 0.5rem;
  }

  [data-theme='light'] {
    --background: 255 255 255;
    --foreground: 9 9 11;
    --card: 255 255 255;
    --card-foreground: 9 9 11;
    --popover: 255 255 255;
    --popover-foreground: 9 9 11;
    --primary: 37 99 235;
    --primary-foreground: 255 255 255;
    --secondary: 244 244 245; /* Zinc 100 */
    --secondary-foreground: 24 24 27;
    --muted: 244 244 245;
    --muted-foreground: 113 113 122; /* Zinc 500 */
    --accent: 244 244 245;
    --accent-foreground: 24 24 27;
    --destructive: 239 68 68;
    --destructive-foreground: 255 255 255;
    --border: 228 228 231; /* Zinc 200 */
    --input: 228 228 231;
    --ring: 37 99 235;
  }
}

@layer base {
  * {
    @apply border-[color:rgb(var(--border)/0.2)]; /* subtle borders */
  }
  body {
    @apply bg-[color:rgb(var(--background))] text-[color:rgb(var(--foreground))];
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* RGB Theme Specifics */
[data-theme='rgb'] {
    /* Using dark mode base */
}

/* RGB animated border - uses a pseudo-element behind the card */
[data-theme='rgb'] .rgb-border {
    position: relative;
    z-index: 0;
    border: none !important;
    overflow: visible !important;
}

[data-theme='rgb'] .rgb-border::before {
    content: "";
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    z-index: -1;
    border-radius: inherit;
    background: linear-gradient(
        45deg,
        #ff0000,
        #ff8800,
        #ffff00,
        #00ff00,
        #00ffff,
        #0066ff,
        #8800ff,
        #ff0088,
        #ff0000
    );
    background-size: 400% 400%;
    animation: rgb-border-rotate 15s linear infinite;
    pointer-events: none;
}

[data-theme='rgb'] .rgb-border::after {
    content: "";
    position: absolute;
    inset: 0;
    z-index: -1;
    border-radius: inherit;
    background: rgb(var(--card));
    pointer-events: none;
}

[data-theme='rgb'] .rgb-text {
    background: linear-gradient(90deg, #ef4444, #f59e0b, #22c55e, #3b82f6, #8b5cf6, #ef4444);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: rgb-text-flow 20s linear infinite;
    background-size: 200% auto;
}

@keyframes rgb-border-rotate {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

@keyframes rgb-text-flow {
    to { background-position: 200% center; }
}