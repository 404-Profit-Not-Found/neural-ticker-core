
[1m[7m[36m RUN [39m[27m[22m [36mv2.1.9 [39m[90mC:/Users/brani/Documents/GitHub/neural-ticker-core/frontend[39m

 [32mÎ“Â£Ã´[39m src/components/portfolio/AddPositionDialog.test.tsx[2m > [22mAddPositionDialog[2m > [22mdoes not render when closed
 [32mÎ“Â£Ã´[39m src/components/portfolio/AddPositionDialog.test.tsx[2m > [22mAddPositionDialog[2m > [22mrenders correctly when open
 [32mÎ“Â£Ã´[39m src/components/portfolio/AddPositionDialog.test.tsx[2m > [22mAddPositionDialog[2m > [22mhandles ticker search and selection[33m 354[2mms[22m[39m
 [31mâ”œÃ¹[39m src/components/portfolio/AddPositionDialog.test.tsx[2m > [22mAddPositionDialog[2m > [22mupdates price via slider when data is available[33m 1358[2mms[22m[39m
[31m   Î“Ã¥Ã† [2mexpect([22m[31melement[31m[2m).toHaveTextContent()[22m

Expected element to have text content:
[32m  $155.00[31m
Received:
[31m  Slider $150.00[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mdata-testid[31m=[32m"dialog"[31m
      [36m>[31m
        [36m<div>[31m
          [36m<div>[31m
            [36m<div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"p-2 bg-primary/10 rounded-full text-primary"[31m
              [36m>[31m
                [36m<span[31m
                  [33mdata-testid[31m=[32m"plus-icon"[31m
                [36m>[31m
                  [0m+[0m
                [36m</span>[31m
              [36m</div>[31m
              [0mAdd Position[0m
            [36m</div>[31m
            [0mAdd a stock supported by NeuralTicker[0m
          [36m</div>[31m
          [36m<form[31m
            [33mclass[31m=[32m"space-y-6 py-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"space-y-1.5 relative"[31m
            [36m>[31m
              [36m<label>[31m
                [0mTicker Symbol[0m
              [36m</label>[31m
              [36m<div[31m
                [33mclass[31m=[32m"relative"[31m
              [36m>[31m
                [36m<span>[31m
                  [0mS[0m
                [36m</span>[31m
                [36m<input[31m
                  [33mclass[31m=[32m"pl-9 font-mono normal-case"[31m
                  [33mplaceholder[31m=[32m"Search symbol (e.g. AAPL)..."[31m
                  [33mvalue[31m=[32m"AAPL"[31m
                [36m/>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"space-y-6 animate-in fade-in slide-in-from-top-2 duration-300"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"bg-muted/20 rounded-xl border border-border/40 p-4 flex items-center justify-between"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-4"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mdata-testid[31m=[32m"ticker-logo"[31m
                    [36m>[31m
                      [0mLogo[0m
                    [36m</div>[31m
                    [36m<div>[31m
                      [36m<div[31m
                        [33mclass[31m=[32m"flex items-center gap-2"[31m
                      [36m>[31m
                        [36m<h3[31m
                          [33mclass[31m=[32m"text-lg font-bold text-foreground leading-none"[31m
                        [36m>[31m
                          [0mAAPL[0m
                        [36m</h3>[31m
                      [36m</div>[31m
                      [36m<p[31m
                        [33mclass[31m=[32m"text-sm text-muted-foreground font-medium"[31m
                      [36m>[31m
                        [0mApple Inc[0m
                      [36m</p>[31m
                    [36m</div>[31m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex flex-col items-end"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"text-xl font-mono font-bold"[31m
                    [36m>[31m
                      [0m$[0m
                      [0m---[0m
                    [36m</div>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tabs"[31m
            [36m>[31m
              [36m<div>[31m
                [36m<button[31m
                  [33mdata-testid[31m=[32m"tabs-trigger-investment"[31m
                [36m>[31m
                  [36m<span>[31m
                    [0m$[0m
                  [36m</span>[31m
                  [0m By Investment[0m
                [36m</button>[31m
                [36m<button[31m
                  [33mdata-testid[31m=[32m"tabs-trigger-shares"[31m
                [36m>[31m
                  [36m<span>[31m
                    [0m#[0m
                  [36m</span>[31m
                  [0m By Shares[0m
                [36m</button>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"mt-4 space-y-4"[31m
              [36m>[31m
                [36m<div[31m
                  [33mdata-testid[31m=[32m"tabs-content-investment"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"grid grid-cols-2 gap-4"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"space-y-1.5"[31m
                    [36m>[31m
                      [36m<label>[31m
                        [0mBuy Date[0m
                      [36m</label>[31m
                      [36m<div>[31m
                        [36m<div>[31m
                          [36m<button[31m
                            [33mtype[31m=[32m"button"[31m
                          [36m>[31m
                            [36m<span>[31m
                              [0mC[0m
                            [36m</span>[31m
                            [0mJanuary 21st, 2026[0m
                          [36m</button>[31m
                        [36m</div>[31m
                        [36m<div[31m
                          [33mdata-testid[31m=[32m"popover-content"[31m
                        [36m>[31m
                          [36m<div[31m
                            [33mdata-testid[31m=[32m"calendar"[31m
                          [36m>[31m
                            [0mCalendar[0m
                          [36m</div>[31m
                        [36m</div>[31m
                      [36m</div>[31m
                    [36m</div>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"space-y-1.5"[31m
                    [36m>[31m
                      [36m<label[31m
                        [33mfor[31m=[32m"investment-input"[31m
                      [36m>[31m
                        [0mInvestment Amount[0m
                      [36m</label>[31m
                      [36m<div[31m
                        [33mclass[31m=[32m"relative"[31m
                      [36m>[31m
                        [36m<span>[31m
                          [0m$[0m
                        [36m</span>[31m
                        [36m<input[31m
                          [33mclass[31m=[32m"pl-9 font-mono bg-muted/20"[31m
                          [33mid[31m=[32m"investment-input"[31m
                          [33mplaceholder[31m=[32m"0.00"[31m
                          [33mrequired[31m=[32m""[31m
                          [33mstep[31m=[32m"any"[31m
                          [33mtype[31m=[32m"number"[31m
                          [33mvalue[31m=[32m""[31m
                        [36m/>[31m
                      [36m</div>[31m
                    [36m</div>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mdata-testid[31m=[32m"tabs-content-shares"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"grid grid-cols-2 gap-4"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"space-y-1.5"[31m
                    [36m>[31m
                      [36m<label>[31m
                        [0mBuy Date[0m
                      [36m</label>[31m
                      [36m<div>[31m
                        [36m<div>[31m
                          [36m<button[31m
                            [33mtype[31m=[32m"button"[31m
                          [36m>[31m
                            [36m<span>[31m
                              [0mC[0m
                            [36m</span>[31m
                            [0mJanuary 21st, 2026[0m
                          [36m</button>[31m
                        [36m</div>[31m
                        [36m<div[31m
                          [33mdata-testid[31m=[32m"popover-content"[31m
                        [36m>[31m
                          [36m<div[31m
                            [33mdata-testid[31m=[32m"calendar"[31m
                          [36m>[31m
                            [0mCalendar[0m
                          [36m</div>[31m
                        [36m</div>[31m
                      [36m</div>[31m
                    [36m</div>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"space-y-1.5"[31m
                    [36m>[31m
                      [36m<label[31m
                        [33mfor[31m=[32m"shares-input"[31m
                      [36m>[31m
                        [0mNumber of Shares[0m
                      [36m</label>[31m
                      [36m<div[31m
                        [33mclass[31m=[32m"relative"[31m
                      [36m>[31m
                        [36m<span>[31m
                          [0m#[0m
                        [36m</span>[31m
                        [36m<input[31m
                          [33mclass[31m=[32m"pl-9 font-mono bg-muted/20"[31m
                          [33mid[31m=[32m"shares-input"[31m
                          [33mplaceholder[31m=[32m"0.00"[31m
                          [33mrequired[31m=[32m""[31m
                          [33mstep[31m=[32m"any"[31m
                          [33mtype[31m=[32m"number"[31m
                          [33mvalue[31m=[32m""[31m
                        [36m/>[31m
                      [36m</div>[31m
                    [36m</div>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"space-y-2 pt-2"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"bg-muted/10 px-3 py-1 rounded-lg border border-border/50"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mdata-testid[31m=[32m"price-slider"[31m
                    [36m>[31m
                      [0mSlider [0m
                      [0m$150.00[0m
                    [36m</div>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<button[31m
                [33mtype[31m=[32m"button"[31m
              [36m>[31m
                [0mCancel[0m
              [36m</button>[31m
              [36m<button[31m
                [33mdisabled[31m=[32m""[31m
                [33mtype[31m=[32m"submit"[31m
              [36m>[31m
                [36m<span[31m
                  [33mdata-testid[31m=[32m"plus-icon"[31m
                [36m>[31m
                  [0m+[0m
                [36m</span>[31m
                [0mAdd [0m
                [0mAAPL[0m
              [36m</button>[31m
            [36m</div>[31m
          [36m</form>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</body>[31m
[36m</html>[31m[39m
 [31mâ”œÃ¹[39m src/components/portfolio/AddPositionDialog.test.tsx[2m > [22mAddPositionDialog[2m > [22mhandles form submission[33m 1348[2mms[22m[39m
[31m   Î“Ã¥Ã† [2mexpect([22m[31melement[31m[2m).toHaveTextContent()[22m

Expected element to have text content:
[32m  100.00[31m
Received:
[31m  Slider[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mdata-testid[31m=[32m"dialog"[31m
      [36m>[31m
        [36m<div>[31m
          [36m<div>[31m
            [36m<div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"p-2 bg-primary/10 rounded-full text-primary"[31m
              [36m>[31m
                [36m<span[31m
                  [33mdata-testid[31m=[32m"plus-icon"[31m
                [36m>[31m
                  [0m+[0m
                [36m</span>[31m
              [36m</div>[31m
              [0mAdd Position[0m
            [36m</div>[31m
            [0mAdd a stock supported by NeuralTicker[0m
          [36m</div>[31m
          [36m<form[31m
            [33mclass[31m=[32m"space-y-6 py-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"space-y-1.5 relative"[31m
            [36m>[31m
              [36m<label>[31m
                [0mTicker Symbol[0m
              [36m</label>[31m
              [36m<div[31m
                [33mclass[31m=[32m"relative"[31m
              [36m>[31m
                [36m<span>[31m
                  [0mS[0m
                [36m</span>[31m
                [36m<input[31m
                  [33mclass[31m=[32m"pl-9 font-mono normal-case"[31m
                  [33mplaceholder[31m=[32m"Search symbol (e.g. AAPL)..."[31m
                  [33mvalue[31m=[32m"AAPL"[31m
                [36m/>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"space-y-6 animate-in fade-in slide-in-from-top-2 duration-300"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"bg-muted/20 rounded-xl border border-border/40 p-4 flex items-center justify-between"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-4"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mdata-testid[31m=[32m"ticker-logo"[31m
                    [36m>[31m
                      [0mLogo[0m
                    [36m</div>[31m
                    [36m<div>[31m
                      [36m<div[31m
                        [33mclass[31m=[32m"flex items-center gap-2"[31m
                      [36m>[31m
                        [36m<h3[31m
                          [33mclass[31m=[32m"text-lg font-bold text-foreground leading-none"[31m
                        [36m>[31m
                          [0mAAPL[0m
                        [36m</h3>[31m
                      [36m</div>[31m
                      [36m<p[31m
                        [33mclass[31m=[32m"text-sm text-muted-foreground font-medium"[31m
                      [36m>[31m
                        [0mApple Inc[0m
                      [36m</p>[31m
                    [36m</div>[31m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex flex-col items-end"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"text-xl font-mono font-bold"[31m
                    [36m>[31m
                      [0m$[0m
                      [0m---[0m
                    [36m</div>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tabs"[31m
            [36m>[31m
              [36m<div>[31m
                [36m<button[31m
                  [33mdata-testid[31m=[32m"tabs-trigger-investment"[31m
                [36m>[31m
                  [36m<span>[31m
                    [0m$[0m
                  [36m</span>[31m
                  [0m By Investment[0m
                [36m</button>[31m
                [36m<button[31m
                  [33mdata-testid[31m=[32m"tabs-trigger-shares"[31m
                [36m>[31m
                  [36m<span>[31m
                    [0m#[0m
                  [36m</span>[31m
                  [0m By Shares[0m
                [36m</button>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"mt-4 space-y-4"[31m
              [36m>[31m
                [36m<div[31m
                  [33mdata-testid[31m=[32m"tabs-content-investment"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"grid grid-cols-2 gap-4"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"space-y-1.5"[31m
                    [36m>[31m
                      [36m<label>[31m
                        [0mBuy Date[0m
                      [36m</label>[31m
                      [36m<div>[31m
                        [36m<div>[31m
                          [36m<button[31m
                            [33mtype[31m=[32m"button"[31m
                          [36m>[31m
                            [36m<span>[31m
                              [0mC[0m
                            [36m</span>[31m
                            [0mJanuary 21st, 2026[0m
                          [36m</button>[31m
                        [36m</div>[31m
                        [36m<div[31m
                          [33mdata-testid[31m=[32m"popover-content"[31m
                        [36m>[31m
                          [36m<div[31m
                            [33mdata-testid[31m=[32m"calendar"[31m
                          [36m>[31m
                            [0mCalendar[0m
                          [36m</div>[31m
                        [36m</div>[31m
                      [36m</div>[31m
                    [36m</div>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"space-y-1.5"[31m
                    [36m>[31m
                      [36m<label[31m
                        [33mfor[31m=[32m"investment-input"[31m
                      [36m>[31m
                        [0mInvestment Amount[0m
                      [36m</label>[31m
                      [36m<div[31m
                        [33mclass[31m=[32m"relative"[31m
                      [36m>[31m
                        [36m<span>[31m
                          [0m$[0m
                        [36m</span>[31m
                        [36m<input[31m
                          [33mclass[31m=[32m"pl-9 font-mono bg-muted/20"[31m
                          [33mid[31m=[32m"investment-input"[31m
                          [33mplaceholder[31m=[32m"0.00"[31m
                          [33mrequired[31m=[32m""[31m
                          [33mstep[31m=[32m"any"[31m
                          [33mtype[31m=[32m"number"[31m
                          [33mvalue[31m=[32m""[31m
                        [36m/>[31m
                      [36m</div>[31m
                    [36m</div>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mdata-testid[31m=[32m"tabs-content-shares"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"grid grid-cols-2 gap-4"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"space-y-1.5"[31m
                    [36m>[31m
                      [36m<label>[31m
                        [0mBuy Date[0m
                      [36m</label>[31m
                      [36m<div>[31m
                        [36m<div>[31m
                          [36m<button[31m
                            [33mtype[31m=[32m"button"[31m
                          [36m>[31m
                            [36m<span>[31m
                              [0mC[0m
                            [36m</span>[31m
                            [0mJanuary 21st, 2026[0m
                          [36m</button>[31m
                        [36m</div>[31m
                        [36m<div[31m
                          [33mdata-testid[31m=[32m"popover-content"[31m
                        [36m>[31m
                          [36m<div[31m
                            [33mdata-testid[31m=[32m"calendar"[31m
                          [36m>[31m
                            [0mCalendar[0m
                          [36m</div>[31m
                        [36m</div>[31m
                      [36m</div>[31m
                    [36m</div>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"space-y-1.5"[31m
                    [36m>[31m
                      [36m<label[31m
                        [33mfor[31m=[32m"shares-input"[31m
                      [36m>[31m
                        [0mNumber of Shares[0m
                      [36m</label>[31m
                      [36m<div[31m
                        [33mclass[31m=[32m"relative"[31m
                      [36m>[31m
                        [36m<span>[31m
                          [0m#[0m
                        [36m</span>[31m
                        [36m<input[31m
                          [33mclass[31m=[32m"pl-9 font-mono bg-muted/20"[31m
                          [33mid[31m=[32m"shares-input"[31m
                          [33mplaceholder[31m=[32m"0.00"[31m
                          [33mrequired[31m=[32m""[31m
                          [33mstep[31m=[32m"any"[31m
                          [33mtype[31m=[32m"number"[31m
                          [33mvalue[31m=[32m""[31m
                        [36m/>[31m
                      [36m</div>[31m
                      [36m<p[31m
                        [33mclass[31m=[32m"text-[11px] text-primary font-medium flex items-center gap-1 mt-1"[31m
                      [36m>[31m
                        [36m<span>[31m
                          [0m$[0m
                        [36m</span>[31m
                        [0mResult: [0m
                        [36m<strong>[31m
                          [0m$[0m
                          [0m1â”¬Ã¡000[0m
                        [36m</strong>[31m
                        [0m total[0m
                      [36m</p>[31m
                    [36m</div>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"space-y-2 pt-2"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"bg-muted/10 px-3 py-1 rounded-lg border border-border/50"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"text-[10px] text-orange-500 pt-2 flex items-center gap-1"[31m
                    [36m>[31m
                      [36m<span>[31m
                        [0m![0m
                      [36m</span>[31m
                      [36m<span>[31m
                        [0mUsing data from [0m
                      [36m</span>[31m
                    [36m</div>[31m
                    [36m<div[31m
                      [33mdata-testid[31m=[32m"price-slider"[31m
                    [36m>[31m
                      [0mSlider [0m
                    [36m</div>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<button[31m
                [33mtype[31m=[32m"button"[31m
              [36m>[31m
                [0mCancel[0m
              [36m</button>[31m
              [36m<button[31m
                [33mdisabled[31m=[32m""[31m
                [33mtype[31m=[32m"submit"[31m
              [36m>[31m
                [36m<span[31m
                  [33mdata-testid[31m=[32m"plus-icon"[31m
                [36m>[31m
                  [0m+[0m
                [36m</span>[31m
                [0mAdd [0m
                [0mAAPL[0m
              [36m</button>[31m
            [36m</div>[31m
          [36m</form>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</body>[31m
[36m</html>[31m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 2 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  src/components/portfolio/AddPositionDialog.test.tsx > AddPositionDialog > updates price via slider when data is available
Error: expect(element).toHaveTextContent()

Expected element to have text content:
  $155.00
Received:
  Slider $150.00

Ignored nodes: comments, script, style
<html>
  <head />
  <body>
    <div>
      <div
        data-testid="dialog"
      >
        <div>
          <div>
            <div>
              <div
                class="p-2 bg-primary/10 rounded-full text-primary"
              >
                <span
                  data-testid="plus-icon"
                >
                  +
                </span>
              </div>
              Add Position
            </div>
            Add a stock supported by NeuralTicker
          </div>
          <form
            class="space-y-6 py-4"
          >
            <div
              class="space-y-1.5 relative"
            >
              <label>
                Ticker Symbol
              </label>
              <div
                class="relative"
              >
                <span>
                  S
                </span>
                <input
                  class="pl-9 font-mono normal-case"
                  placeholder="Search symbol (e.g. AAPL)..."
                  value="AAPL"
                />
              </div>
              <div
                class="space-y-6 animate-in fade-in slide-in-from-top-2 duration-300"
              >
                <div
                  class="bg-muted/20 rounded-xl border border-border/40 p-4 flex items-center justify-between"
                >
                  <div
                    class="flex items-center gap-4"
                  >
                    <div
                      data-testid="ticker-logo"
                    >
                      Logo
                    </div>
                    <div>
                      <div
                        class="flex items-center gap-2"
                      >
                        <h3
                          class="text-lg font-bold text-foreground leading-none"
                        >
                          AAPL
                        </h3>
                      </div>
                      <p
                        class="text-sm text-muted-foreground font-medium"
                      >
                        Apple Inc
                      </p>
                    </div>
                  </div>
                  <div
                    class="flex flex-col items-end"
                  >
                    <div
                      class="text-xl font-mono font-bold"
                    >
                      $
                      ---
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              data-testid="tabs"
            >
              <div>
                <button
                  data-testid="tabs-trigger-investment"
                >
                  <span>
                    $
                  </span>
                   By Investment
                </button>
                <button
                  data-testid="tabs-trigger-shares"
                >
                  <span>
                    #
                  </span>
                   By Shares
                </button>
              </div>
              <div
                class="mt-4 space-y-4"
              >
                <div
                  data-testid="tabs-content-investment"
                >
                  <div
                    class="grid grid-cols-2 gap-4"
                  >
                    <div
                      class="space-y-1.5"
                    >
                      <label>
                        Buy Date
                      </label>
                      <div>
                        <div>
                          <button
                            type="button"
                          >
                            <span>
                              C
                            </span>
                            January 21st, 2026
                          </button>
                        </div>
                        <div
                          data-testid="popover-content"
                        >
                          <div
                            data-testid="calendar"
                          >
                            Calendar
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      class="space-y-1.5"
                    >
                      <label
                        for="investment-input"
                      >
                        Investment Amount
                      </label>
                      <div
                        class="relative"
                      >
                        <span>
                          $
                        </span>
                        <input
                          class="pl-9 font-mono bg-muted/20"
                          id="investment-input"
                          placeholder="0.00"
                          required=""
                          step="any"
                          type="number"
                          value=""
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  data-testid="tabs-content-shares"
                >
                  <div
                    class="grid grid-cols-2 gap-4"
                  >
                    <div
                      class="space-y-1.5"
                    >
                      <label>
                        Buy Date
                      </label>
                      <div>
                        <div>
                          <button
                            type="button"
                          >
                            <span>
                              C
                            </span>
                            January 21st, 2026
                          </button>
                        </div>
                        <div
                          data-testid="popover-content"
                        >
                          <div
                            data-testid="calendar"
                          >
                            Calendar
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      class="space-y-1.5"
                    >
                      <label
                        for="shares-input"
                      >
                        Number of Shares
                      </label>
                      <div
                        class="relative"
                      >
                        <span>
                          #
                        </span>
                        <input
                          class="pl-9 font-mono bg-muted/20"
                          id="shares-input"
                          placeholder="0.00"
                          required=""
                          step="any"
                          type="number"
                          value=""
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="space-y-2 pt-2"
                >
                  <div
                    class="bg-muted/10 px-3 py-1 rounded-lg border border-border/50"
                  >
                    <div
                      data-testid="price-slider"
                    >
                      Slider 
                      $150.00
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <button
                type="button"
              >
                Cancel
              </button>
              <button
                disabled=""
                type="submit"
              >
                <span
                  data-testid="plus-icon"
                >
                  +
                </span>
                Add 
                AAPL
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
 Î“Â¥Â» src/components/portfolio/AddPositionDialog.test.tsx:153:52
    151|     // Slider mock calls onChange(155)
    152|     await waitFor(() => {
    153|         expect(screen.getByTestId('price-slider')).toHaveTextContent('Î“Ã‡Âª
       |                                                    ^
    154|     });
    155|   });
 Î“Â¥Â» runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/dom/dist/config.js:47:12
 Î“Â¥Â» checkCallback node_modules/@testing-library/dom/dist/wait-for.js:124:77
 Î“Â¥Â» Timeout.checkRealTimersCallback node_modules/@testing-library/dom/dist/wait-for.js:118:16

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/2]Î“Ã„Â»

 FAIL  src/components/portfolio/AddPositionDialog.test.tsx > AddPositionDialog > handles form submission
Error: expect(element).toHaveTextContent()

Expected element to have text content:
  100.00
Received:
  Slider

Ignored nodes: comments, script, style
<html>
  <head />
  <body>
    <div>
      <div
        data-testid="dialog"
      >
        <div>
          <div>
            <div>
              <div
                class="p-2 bg-primary/10 rounded-full text-primary"
              >
                <span
                  data-testid="plus-icon"
                >
                  +
                </span>
              </div>
              Add Position
            </div>
            Add a stock supported by NeuralTicker
          </div>
          <form
            class="space-y-6 py-4"
          >
            <div
              class="space-y-1.5 relative"
            >
              <label>
                Ticker Symbol
              </label>
              <div
                class="relative"
              >
                <span>
                  S
                </span>
                <input
                  class="pl-9 font-mono normal-case"
                  placeholder="Search symbol (e.g. AAPL)..."
                  value="AAPL"
                />
              </div>
              <div
                class="space-y-6 animate-in fade-in slide-in-from-top-2 duration-300"
              >
                <div
                  class="bg-muted/20 rounded-xl border border-border/40 p-4 flex items-center justify-between"
                >
                  <div
                    class="flex items-center gap-4"
                  >
                    <div
                      data-testid="ticker-logo"
                    >
                      Logo
                    </div>
                    <div>
                      <div
                        class="flex items-center gap-2"
                      >
                        <h3
                          class="text-lg font-bold text-foreground leading-none"
                        >
                          AAPL
                        </h3>
                      </div>
                      <p
                        class="text-sm text-muted-foreground font-medium"
                      >
                        Apple Inc
                      </p>
                    </div>
                  </div>
                  <div
                    class="flex flex-col items-end"
                  >
                    <div
                      class="text-xl font-mono font-bold"
                    >
                      $
                      ---
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              data-testid="tabs"
            >
              <div>
                <button
                  data-testid="tabs-trigger-investment"
                >
                  <span>
                    $
                  </span>
                   By Investment
                </button>
                <button
                  data-testid="tabs-trigger-shares"
                >
                  <span>
                    #
                  </span>
                   By Shares
                </button>
              </div>
              <div
                class="mt-4 space-y-4"
              >
                <div
                  data-testid="tabs-content-investment"
                >
                  <div
                    class="grid grid-cols-2 gap-4"
                  >
                    <div
                      class="space-y-1.5"
                    >
                      <label>
                        Buy Date
                      </label>
                      <div>
                        <div>
                          <button
                            type="button"
                          >
                            <span>
                              C
                            </span>
                            January 21st, 2026
                          </button>
                        </div>
                        <div
                          data-testid="popover-content"
                        >
                          <div
                            data-testid="calendar"
                          >
                            Calendar
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      class="space-y-1.5"
                    >
                      <label
                        for="investment-input"
                      >
                        Investment Amount
                      </label>
                      <div
                        class="relative"
                      >
                        <span>
                          $
                        </span>
                        <input
                          class="pl-9 font-mono bg-muted/20"
                          id="investment-input"
                          placeholder="0.00"
                          required=""
                          step="any"
                          type="number"
                          value=""
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  data-testid="tabs-content-shares"
                >
                  <div
                    class="grid grid-cols-2 gap-4"
                  >
                    <div
                      class="space-y-1.5"
                    >
                      <label>
                        Buy Date
                      </label>
                      <div>
                        <div>
                          <button
                            type="button"
                          >
                            <span>
                              C
                            </span>
                            January 21st, 2026
                          </button>
                        </div>
                        <div
                          data-testid="popover-content"
                        >
                          <div
                            data-testid="calendar"
                          >
                            Calendar
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      class="space-y-1.5"
                    >
                      <label
                        for="shares-input"
                      >
                        Number of Shares
                      </label>
                      <div
                        class="relative"
                      >
                        <span>
                          #
                        </span>
                        <input
                          class="pl-9 font-mono bg-muted/20"
                          id="shares-input"
                          placeholder="0.00"
                          required=""
                          step="any"
                          type="number"
                          value=""
                        />
                      </div>
                      <p
                        class="text-[11px] text-primary font-medium flex items-center gap-1 mt-1"
                      >
                        <span>
                          $
                        </span>
                        Result: 
                        <strong>
                          $
                          1â”¬Ã¡000
                        </strong>
                         total
                      </p>
                    </div>
                  </div>
                </div>
                <div
                  class="space-y-2 pt-2"
                >
                  <div
                    class="bg-muted/10 px-3 py-1 rounded-lg border border-border/50"
                  >
                    <div
                      class="text-[10px] text-orange-500 pt-2 flex items-center gap-1"
                    >
                      <span>
                        !
                      </span>
                      <span>
                        Using data from 
                      </span>
                    </div>
                    <div
                      data-testid="price-slider"
                    >
                      Slider 
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <button
                type="button"
              >
                Cancel
              </button>
              <button
                disabled=""
                type="submit"
              >
                <span
                  data-testid="plus-icon"
                >
                  +
                </span>
                Add 
                AAPL
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
 Î“Â¥Â» src/components/portfolio/AddPositionDialog.test.tsx:179:52
    177|     // Price should be auto-set to 100 from history
    178|     await waitFor(() => {
    179|         expect(screen.getByTestId('price-slider')).toHaveTextContent('Î“Ã‡Âª
       |                                                    ^
    180|     });
    181| 
 Î“Â¥Â» runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/dom/dist/config.js:47:12
 Î“Â¥Â» checkCallback node_modules/@testing-library/dom/dist/wait-for.js:124:77
 Î“Â¥Â» Timeout.checkRealTimersCallback node_modules/@testing-library/dom/dist/wait-for.js:118:16

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/2]Î“Ã„Â»

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m3 passed[39m[22m[90m (5)[39m
[2m   Start at [22m 23:01:07
[2m   Duration [22m 4.84s[2m (transform 101ms, setup 104ms, collect 409ms, tests 3.11s, environment 603ms, prepare 83ms)[22m

