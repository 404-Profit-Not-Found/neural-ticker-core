function VM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function kh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Np={exports:{}},Wo={};var Z1;function $M(){if(Z1)return Wo;Z1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Wo.Fragment=e,Wo.jsx=n,Wo.jsxs=n,Wo}var ew;function qM(){return ew||(ew=1,Np.exports=$M()),Np.exports}var c=qM(),jp={exports:{}},Le={};var tw;function GM(){if(tw)return Le;tw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function j(D,Q,M){this.props=D,this.context=Q,this.refs=C,this.updater=M||w}j.prototype.isReactComponent={},j.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=j.prototype;function _(D,Q,M){this.props=D,this.context=Q,this.refs=C,this.updater=M||w}var A=_.prototype=new E;A.constructor=_,S(A,j.prototype),A.isPureReactComponent=!0;var O=Array.isArray;function z(){}var F={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function $(D,Q,M){var ne=M.ref;return{$$typeof:t,type:D,key:Q,ref:ne!==void 0?ne:null,props:M}}function L(D,Q){return $(D.type,Q,D.props)}function q(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function J(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(M){return Q[M]})}var de=/\/+/g;function se(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?J(""+D.key):Q.toString(36)}function te(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(z,z):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function B(D,Q,M,ne,ue){var H=typeof D;(H==="undefined"||H==="boolean")&&(D=null);var ce=!1;if(D===null)ce=!0;else switch(H){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(D.$$typeof){case t:case e:ce=!0;break;case p:return ce=D._init,B(ce(D._payload),Q,M,ne,ue)}}if(ce)return ue=ue(D),ce=ne===""?"."+se(D,0):ne,O(ue)?(M="",ce!=null&&(M=ce.replace(de,"$&/")+"/"),B(ue,Q,M,"",function(tt){return tt})):ue!=null&&(q(ue)&&(ue=L(ue,M+(ue.key==null||D&&D.key===ue.key?"":(""+ue.key).replace(de,"$&/")+"/")+ce)),Q.push(ue)),1;ce=0;var ve=ne===""?".":ne+":";if(O(D))for(var Ae=0;Ae<D.length;Ae++)ne=D[Ae],H=ve+se(ne,Ae),ce+=B(ne,Q,M,H,ue);else if(Ae=v(D),typeof Ae=="function")for(D=Ae.call(D),Ae=0;!(ne=D.next()).done;)ne=ne.value,H=ve+se(ne,Ae++),ce+=B(ne,Q,M,H,ue);else if(H==="object"){if(typeof D.then=="function")return B(te(D),Q,M,ne,ue);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Y(D,Q,M){if(D==null)return D;var ne=[],ue=0;return B(D,ne,"","",function(H){return Q.call(M,H,ue++)}),ne}function V(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(M){(D._status===0||D._status===-1)&&(D._status=1,D._result=M)},function(M){(D._status===0||D._status===-1)&&(D._status=2,D._result=M)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},T={map:Y,forEach:function(D,Q,M){Y(D,function(){Q.apply(this,arguments)},M)},count:function(D){var Q=0;return Y(D,function(){Q++}),Q},toArray:function(D){return Y(D,function(Q){return Q})||[]},only:function(D){if(!q(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Le.Activity=g,Le.Children=T,Le.Component=j,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=_,Le.StrictMode=r,Le.Suspense=h,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Le.__COMPILER_RUNTIME={__proto__:null,c:function(D){return F.H.useMemoCache(D)}},Le.cache=function(D){return function(){return D.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(D,Q,M){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=S({},D.props),ue=D.key;if(Q!=null)for(H in Q.key!==void 0&&(ue=""+Q.key),Q)!P.call(Q,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&Q.ref===void 0||(ne[H]=Q[H]);var H=arguments.length-2;if(H===1)ne.children=M;else if(1<H){for(var ce=Array(H),ve=0;ve<H;ve++)ce[ve]=arguments[ve+2];ne.children=ce}return $(D.type,ue,ne)},Le.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},Le.createElement=function(D,Q,M){var ne,ue={},H=null;if(Q!=null)for(ne in Q.key!==void 0&&(H=""+Q.key),Q)P.call(Q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ue[ne]=Q[ne]);var ce=arguments.length-2;if(ce===1)ue.children=M;else if(1<ce){for(var ve=Array(ce),Ae=0;Ae<ce;Ae++)ve[Ae]=arguments[Ae+2];ue.children=ve}if(D&&D.defaultProps)for(ne in ce=D.defaultProps,ce)ue[ne]===void 0&&(ue[ne]=ce[ne]);return $(D,H,ue)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(D){return{$$typeof:u,render:D}},Le.isValidElement=q,Le.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:V}},Le.memo=function(D,Q){return{$$typeof:f,type:D,compare:Q===void 0?null:Q}},Le.startTransition=function(D){var Q=F.T,M={};F.T=M;try{var ne=D(),ue=F.S;ue!==null&&ue(M,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(z,ge)}catch(H){ge(H)}finally{Q!==null&&M.types!==null&&(Q.types=M.types),F.T=Q}},Le.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Le.use=function(D){return F.H.use(D)},Le.useActionState=function(D,Q,M){return F.H.useActionState(D,Q,M)},Le.useCallback=function(D,Q){return F.H.useCallback(D,Q)},Le.useContext=function(D){return F.H.useContext(D)},Le.useDebugValue=function(){},Le.useDeferredValue=function(D,Q){return F.H.useDeferredValue(D,Q)},Le.useEffect=function(D,Q){return F.H.useEffect(D,Q)},Le.useEffectEvent=function(D){return F.H.useEffectEvent(D)},Le.useId=function(){return F.H.useId()},Le.useImperativeHandle=function(D,Q,M){return F.H.useImperativeHandle(D,Q,M)},Le.useInsertionEffect=function(D,Q){return F.H.useInsertionEffect(D,Q)},Le.useLayoutEffect=function(D,Q){return F.H.useLayoutEffect(D,Q)},Le.useMemo=function(D,Q){return F.H.useMemo(D,Q)},Le.useOptimistic=function(D,Q){return F.H.useOptimistic(D,Q)},Le.useReducer=function(D,Q,M){return F.H.useReducer(D,Q,M)},Le.useRef=function(D){return F.H.useRef(D)},Le.useState=function(D){return F.H.useState(D)},Le.useSyncExternalStore=function(D,Q,M){return F.H.useSyncExternalStore(D,Q,M)},Le.useTransition=function(){return F.H.useTransition()},Le.version="19.2.1",Le}var nw;function Eh(){return nw||(nw=1,jp.exports=GM()),jp.exports}var N=Eh();const ye=kh(N),Ax=VM({__proto__:null,default:ye},[N]);var Cp={exports:{}},Ko={},kp={exports:{}},Ep={};var rw;function YM(){return rw||(rw=1,(function(t){function e(B,Y){var V=B.length;B.push(Y);e:for(;0<V;){var ge=V-1>>>1,T=B[ge];if(0<i(T,Y))B[ge]=Y,B[V]=T,V=ge;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],V=B.pop();if(V!==Y){B[0]=V;e:for(var ge=0,T=B.length,D=T>>>1;ge<D;){var Q=2*(ge+1)-1,M=B[Q],ne=Q+1,ue=B[ne];if(0>i(M,V))ne<T&&0>i(ue,M)?(B[ge]=ue,B[ne]=V,ge=ne):(B[ge]=M,B[Q]=V,ge=Q);else if(ne<T&&0>i(ue,V))B[ge]=ue,B[ne]=V,ge=ne;else break e}}return Y}function i(B,Y){var V=B.sortIndex-Y.sortIndex;return V!==0?V:B.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],f=[],p=1,g=null,x=3,v=!1,w=!1,S=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=B)r(f),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=n(f)}}function O(B){if(S=!1,A(B),!w)if(n(h)!==null)w=!0,z||(z=!0,J());else{var Y=n(f);Y!==null&&te(O,Y.startTime-B)}}var z=!1,F=-1,P=5,$=-1;function L(){return C?!0:!(t.unstable_now()-$<P)}function q(){if(C=!1,z){var B=t.unstable_now();$=B;var Y=!0;try{e:{w=!1,S&&(S=!1,E(F),F=-1),v=!0;var V=x;try{t:{for(A(B),g=n(h);g!==null&&!(g.expirationTime>B&&L());){var ge=g.callback;if(typeof ge=="function"){g.callback=null,x=g.priorityLevel;var T=ge(g.expirationTime<=B);if(B=t.unstable_now(),typeof T=="function"){g.callback=T,A(B),Y=!0;break t}g===n(h)&&r(h),A(B)}else r(h);g=n(h)}if(g!==null)Y=!0;else{var D=n(f);D!==null&&te(O,D.startTime-B),Y=!1}}break e}finally{g=null,x=V,v=!1}Y=void 0}}finally{Y?J():z=!1}}}var J;if(typeof _=="function")J=function(){_(q)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,se=de.port2;de.port1.onmessage=q,J=function(){se.postMessage(null)}}else J=function(){j(q,0)};function te(B,Y){F=j(function(){B(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(B){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var V=x;x=Y;try{return B()}finally{x=V}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=x;x=B;try{return Y()}finally{x=V}},t.unstable_scheduleCallback=function(B,Y,V){var ge=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ge+V:ge):V=ge,B){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=V+T,B={id:p++,callback:Y,priorityLevel:B,startTime:V,expirationTime:T,sortIndex:-1},V>ge?(B.sortIndex=V,e(f,B),n(h)===null&&B===n(f)&&(S?(E(F),F=-1):S=!0,te(O,V-ge))):(B.sortIndex=T,e(h,B),w||v||(w=!0,z||(z=!0,J()))),B},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(B){var Y=x;return function(){var V=x;x=Y;try{return B.apply(this,arguments)}finally{x=V}}}})(Ep)),Ep}var iw;function QM(){return iw||(iw=1,kp.exports=YM()),kp.exports}var _p={exports:{}},vn={};var sw;function WM(){if(sw)return vn;sw=1;var t=Eh();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(h,f,null,p)},vn.flushSync=function(h){var f=o.T,p=r.p;try{if(o.T=null,r.p=2,h)return h()}finally{o.T=f,r.p=p,r.d.f()}},vn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},vn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},vn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:v}):p==="script"&&r.d.X(h,{crossOrigin:g,integrity:x,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},vn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},vn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},vn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},vn.requestFormReset=function(h){r.d.r(h)},vn.unstable_batchedUpdates=function(h,f){return h(f)},vn.useFormState=function(h,f,p){return o.H.useFormState(h,f,p)},vn.useFormStatus=function(){return o.H.useHostTransitionStatus()},vn.version="19.2.1",vn}var aw;function Ej(){if(aw)return _p.exports;aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_p.exports=WM(),_p.exports}var lw;function KM(){if(lw)return Ko;lw=1;var t=QM(),e=Eh(),n=Ej();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,m=l;;){var y=d.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===d)return h(y),s;if(b===m)return h(y),l;b=b.sibling}throw Error(r(188))}if(d.return!==m.return)d=y,m=b;else{for(var k=!1,R=y.child;R;){if(R===d){k=!0,d=y,m=b;break}if(R===m){k=!0,m=y,d=b;break}R=R.sibling}if(!k){for(R=b.child;R;){if(R===d){k=!0,d=b,m=y;break}if(R===m){k=!0,m=b,d=y;break}R=R.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var de=Symbol.for("react.client.reference");function se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===de?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case j:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case z:return"SuspenseList";case $:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case _:return s.displayName||"Context";case E:return(s._context.displayName||"Context")+".Consumer";case A:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return l=s.displayName||null,l!==null?l:se(s.type)||"Memo";case P:l=s._payload,s=s._init;try{return se(s(l))}catch{}}return null}var te=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ge=[],T=-1;function D(s){return{current:s}}function Q(s){0>T||(s.current=ge[T],ge[T]=null,T--)}function M(s,l){T++,ge[T]=s.current,s.current=l}var ne=D(null),ue=D(null),H=D(null),ce=D(null);function ve(s,l){switch(M(H,l),M(ue,s),M(ne,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?S1(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=S1(l),s=N1(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Q(ne),M(ne,s)}function Ae(){Q(ne),Q(ue),Q(H)}function tt(s){s.memoizedState!==null&&M(ce,s);var l=ne.current,d=N1(l,s.type);l!==d&&(M(ue,s),M(ne,d))}function dt(s){ue.current===s&&(Q(ne),Q(ue)),ce.current===s&&(Q(ce),qo._currentValue=V)}var Nt,Jn;function rn(s){if(Nt===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Nt=l&&l[1]||"",Jn=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+s+Jn}var oe=!1;function ke(s,l){if(!s||oe)return"";oe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var X=ee}Reflect.construct(s,[],le)}else{try{le.call()}catch(ee){X=ee}s.call(le.prototype)}}else{try{throw Error()}catch(ee){X=ee}(le=s())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),k=b[0],R=b[1];if(k&&R){var I=k.split(`
`),K=R.split(`
`);for(y=m=0;m<I.length&&!I[m].includes("DetermineComponentFrameRoot");)m++;for(;y<K.length&&!K[y].includes("DetermineComponentFrameRoot");)y++;if(m===I.length||y===K.length)for(m=I.length-1,y=K.length-1;1<=m&&0<=y&&I[m]!==K[y];)y--;for(;1<=m&&0<=y;m--,y--)if(I[m]!==K[y]){if(m!==1||y!==1)do if(m--,y--,0>y||I[m]!==K[y]){var ie=`
`+I[m].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=m&&0<=y);break}}}finally{oe=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?rn(d):""}function vt(s,l){switch(s.tag){case 26:case 27:case 5:return rn(s.type);case 16:return rn("Lazy");case 13:return s.child!==l&&l!==null?rn("Suspense Fallback"):rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return ke(s.type,!1);case 11:return ke(s.type.render,!1);case 1:return ke(s.type,!0);case 31:return rn("Activity");default:return""}}function Zn(s){try{var l="",d=null;do l+=vt(s,d),d=s,s=s.return;while(s);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Rt=Object.prototype.hasOwnProperty,gr=t.unstable_scheduleCallback,Wr=t.unstable_cancelCallback,ft=t.unstable_shouldYield,An=t.unstable_requestPaint,Vt=t.unstable_now,Zi=t.unstable_getCurrentPriorityLevel,re=t.unstable_ImmediatePriority,fe=t.unstable_UserBlockingPriority,Ee=t.unstable_NormalPriority,Pe=t.unstable_LowPriority,Ve=t.unstable_IdlePriority,gn=t.log,xn=t.unstable_setDisableYieldValue,sn=null,Mt=null;function an(s){if(typeof gn=="function"&&xn(s),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(sn,s)}catch{}}var nt=Math.clz32?Math.clz32:Xr,Kr=Math.log,kn=Math.LN2;function Xr(s){return s>>>=0,s===0?32:31-(Kr(s)/kn|0)|0}var Ma=256,Aa=262144,Us=4194304;function Jr(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function De(s,l,d){var m=s.pendingLanes;if(m===0)return 0;var y=0,b=s.suspendedLanes,k=s.pingedLanes;s=s.warmLanes;var R=m&134217727;return R!==0?(m=R&~b,m!==0?y=Jr(m):(k&=R,k!==0?y=Jr(k):d||(d=R&~s,d!==0&&(y=Jr(d))))):(R=m&~b,R!==0?y=Jr(R):k!==0?y=Jr(k):d||(d=m&~s,d!==0&&(y=Jr(d)))),y===0?0:l!==0&&l!==y&&(l&b)===0&&(b=y&-y,d=l&-l,b>=d||b===32&&(d&4194048)!==0)?l:y}function bt(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Kt(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yn(){var s=Us;return Us<<=1,(Us&62914560)===0&&(Us=4194304),s}function es(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function jt(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Tn(s,l,d,m,y,b){var k=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var R=s.entanglements,I=s.expirationTimes,K=s.hiddenUpdates;for(d=k&~d;0<d;){var ie=31-nt(d),le=1<<ie;R[ie]=0,I[ie]=-1;var X=K[ie];if(X!==null)for(K[ie]=null,ie=0;ie<X.length;ie++){var ee=X[ie];ee!==null&&(ee.lane&=-536870913)}d&=~le}m!==0&&Hs(s,m,0),b!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=b&~(k&~l))}function Hs(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-nt(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|d&261930}function zn(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var m=31-nt(d),y=1<<m;y&l|s[m]&l&&(s[m]|=l),d&=~y}}function On(s,l){var d=l&-l;return d=(d&42)!==0?1:Ta(d),(d&(s.suspendedLanes|l))!==0?0:d}function Ta(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Pr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ff(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:G1(s.type))}function oy(s,l){var d=Y.p;try{return Y.p=s,l()}finally{Y.p=d}}var ts=Math.random().toString(36).slice(2),ln="__reactFiber$"+ts,Dn="__reactProps$"+ts,za="__reactContainer$"+ts,mf="__reactEvents$"+ts,T_="__reactListeners$"+ts,z_="__reactHandles$"+ts,cy="__reactResources$"+ts,so="__reactMarker$"+ts;function pf(s){delete s[ln],delete s[Dn],delete s[mf],delete s[T_],delete s[z_]}function Oa(s){var l=s[ln];if(l)return l;for(var d=s.parentNode;d;){if(l=d[za]||d[ln]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=M1(s);s!==null;){if(d=s[ln])return d;s=M1(s)}return l}s=d,d=s.parentNode}return null}function Da(s){if(s=s[ln]||s[za]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function ao(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Pa(s){var l=s[cy];return l||(l=s[cy]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Xt(s){s[so]=!0}var uy=new Set,dy={};function Vs(s,l){La(s,l),La(s+"Capture",l)}function La(s,l){for(dy[s]=l,s=0;s<l.length;s++)uy.add(l[s])}var O_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hy={},fy={};function D_(s){return Rt.call(fy,s)?!0:Rt.call(hy,s)?!1:O_.test(s)?fy[s]=!0:(hy[s]=!0,!1)}function Wc(s,l,d){if(D_(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function Kc(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function ji(s,l,d,m){if(m===null)s.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+m)}}function xr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function my(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function P_(s,l,d){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,b=m.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return y.call(this)},set:function(k){d=""+k,b.call(this,k)}}),Object.defineProperty(s,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function gf(s){if(!s._valueTracker){var l=my(s)?"checked":"value";s._valueTracker=P_(s,l,""+s[l])}}function py(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return s&&(m=my(s)?s.checked?"true":"false":s.value),s=m,s!==d?(l.setValue(s),!0):!1}function Xc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var L_=/[\n"\\]/g;function yr(s){return s.replace(L_,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xf(s,l,d,m,y,b,k,R){s.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.type=k:s.removeAttribute("type"),l!=null?k==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+xr(l)):s.value!==""+xr(l)&&(s.value=""+xr(l)):k!=="submit"&&k!=="reset"||s.removeAttribute("value"),l!=null?yf(s,k,xr(l)):d!=null?yf(s,k,xr(d)):m!=null&&s.removeAttribute("value"),y==null&&b!=null&&(s.defaultChecked=!!b),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+xr(R):s.removeAttribute("name")}function gy(s,l,d,m,y,b,k,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),l!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){gf(s);return}d=d!=null?""+xr(d):"",l=l!=null?""+xr(l):d,R||l===s.value||(s.value=l),s.defaultValue=l}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=R?s.checked:!!m,s.defaultChecked=!!m,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.name=k),gf(s)}function yf(s,l,d){l==="number"&&Xc(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function Fa(s,l,d,m){if(s=s.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<s.length;d++)y=l.hasOwnProperty("$"+s[d].value),s[d].selected!==y&&(s[d].selected=y),y&&m&&(s[d].defaultSelected=!0)}else{for(d=""+xr(d),l=null,y=0;y<s.length;y++){if(s[y].value===d){s[y].selected=!0,m&&(s[y].defaultSelected=!0);return}l!==null||s[y].disabled||(l=s[y])}l!==null&&(l.selected=!0)}}function xy(s,l,d){if(l!=null&&(l=""+xr(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+xr(d):""}function yy(s,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(te(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=xr(l),s.defaultValue=d,m=s.textContent,m===d&&m!==""&&m!==null&&(s.value=m),gf(s)}function Ba(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var F_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vy(s,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,d):typeof d!="number"||d===0||F_.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function by(s,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var y in l)m=l[y],l.hasOwnProperty(y)&&d[y]!==m&&vy(s,y,m)}else for(var b in l)l.hasOwnProperty(b)&&vy(s,b,l[b])}function vf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),I_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(s){return I_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ci(){}var bf=null;function wf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ia=null,Ua=null;function wy(s){var l=Da(s);if(l&&(s=l.stateNode)){var d=s[Dn]||null;e:switch(s=l.stateNode,l.type){case"input":if(xf(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+yr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==s&&m.form===s.form){var y=m[Dn]||null;if(!y)throw Error(r(90));xf(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===s.form&&py(m)}break e;case"textarea":xy(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Fa(s,!!d.multiple,l,!1)}}}var Sf=!1;function Sy(s,l,d){if(Sf)return s(l,d);Sf=!0;try{var m=s(l);return m}finally{if(Sf=!1,(Ia!==null||Ua!==null)&&(Bu(),Ia&&(l=Ia,s=Ua,Ua=Ia=null,wy(l),s)))for(l=0;l<s.length;l++)wy(s[l])}}function lo(s,l){var d=s.stateNode;if(d===null)return null;var m=d[Dn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=!1;if(ki)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Nf=!1}var ns=null,jf=null,Zc=null;function Ny(){if(Zc)return Zc;var s,l=jf,d=l.length,m,y="value"in ns?ns.value:ns.textContent,b=y.length;for(s=0;s<d&&l[s]===y[s];s++);var k=d-s;for(m=1;m<=k&&l[d-m]===y[b-m];m++);return Zc=y.slice(s,1<m?1-m:void 0)}function eu(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function tu(){return!0}function jy(){return!1}function Pn(s){function l(d,m,y,b,k){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(d=s[R],this[R]=d?d(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?tu:jy,this.isPropagationStopped=jy,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),l}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=Pn($s),co=g({},$s,{view:0,detail:0}),U_=Pn(co),Cf,kf,uo,ru=g({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==uo&&(uo&&s.type==="mousemove"?(Cf=s.screenX-uo.screenX,kf=s.screenY-uo.screenY):kf=Cf=0,uo=s),Cf)},movementY:function(s){return"movementY"in s?s.movementY:kf}}),Cy=Pn(ru),H_=g({},ru,{dataTransfer:0}),V_=Pn(H_),$_=g({},co,{relatedTarget:0}),Ef=Pn($_),q_=g({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),G_=Pn(q_),Y_=g({},$s,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Q_=Pn(Y_),W_=g({},$s,{data:0}),ky=Pn(W_),K_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z_(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=J_[s])?!!l[s]:!1}function _f(){return Z_}var eR=g({},co,{key:function(s){if(s.key){var l=K_[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=eu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?X_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(s){return s.type==="keypress"?eu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?eu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tR=Pn(eR),nR=g({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ey=Pn(nR),rR=g({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),iR=Pn(rR),sR=g({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),aR=Pn(sR),lR=g({},ru,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oR=Pn(lR),cR=g({},$s,{newState:0,oldState:0}),uR=Pn(cR),dR=[9,13,27,32],Rf=ki&&"CompositionEvent"in window,ho=null;ki&&"documentMode"in document&&(ho=document.documentMode);var hR=ki&&"TextEvent"in window&&!ho,_y=ki&&(!Rf||ho&&8<ho&&11>=ho),Ry=" ",My=!1;function Ay(s,l){switch(s){case"keyup":return dR.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ha=!1;function fR(s,l){switch(s){case"compositionend":return Ty(l);case"keypress":return l.which!==32?null:(My=!0,Ry);case"textInput":return s=l.data,s===Ry&&My?null:s;default:return null}}function mR(s,l){if(Ha)return s==="compositionend"||!Rf&&Ay(s,l)?(s=Ny(),Zc=jf=ns=null,Ha=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return _y&&l.locale!=="ko"?null:l.data;default:return null}}var pR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!pR[s.type]:l==="textarea"}function Oy(s,l,d,m){Ia?Ua?Ua.push(m):Ua=[m]:Ia=m,l=Gu(l,"onChange"),0<l.length&&(d=new nu("onChange","change",null,d,m),s.push({event:d,listeners:l}))}var fo=null,mo=null;function gR(s){g1(s,0)}function iu(s){var l=ao(s);if(py(l))return s}function Dy(s,l){if(s==="change")return l}var Py=!1;if(ki){var Mf;if(ki){var Af="oninput"in document;if(!Af){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),Af=typeof Ly.oninput=="function"}Mf=Af}else Mf=!1;Py=Mf&&(!document.documentMode||9<document.documentMode)}function Fy(){fo&&(fo.detachEvent("onpropertychange",By),mo=fo=null)}function By(s){if(s.propertyName==="value"&&iu(mo)){var l=[];Oy(l,mo,s,wf(s)),Sy(gR,l)}}function xR(s,l,d){s==="focusin"?(Fy(),fo=l,mo=d,fo.attachEvent("onpropertychange",By)):s==="focusout"&&Fy()}function yR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return iu(mo)}function vR(s,l){if(s==="click")return iu(l)}function bR(s,l){if(s==="input"||s==="change")return iu(l)}function wR(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var er=typeof Object.is=="function"?Object.is:wR;function po(s,l){if(er(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!Rt.call(l,y)||!er(s[y],l[y]))return!1}return!0}function Iy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Uy(s,l){var d=Iy(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=l&&m>=l)return{node:d,offset:l-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Iy(d)}}function Hy(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Hy(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Vy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Xc(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=Xc(s.document)}return l}function Tf(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var SR=ki&&"documentMode"in document&&11>=document.documentMode,Va=null,zf=null,go=null,Of=!1;function $y(s,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Of||Va==null||Va!==Xc(m)||(m=Va,"selectionStart"in m&&Tf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),go&&po(go,m)||(go=m,m=Gu(zf,"onSelect"),0<m.length&&(l=new nu("onSelect","select",null,l,d),s.push({event:l,listeners:m}),l.target=Va)))}function qs(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var $a={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Df={},qy={};ki&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Gs(s){if(Df[s])return Df[s];if(!$a[s])return s;var l=$a[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in qy)return Df[s]=l[d];return s}var Gy=Gs("animationend"),Yy=Gs("animationiteration"),Qy=Gs("animationstart"),NR=Gs("transitionrun"),jR=Gs("transitionstart"),CR=Gs("transitioncancel"),Wy=Gs("transitionend"),Ky=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function Lr(s,l){Ky.set(s,l),Vs(l,[s])}var su=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},vr=[],qa=0,Lf=0;function au(){for(var s=qa,l=Lf=qa=0;l<s;){var d=vr[l];vr[l++]=null;var m=vr[l];vr[l++]=null;var y=vr[l];vr[l++]=null;var b=vr[l];if(vr[l++]=null,m!==null&&y!==null){var k=m.pending;k===null?y.next=y:(y.next=k.next,k.next=y),m.pending=y}b!==0&&Xy(d,y,b)}}function lu(s,l,d,m){vr[qa++]=s,vr[qa++]=l,vr[qa++]=d,vr[qa++]=m,Lf|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Ff(s,l,d,m){return lu(s,l,d,m),ou(s)}function Ys(s,l){return lu(s,null,null,l),ou(s)}function Xy(s,l,d){s.lanes|=d;var m=s.alternate;m!==null&&(m.lanes|=d);for(var y=!1,b=s.return;b!==null;)b.childLanes|=d,m=b.alternate,m!==null&&(m.childLanes|=d),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(y=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,y&&l!==null&&(y=31-nt(d),s=b.hiddenUpdates,m=s[y],m===null?s[y]=[l]:m.push(l),l.lane=d|536870912),b):null}function ou(s){if(50<Fo)throw Fo=0,Ym=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Ga={};function kR(s,l,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(s,l,d,m){return new kR(s,l,d,m)}function Bf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ei(s,l){var d=s.alternate;return d===null?(d=tr(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Jy(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function cu(s,l,d,m,y,b){var k=0;if(m=s,typeof s=="function")Bf(s)&&(k=1);else if(typeof s=="string")k=AM(s,d,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case $:return s=tr(31,d,l,y),s.elementType=$,s.lanes=b,s;case S:return Qs(d.children,y,b,l);case C:k=8,y|=24;break;case j:return s=tr(12,d,l,y|2),s.elementType=j,s.lanes=b,s;case O:return s=tr(13,d,l,y),s.elementType=O,s.lanes=b,s;case z:return s=tr(19,d,l,y),s.elementType=z,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:k=10;break e;case E:k=9;break e;case A:k=11;break e;case F:k=14;break e;case P:k=16,m=null;break e}k=29,d=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=tr(k,d,l,y),l.elementType=s,l.type=m,l.lanes=b,l}function Qs(s,l,d,m){return s=tr(7,s,m,l),s.lanes=d,s}function If(s,l,d){return s=tr(6,s,null,l),s.lanes=d,s}function Zy(s){var l=tr(18,null,null,0);return l.stateNode=s,l}function Uf(s,l,d){return l=tr(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var ev=new WeakMap;function br(s,l){if(typeof s=="object"&&s!==null){var d=ev.get(s);return d!==void 0?d:(l={value:s,source:l,stack:Zn(l)},ev.set(s,l),l)}return{value:s,source:l,stack:Zn(l)}}var Ya=[],Qa=0,uu=null,xo=0,wr=[],Sr=0,rs=null,Zr=1,ei="";function _i(s,l){Ya[Qa++]=xo,Ya[Qa++]=uu,uu=s,xo=l}function tv(s,l,d){wr[Sr++]=Zr,wr[Sr++]=ei,wr[Sr++]=rs,rs=s;var m=Zr;s=ei;var y=32-nt(m)-1;m&=~(1<<y),d+=1;var b=32-nt(l)+y;if(30<b){var k=y-y%5;b=(m&(1<<k)-1).toString(32),m>>=k,y-=k,Zr=1<<32-nt(l)+y|d<<y|m,ei=b+s}else Zr=1<<b|d<<y|m,ei=s}function Hf(s){s.return!==null&&(_i(s,1),tv(s,1,0))}function Vf(s){for(;s===uu;)uu=Ya[--Qa],Ya[Qa]=null,xo=Ya[--Qa],Ya[Qa]=null;for(;s===rs;)rs=wr[--Sr],wr[Sr]=null,ei=wr[--Sr],wr[Sr]=null,Zr=wr[--Sr],wr[Sr]=null}function nv(s,l){wr[Sr++]=Zr,wr[Sr++]=ei,wr[Sr++]=rs,Zr=l.id,ei=l.overflow,rs=s}var on=null,mt=null,Ke=!1,is=null,Nr=!1,$f=Error(r(519));function ss(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yo(br(l,s)),$f}function rv(s){var l=s.stateNode,d=s.type,m=s.memoizedProps;switch(l[ln]=s,l[Dn]=m,d){case"dialog":Ge("cancel",l),Ge("close",l);break;case"iframe":case"object":case"embed":Ge("load",l);break;case"video":case"audio":for(d=0;d<Io.length;d++)Ge(Io[d],l);break;case"source":Ge("error",l);break;case"img":case"image":case"link":Ge("error",l),Ge("load",l);break;case"details":Ge("toggle",l);break;case"input":Ge("invalid",l),gy(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ge("invalid",l);break;case"textarea":Ge("invalid",l),yy(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||b1(l.textContent,d)?(m.popover!=null&&(Ge("beforetoggle",l),Ge("toggle",l)),m.onScroll!=null&&Ge("scroll",l),m.onScrollEnd!=null&&Ge("scrollend",l),m.onClick!=null&&(l.onclick=Ci),l=!0):l=!1,l||ss(s,!0)}function iv(s){for(on=s.return;on;)switch(on.tag){case 5:case 31:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:on=on.return}}function Wa(s){if(s!==on)return!1;if(!Ke)return iv(s),Ke=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||op(s.type,s.memoizedProps)),d=!d),d&&mt&&ss(s),iv(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));mt=R1(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));mt=R1(s)}else l===27?(l=mt,vs(s.type)?(s=fp,fp=null,mt=s):mt=l):mt=on?Cr(s.stateNode.nextSibling):null;return!0}function Ws(){mt=on=null,Ke=!1}function qf(){var s=is;return s!==null&&(In===null?In=s:In.push.apply(In,s),is=null),s}function yo(s){is===null?is=[s]:is.push(s)}var Gf=D(null),Ks=null,Ri=null;function as(s,l,d){M(Gf,l._currentValue),l._currentValue=d}function Mi(s){s._currentValue=Gf.current,Q(Gf)}function Yf(s,l,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===d)break;s=s.return}}function Qf(s,l,d,m){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){var k=y.child;b=b.firstContext;e:for(;b!==null;){var R=b;b=y;for(var I=0;I<l.length;I++)if(R.context===l[I]){b.lanes|=d,R=b.alternate,R!==null&&(R.lanes|=d),Yf(b.return,d,s),m||(k=null);break e}b=R.next}}else if(y.tag===18){if(k=y.return,k===null)throw Error(r(341));k.lanes|=d,b=k.alternate,b!==null&&(b.lanes|=d),Yf(k,d,s),k=null}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===s){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}}function Ka(s,l,d,m){s=null;for(var y=l,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var k=y.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var R=y.type;er(y.pendingProps.value,k.value)||(s!==null?s.push(R):s=[R])}}else if(y===ce.current){if(k=y.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(qo):s=[qo])}y=y.return}s!==null&&Qf(l,s,d,m),l.flags|=262144}function du(s){for(s=s.firstContext;s!==null;){if(!er(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xs(s){Ks=s,Ri=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cn(s){return sv(Ks,s)}function hu(s,l){return Ks===null&&Xs(s),sv(s,l)}function sv(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ri===null){if(s===null)throw Error(r(308));Ri=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ri=Ri.next=l;return d}var ER=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},_R=t.unstable_scheduleCallback,RR=t.unstable_NormalPriority,Pt={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new ER,data:new Map,refCount:0}}function vo(s){s.refCount--,s.refCount===0&&_R(RR,function(){s.controller.abort()})}var bo=null,Kf=0,Xa=0,Ja=null;function MR(s,l){if(bo===null){var d=bo=[];Kf=0,Xa=Zm(),Ja={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Kf++,l.then(av,av),l}function av(){if(--Kf===0&&bo!==null){Ja!==null&&(Ja.status="fulfilled");var s=bo;bo=null,Xa=0,Ja=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function AR(s,l){var d=[],m={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var y=0;y<d.length;y++)(0,d[y])(l)},function(y){for(m.status="rejected",m.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),m}var lv=B.S;B.S=function(s,l){$b=Vt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&MR(s,l),lv!==null&&lv(s,l)};var Js=D(null);function Xf(){var s=Js.current;return s!==null?s:ot.pooledCache}function fu(s,l){l===null?M(Js,Js.current):M(Js,l.pool)}function ov(){var s=Xf();return s===null?null:{parent:Pt._currentValue,pool:s}}var Za=Error(r(460)),Jf=Error(r(474)),mu=Error(r(542)),pu={then:function(){}};function cv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function uv(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Ci,Ci),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,hv(s),s;default:if(typeof l.status=="string")l.then(Ci,Ci);else{if(s=ot,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=m}},function(m){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,hv(s),s}throw ea=l,Za}}function Zs(s){try{var l=s._init;return l(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ea=d,Za):d}}var ea=null;function dv(){if(ea===null)throw Error(r(459));var s=ea;return ea=null,s}function hv(s){if(s===Za||s===mu)throw Error(r(483))}var el=null,wo=0;function gu(s){var l=wo;return wo+=1,el===null&&(el=[]),uv(el,s,l)}function So(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function xu(s,l){throw l.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function fv(s){function l(G,U){if(s){var W=G.deletions;W===null?(G.deletions=[U],G.flags|=16):W.push(U)}}function d(G,U){if(!s)return null;for(;U!==null;)l(G,U),U=U.sibling;return null}function m(G){for(var U=new Map;G!==null;)G.key!==null?U.set(G.key,G):U.set(G.index,G),G=G.sibling;return U}function y(G,U){return G=Ei(G,U),G.index=0,G.sibling=null,G}function b(G,U,W){return G.index=W,s?(W=G.alternate,W!==null?(W=W.index,W<U?(G.flags|=67108866,U):W):(G.flags|=67108866,U)):(G.flags|=1048576,U)}function k(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function R(G,U,W,ae){return U===null||U.tag!==6?(U=If(W,G.mode,ae),U.return=G,U):(U=y(U,W),U.return=G,U)}function I(G,U,W,ae){var _e=W.type;return _e===S?ie(G,U,W.props.children,ae,W.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===P&&Zs(_e)===U.type)?(U=y(U,W.props),So(U,W),U.return=G,U):(U=cu(W.type,W.key,W.props,null,G.mode,ae),So(U,W),U.return=G,U)}function K(G,U,W,ae){return U===null||U.tag!==4||U.stateNode.containerInfo!==W.containerInfo||U.stateNode.implementation!==W.implementation?(U=Uf(W,G.mode,ae),U.return=G,U):(U=y(U,W.children||[]),U.return=G,U)}function ie(G,U,W,ae,_e){return U===null||U.tag!==7?(U=Qs(W,G.mode,ae,_e),U.return=G,U):(U=y(U,W),U.return=G,U)}function le(G,U,W){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=If(""+U,G.mode,W),U.return=G,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return W=cu(U.type,U.key,U.props,null,G.mode,W),So(W,U),W.return=G,W;case w:return U=Uf(U,G.mode,W),U.return=G,U;case P:return U=Zs(U),le(G,U,W)}if(te(U)||J(U))return U=Qs(U,G.mode,W,null),U.return=G,U;if(typeof U.then=="function")return le(G,gu(U),W);if(U.$$typeof===_)return le(G,hu(G,U),W);xu(G,U)}return null}function X(G,U,W,ae){var _e=U!==null?U.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return _e!==null?null:R(G,U,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return W.key===_e?I(G,U,W,ae):null;case w:return W.key===_e?K(G,U,W,ae):null;case P:return W=Zs(W),X(G,U,W,ae)}if(te(W)||J(W))return _e!==null?null:ie(G,U,W,ae,null);if(typeof W.then=="function")return X(G,U,gu(W),ae);if(W.$$typeof===_)return X(G,U,hu(G,W),ae);xu(G,W)}return null}function ee(G,U,W,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return G=G.get(W)||null,R(U,G,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return G=G.get(ae.key===null?W:ae.key)||null,I(U,G,ae,_e);case w:return G=G.get(ae.key===null?W:ae.key)||null,K(U,G,ae,_e);case P:return ae=Zs(ae),ee(G,U,W,ae,_e)}if(te(ae)||J(ae))return G=G.get(W)||null,ie(U,G,ae,_e,null);if(typeof ae.then=="function")return ee(G,U,W,gu(ae),_e);if(ae.$$typeof===_)return ee(G,U,W,hu(U,ae),_e);xu(U,ae)}return null}function be(G,U,W,ae){for(var _e=null,Je=null,Ce=U,Ue=U=0,We=null;Ce!==null&&Ue<W.length;Ue++){Ce.index>Ue?(We=Ce,Ce=null):We=Ce.sibling;var Ze=X(G,Ce,W[Ue],ae);if(Ze===null){Ce===null&&(Ce=We);break}s&&Ce&&Ze.alternate===null&&l(G,Ce),U=b(Ze,U,Ue),Je===null?_e=Ze:Je.sibling=Ze,Je=Ze,Ce=We}if(Ue===W.length)return d(G,Ce),Ke&&_i(G,Ue),_e;if(Ce===null){for(;Ue<W.length;Ue++)Ce=le(G,W[Ue],ae),Ce!==null&&(U=b(Ce,U,Ue),Je===null?_e=Ce:Je.sibling=Ce,Je=Ce);return Ke&&_i(G,Ue),_e}for(Ce=m(Ce);Ue<W.length;Ue++)We=ee(Ce,G,Ue,W[Ue],ae),We!==null&&(s&&We.alternate!==null&&Ce.delete(We.key===null?Ue:We.key),U=b(We,U,Ue),Je===null?_e=We:Je.sibling=We,Je=We);return s&&Ce.forEach(function(js){return l(G,js)}),Ke&&_i(G,Ue),_e}function Me(G,U,W,ae){if(W==null)throw Error(r(151));for(var _e=null,Je=null,Ce=U,Ue=U=0,We=null,Ze=W.next();Ce!==null&&!Ze.done;Ue++,Ze=W.next()){Ce.index>Ue?(We=Ce,Ce=null):We=Ce.sibling;var js=X(G,Ce,Ze.value,ae);if(js===null){Ce===null&&(Ce=We);break}s&&Ce&&js.alternate===null&&l(G,Ce),U=b(js,U,Ue),Je===null?_e=js:Je.sibling=js,Je=js,Ce=We}if(Ze.done)return d(G,Ce),Ke&&_i(G,Ue),_e;if(Ce===null){for(;!Ze.done;Ue++,Ze=W.next())Ze=le(G,Ze.value,ae),Ze!==null&&(U=b(Ze,U,Ue),Je===null?_e=Ze:Je.sibling=Ze,Je=Ze);return Ke&&_i(G,Ue),_e}for(Ce=m(Ce);!Ze.done;Ue++,Ze=W.next())Ze=ee(Ce,G,Ue,Ze.value,ae),Ze!==null&&(s&&Ze.alternate!==null&&Ce.delete(Ze.key===null?Ue:Ze.key),U=b(Ze,U,Ue),Je===null?_e=Ze:Je.sibling=Ze,Je=Ze);return s&&Ce.forEach(function(HM){return l(G,HM)}),Ke&&_i(G,Ue),_e}function lt(G,U,W,ae){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case v:e:{for(var _e=W.key;U!==null;){if(U.key===_e){if(_e=W.type,_e===S){if(U.tag===7){d(G,U.sibling),ae=y(U,W.props.children),ae.return=G,G=ae;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===P&&Zs(_e)===U.type){d(G,U.sibling),ae=y(U,W.props),So(ae,W),ae.return=G,G=ae;break e}d(G,U);break}else l(G,U);U=U.sibling}W.type===S?(ae=Qs(W.props.children,G.mode,ae,W.key),ae.return=G,G=ae):(ae=cu(W.type,W.key,W.props,null,G.mode,ae),So(ae,W),ae.return=G,G=ae)}return k(G);case w:e:{for(_e=W.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===W.containerInfo&&U.stateNode.implementation===W.implementation){d(G,U.sibling),ae=y(U,W.children||[]),ae.return=G,G=ae;break e}else{d(G,U);break}else l(G,U);U=U.sibling}ae=Uf(W,G.mode,ae),ae.return=G,G=ae}return k(G);case P:return W=Zs(W),lt(G,U,W,ae)}if(te(W))return be(G,U,W,ae);if(J(W)){if(_e=J(W),typeof _e!="function")throw Error(r(150));return W=_e.call(W),Me(G,U,W,ae)}if(typeof W.then=="function")return lt(G,U,gu(W),ae);if(W.$$typeof===_)return lt(G,U,hu(G,W),ae);xu(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,U!==null&&U.tag===6?(d(G,U.sibling),ae=y(U,W),ae.return=G,G=ae):(d(G,U),ae=If(W,G.mode,ae),ae.return=G,G=ae),k(G)):d(G,U)}return function(G,U,W,ae){try{wo=0;var _e=lt(G,U,W,ae);return el=null,_e}catch(Ce){if(Ce===Za||Ce===mu)throw Ce;var Je=tr(29,Ce,null,G.mode);return Je.lanes=ae,Je.return=G,Je}finally{}}}var ta=fv(!0),mv=fv(!1),ls=!1;function Zf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function em(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function os(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function cs(s,l,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(et&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,l=ou(s),Xy(s,null,d),l}return lu(s,m,l,d),ou(s)}function No(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,d|=m,l.lanes=d,zn(s,d)}}function tm(s,l){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?y=b=k:b=b.next=k,d=d.next}while(d!==null);b===null?y=b=l:b=b.next=l}else y=b=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var nm=!1;function jo(){if(nm){var s=Ja;if(s!==null)throw s}}function Co(s,l,d,m){nm=!1;var y=s.updateQueue;ls=!1;var b=y.firstBaseUpdate,k=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var I=R,K=I.next;I.next=null,k===null?b=K:k.next=K,k=I;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==k&&(R===null?ie.firstBaseUpdate=K:R.next=K,ie.lastBaseUpdate=I))}if(b!==null){var le=y.baseState;k=0,ie=K=I=null,R=b;do{var X=R.lane&-536870913,ee=X!==R.lane;if(ee?(Qe&X)===X:(m&X)===X){X!==0&&X===Xa&&(nm=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var be=s,Me=R;X=l;var lt=d;switch(Me.tag){case 1:if(be=Me.payload,typeof be=="function"){le=be.call(lt,le,X);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Me.payload,X=typeof be=="function"?be.call(lt,le,X):be,X==null)break e;le=g({},le,X);break e;case 2:ls=!0}}X=R.callback,X!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=y.callbacks,ee===null?y.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(K=ie=ee,I=le):ie=ie.next=ee,k|=X;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(!0);ie===null&&(I=le),y.baseState=I,y.firstBaseUpdate=K,y.lastBaseUpdate=ie,b===null&&(y.shared.lanes=0),ms|=k,s.lanes=k,s.memoizedState=le}}function pv(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function gv(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)pv(d[s],l)}var tl=D(null),yu=D(0);function xv(s,l){s=Bi,M(yu,s),M(tl,l),Bi=s|l.baseLanes}function rm(){M(yu,Bi),M(tl,tl.current)}function im(){Bi=yu.current,Q(tl),Q(yu)}var nr=D(null),jr=null;function us(s){var l=s.alternate;M(At,At.current&1),M(nr,s),jr===null&&(l===null||tl.current!==null||l.memoizedState!==null)&&(jr=s)}function sm(s){M(At,At.current),M(nr,s),jr===null&&(jr=s)}function yv(s){s.tag===22?(M(At,At.current),M(nr,s),jr===null&&(jr=s)):ds()}function ds(){M(At,At.current),M(nr,nr.current)}function rr(s){Q(nr),jr===s&&(jr=null),Q(At)}var At=D(0);function vu(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||dp(d)||hp(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ai=0,Be=null,st=null,Lt=null,bu=!1,nl=!1,na=!1,wu=0,ko=0,rl=null,TR=0;function Ct(){throw Error(r(321))}function am(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!er(s[d],l[d]))return!1;return!0}function lm(s,l,d,m,y,b){return Ai=b,Be=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,B.H=s===null||s.memoizedState===null?tb:Sm,na=!1,b=d(m,y),na=!1,nl&&(b=bv(l,d,m,y)),vv(s),b}function vv(s){B.H=Ro;var l=st!==null&&st.next!==null;if(Ai=0,Lt=st=Be=null,bu=!1,ko=0,rl=null,l)throw Error(r(300));s===null||Ft||(s=s.dependencies,s!==null&&du(s)&&(Ft=!0))}function bv(s,l,d,m){Be=s;var y=0;do{if(nl&&(rl=null),ko=0,nl=!1,25<=y)throw Error(r(301));if(y+=1,Lt=st=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=nb,b=l(d,m)}while(nl);return b}function zR(){var s=B.H,l=s.useState()[0];return l=typeof l.then=="function"?Eo(l):l,s=s.useState()[0],(st!==null?st.memoizedState:null)!==s&&(Be.flags|=1024),l}function om(){var s=wu!==0;return wu=0,s}function cm(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function um(s){if(bu){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}bu=!1}Ai=0,Lt=st=Be=null,nl=!1,ko=wu=0,rl=null}function En(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Be.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Tt(){if(st===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var l=Lt===null?Be.memoizedState:Lt.next;if(l!==null)Lt=l,st=s;else{if(s===null)throw Be.alternate===null?Error(r(467)):Error(r(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Lt===null?Be.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(s){var l=ko;return ko+=1,rl===null&&(rl=[]),s=uv(rl,s,l),l=Be,(Lt===null?l.memoizedState:Lt.next)===null&&(l=l.alternate,B.H=l===null||l.memoizedState===null?tb:Sm),s}function Nu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Eo(s);if(s.$$typeof===_)return cn(s)}throw Error(r(438,String(s)))}function dm(s){var l=null,d=Be.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Be.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Su(),Be.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),m=0;m<s;m++)d[m]=L;return l.index++,d}function Ti(s,l){return typeof l=="function"?l(s):l}function ju(s){var l=Tt();return hm(l,st,s)}function hm(s,l,d){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var y=s.baseQueue,b=m.pending;if(b!==null){if(y!==null){var k=y.next;y.next=b.next,b.next=k}l.baseQueue=y=b,m.pending=null}if(b=s.baseState,y===null)s.memoizedState=b;else{l=y.next;var R=k=null,I=null,K=l,ie=!1;do{var le=K.lane&-536870913;if(le!==K.lane?(Qe&le)===le:(Ai&le)===le){var X=K.revertLane;if(X===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),le===Xa&&(ie=!0);else if((Ai&X)===X){K=K.next,X===Xa&&(ie=!0);continue}else le={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(R=I=le,k=b):I=I.next=le,Be.lanes|=X,ms|=X;le=K.action,na&&d(b,le),b=K.hasEagerState?K.eagerState:d(b,le)}else X={lane:le,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(R=I=X,k=b):I=I.next=X,Be.lanes|=le,ms|=le;K=K.next}while(K!==null&&K!==l);if(I===null?k=b:I.next=R,!er(b,s.memoizedState)&&(Ft=!0,ie&&(d=Ja,d!==null)))throw d;s.memoizedState=b,s.baseState=k,s.baseQueue=I,m.lastRenderedState=b}return y===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function fm(s){var l=Tt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var m=d.dispatch,y=d.pending,b=l.memoizedState;if(y!==null){d.pending=null;var k=y=y.next;do b=s(b,k.action),k=k.next;while(k!==y);er(b,l.memoizedState)||(Ft=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),d.lastRenderedState=b}return[b,m]}function wv(s,l,d){var m=Be,y=Tt(),b=Ke;if(b){if(d===void 0)throw Error(r(407));d=d()}else d=l();var k=!er((st||y).memoizedState,d);if(k&&(y.memoizedState=d,Ft=!0),y=y.queue,gm(jv.bind(null,m,y,s),[s]),y.getSnapshot!==l||k||Lt!==null&&Lt.memoizedState.tag&1){if(m.flags|=2048,il(9,{destroy:void 0},Nv.bind(null,m,y,d,l),null),ot===null)throw Error(r(349));b||(Ai&127)!==0||Sv(m,l,d)}return d}function Sv(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=Be.updateQueue,l===null?(l=Su(),Be.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function Nv(s,l,d,m){l.value=d,l.getSnapshot=m,Cv(l)&&kv(s)}function jv(s,l,d){return d(function(){Cv(l)&&kv(s)})}function Cv(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!er(s,d)}catch{return!0}}function kv(s){var l=Ys(s,2);l!==null&&Un(l,s,2)}function mm(s){var l=En();if(typeof s=="function"){var d=s;if(s=d(),na){an(!0);try{d()}finally{an(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},l}function Ev(s,l,d,m){return s.baseState=d,hm(s,st,typeof m=="function"?m:Ti)}function OR(s,l,d,m,y){if(Eu(s))throw Error(r(485));if(s=l.action,s!==null){var b={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};B.T!==null?d(!0):b.isTransition=!1,m(b),d=l.pending,d===null?(b.next=l.pending=b,_v(l,b)):(b.next=d.next,l.pending=d.next=b)}}function _v(s,l){var d=l.action,m=l.payload,y=s.state;if(l.isTransition){var b=B.T,k={};B.T=k;try{var R=d(y,m),I=B.S;I!==null&&I(k,R),Rv(s,l,R)}catch(K){pm(s,l,K)}finally{b!==null&&k.types!==null&&(b.types=k.types),B.T=b}}else try{b=d(y,m),Rv(s,l,b)}catch(K){pm(s,l,K)}}function Rv(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){Mv(s,l,m)},function(m){return pm(s,l,m)}):Mv(s,l,d)}function Mv(s,l,d){l.status="fulfilled",l.value=d,Av(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,_v(s,d)))}function pm(s,l,d){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,Av(l),l=l.next;while(l!==m)}s.action=null}function Av(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Tv(s,l){return l}function zv(s,l){if(Ke){var d=ot.formState;if(d!==null){e:{var m=Be;if(Ke){if(mt){t:{for(var y=mt,b=Nr;y.nodeType!==8;){if(!b){y=null;break t}if(y=Cr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){mt=Cr(y.nextSibling),m=y.data==="F!";break e}}ss(m)}m=!1}m&&(l=d[0])}}return d=En(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:l},d.queue=m,d=Jv.bind(null,Be,m),m.dispatch=d,m=mm(!1),b=wm.bind(null,Be,!1,m.queue),m=En(),y={state:l,dispatch:null,action:s,pending:null},m.queue=y,d=OR.bind(null,Be,y,b,d),y.dispatch=d,m.memoizedState=s,[l,d,!1]}function Ov(s){var l=Tt();return Dv(l,st,s)}function Dv(s,l,d){if(l=hm(s,l,Tv)[0],s=ju(Ti)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Eo(l)}catch(k){throw k===Za?mu:k}else m=l;l=Tt();var y=l.queue,b=y.dispatch;return d!==l.memoizedState&&(Be.flags|=2048,il(9,{destroy:void 0},DR.bind(null,y,d),null)),[m,b,s]}function DR(s,l){s.action=l}function Pv(s){var l=Tt(),d=st;if(d!==null)return Dv(l,d,s);Tt(),l=l.memoizedState,d=Tt();var m=d.queue.dispatch;return d.memoizedState=s,[l,m,!1]}function il(s,l,d,m){return s={tag:s,create:d,deps:m,inst:l,next:null},l=Be.updateQueue,l===null&&(l=Su(),Be.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,l.lastEffect=s),s}function Lv(){return Tt().memoizedState}function Cu(s,l,d,m){var y=En();Be.flags|=s,y.memoizedState=il(1|l,{destroy:void 0},d,m===void 0?null:m)}function ku(s,l,d,m){var y=Tt();m=m===void 0?null:m;var b=y.memoizedState.inst;st!==null&&m!==null&&am(m,st.memoizedState.deps)?y.memoizedState=il(l,b,d,m):(Be.flags|=s,y.memoizedState=il(1|l,b,d,m))}function Fv(s,l){Cu(8390656,8,s,l)}function gm(s,l){ku(2048,8,s,l)}function PR(s){Be.flags|=4;var l=Be.updateQueue;if(l===null)l=Su(),Be.updateQueue=l,l.events=[s];else{var d=l.events;d===null?l.events=[s]:d.push(s)}}function Bv(s){var l=Tt().memoizedState;return PR({ref:l,nextImpl:s}),function(){if((et&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function Iv(s,l){return ku(4,2,s,l)}function Uv(s,l){return ku(4,4,s,l)}function Hv(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Vv(s,l,d){d=d!=null?d.concat([s]):null,ku(4,4,Hv.bind(null,l,s),d)}function xm(){}function $v(s,l){var d=Tt();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&am(l,m[1])?m[0]:(d.memoizedState=[s,l],s)}function qv(s,l){var d=Tt();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&am(l,m[1]))return m[0];if(m=s(),na){an(!0);try{s()}finally{an(!1)}}return d.memoizedState=[m,l],m}function ym(s,l,d){return d===void 0||(Ai&1073741824)!==0&&(Qe&261930)===0?s.memoizedState=l:(s.memoizedState=d,s=Gb(),Be.lanes|=s,ms|=s,d)}function Gv(s,l,d,m){return er(d,l)?d:tl.current!==null?(s=ym(s,d,m),er(s,l)||(Ft=!0),s):(Ai&42)===0||(Ai&1073741824)!==0&&(Qe&261930)===0?(Ft=!0,s.memoizedState=d):(s=Gb(),Be.lanes|=s,ms|=s,l)}function Yv(s,l,d,m,y){var b=Y.p;Y.p=b!==0&&8>b?b:8;var k=B.T,R={};B.T=R,wm(s,!1,l,d);try{var I=y(),K=B.S;if(K!==null&&K(R,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ie=AR(I,m);_o(s,l,ie,ar(s))}else _o(s,l,m,ar(s))}catch(le){_o(s,l,{then:function(){},status:"rejected",reason:le},ar())}finally{Y.p=b,k!==null&&R.types!==null&&(k.types=R.types),B.T=k}}function LR(){}function vm(s,l,d,m){if(s.tag!==5)throw Error(r(476));var y=Qv(s).queue;Yv(s,y,l,V,d===null?LR:function(){return Wv(s),d(m)})}function Qv(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:V},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function Wv(s){var l=Qv(s);l.next===null&&(l=s.alternate.memoizedState),_o(s,l.next.queue,{},ar())}function bm(){return cn(qo)}function Kv(){return Tt().memoizedState}function Xv(){return Tt().memoizedState}function FR(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=ar();s=os(d);var m=cs(l,s,d);m!==null&&(Un(m,l,d),No(m,l,d)),l={cache:Wf()},s.payload=l;return}l=l.return}}function BR(s,l,d){var m=ar();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Eu(s)?Zv(l,d):(d=Ff(s,l,d,m),d!==null&&(Un(d,s,m),eb(d,l,m)))}function Jv(s,l,d){var m=ar();_o(s,l,d,m)}function _o(s,l,d,m){var y={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Eu(s))Zv(l,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var k=l.lastRenderedState,R=b(k,d);if(y.hasEagerState=!0,y.eagerState=R,er(R,k))return lu(s,l,y,0),ot===null&&au(),!1}catch{}finally{}if(d=Ff(s,l,y,m),d!==null)return Un(d,s,m),eb(d,l,m),!0}return!1}function wm(s,l,d,m){if(m={lane:2,revertLane:Zm(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Eu(s)){if(l)throw Error(r(479))}else l=Ff(s,d,m,2),l!==null&&Un(l,s,2)}function Eu(s){var l=s.alternate;return s===Be||l!==null&&l===Be}function Zv(s,l){nl=bu=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function eb(s,l,d){if((d&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,d|=m,l.lanes=d,zn(s,d)}}var Ro={readContext:cn,use:Nu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Ro.useEffectEvent=Ct;var tb={readContext:cn,use:Nu,useCallback:function(s,l){return En().memoizedState=[s,l===void 0?null:l],s},useContext:cn,useEffect:Fv,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,Cu(4194308,4,Hv.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Cu(4194308,4,s,l)},useInsertionEffect:function(s,l){Cu(4,2,s,l)},useMemo:function(s,l){var d=En();l=l===void 0?null:l;var m=s();if(na){an(!0);try{s()}finally{an(!1)}}return d.memoizedState=[m,l],m},useReducer:function(s,l,d){var m=En();if(d!==void 0){var y=d(l);if(na){an(!0);try{d(l)}finally{an(!1)}}}else y=l;return m.memoizedState=m.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},m.queue=s,s=s.dispatch=BR.bind(null,Be,s),[m.memoizedState,s]},useRef:function(s){var l=En();return s={current:s},l.memoizedState=s},useState:function(s){s=mm(s);var l=s.queue,d=Jv.bind(null,Be,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:xm,useDeferredValue:function(s,l){var d=En();return ym(d,s,l)},useTransition:function(){var s=mm(!1);return s=Yv.bind(null,Be,s.queue,!0,!1),En().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var m=Be,y=En();if(Ke){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),ot===null)throw Error(r(349));(Qe&127)!==0||Sv(m,l,d)}y.memoizedState=d;var b={value:d,getSnapshot:l};return y.queue=b,Fv(jv.bind(null,m,b,s),[s]),m.flags|=2048,il(9,{destroy:void 0},Nv.bind(null,m,b,d,l),null),d},useId:function(){var s=En(),l=ot.identifierPrefix;if(Ke){var d=ei,m=Zr;d=(m&~(1<<32-nt(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=wu++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=TR++,l="_"+l+"r_"+d.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:bm,useFormState:zv,useActionState:zv,useOptimistic:function(s){var l=En();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=wm.bind(null,Be,!0,d),d.dispatch=l,[s,l]},useMemoCache:dm,useCacheRefresh:function(){return En().memoizedState=FR.bind(null,Be)},useEffectEvent:function(s){var l=En(),d={impl:s};return l.memoizedState=d,function(){if((et&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Sm={readContext:cn,use:Nu,useCallback:$v,useContext:cn,useEffect:gm,useImperativeHandle:Vv,useInsertionEffect:Iv,useLayoutEffect:Uv,useMemo:qv,useReducer:ju,useRef:Lv,useState:function(){return ju(Ti)},useDebugValue:xm,useDeferredValue:function(s,l){var d=Tt();return Gv(d,st.memoizedState,s,l)},useTransition:function(){var s=ju(Ti)[0],l=Tt().memoizedState;return[typeof s=="boolean"?s:Eo(s),l]},useSyncExternalStore:wv,useId:Kv,useHostTransitionStatus:bm,useFormState:Ov,useActionState:Ov,useOptimistic:function(s,l){var d=Tt();return Ev(d,st,s,l)},useMemoCache:dm,useCacheRefresh:Xv};Sm.useEffectEvent=Bv;var nb={readContext:cn,use:Nu,useCallback:$v,useContext:cn,useEffect:gm,useImperativeHandle:Vv,useInsertionEffect:Iv,useLayoutEffect:Uv,useMemo:qv,useReducer:fm,useRef:Lv,useState:function(){return fm(Ti)},useDebugValue:xm,useDeferredValue:function(s,l){var d=Tt();return st===null?ym(d,s,l):Gv(d,st.memoizedState,s,l)},useTransition:function(){var s=fm(Ti)[0],l=Tt().memoizedState;return[typeof s=="boolean"?s:Eo(s),l]},useSyncExternalStore:wv,useId:Kv,useHostTransitionStatus:bm,useFormState:Pv,useActionState:Pv,useOptimistic:function(s,l){var d=Tt();return st!==null?Ev(d,st,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:dm,useCacheRefresh:Xv};nb.useEffectEvent=Bv;function Nm(s,l,d,m){l=s.memoizedState,d=d(m,l),d=d==null?l:g({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var jm={enqueueSetState:function(s,l,d){s=s._reactInternals;var m=ar(),y=os(m);y.payload=l,d!=null&&(y.callback=d),l=cs(s,y,m),l!==null&&(Un(l,s,m),No(l,s,m))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var m=ar(),y=os(m);y.tag=1,y.payload=l,d!=null&&(y.callback=d),l=cs(s,y,m),l!==null&&(Un(l,s,m),No(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=ar(),m=os(d);m.tag=2,l!=null&&(m.callback=l),l=cs(s,m,d),l!==null&&(Un(l,s,d),No(l,s,d))}};function rb(s,l,d,m,y,b,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,k):l.prototype&&l.prototype.isPureReactComponent?!po(d,m)||!po(y,b):!0}function ib(s,l,d,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==s&&jm.enqueueReplaceState(l,l.state,null)}function ra(s,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(s=s.defaultProps){d===l&&(d=g({},d));for(var y in s)d[y]===void 0&&(d[y]=s[y])}return d}function sb(s){su(s)}function ab(s){console.error(s)}function lb(s){su(s)}function _u(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function ob(s,l,d){try{var m=s.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Cm(s,l,d){return d=os(d),d.tag=3,d.payload={element:null},d.callback=function(){_u(s,l)},d}function cb(s){return s=os(s),s.tag=3,s}function ub(s,l,d,m){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var b=m.value;s.payload=function(){return y(b)},s.callback=function(){ob(l,d,m)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){ob(l,d,m),typeof y!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var R=m.stack;this.componentDidCatch(m.value,{componentStack:R!==null?R:""})})}function IR(s,l,d,m,y){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Ka(l,d,y,!0),d=nr.current,d!==null){switch(d.tag){case 31:case 13:return jr===null?Iu():d.alternate===null&&kt===0&&(kt=3),d.flags&=-257,d.flags|=65536,d.lanes=y,m===pu?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Km(s,m,y)),!1;case 22:return d.flags|=65536,m===pu?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Km(s,m,y)),!1}throw Error(r(435,d.tag))}return Km(s,m,y),Iu(),!1}if(Ke)return l=nr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,m!==$f&&(s=Error(r(422),{cause:m}),yo(br(s,d)))):(m!==$f&&(l=Error(r(423),{cause:m}),yo(br(l,d))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,m=br(m,d),y=Cm(s.stateNode,m,y),tm(s,y),kt!==4&&(kt=2)),!1;var b=Error(r(520),{cause:m});if(b=br(b,d),Lo===null?Lo=[b]:Lo.push(b),kt!==4&&(kt=2),l===null)return!0;m=br(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=y&-y,d.lanes|=s,s=Cm(d.stateNode,m,s),tm(d,s),!1;case 1:if(l=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ps===null||!ps.has(b))))return d.flags|=65536,y&=-y,d.lanes|=y,y=cb(y),ub(y,s,d,m),tm(d,y),!1}d=d.return}while(d!==null);return!1}var km=Error(r(461)),Ft=!1;function un(s,l,d,m){l.child=s===null?mv(l,null,d,m):ta(l,s.child,d,m)}function db(s,l,d,m,y){d=d.render;var b=l.ref;if("ref"in m){var k={};for(var R in m)R!=="ref"&&(k[R]=m[R])}else k=m;return Xs(l),m=lm(s,l,d,k,b,y),R=om(),s!==null&&!Ft?(cm(s,l,y),zi(s,l,y)):(Ke&&R&&Hf(l),l.flags|=1,un(s,l,m,y),l.child)}function hb(s,l,d,m,y){if(s===null){var b=d.type;return typeof b=="function"&&!Bf(b)&&b.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=b,fb(s,l,b,m,y)):(s=cu(d.type,null,m,l,l.mode,y),s.ref=l.ref,s.return=l,l.child=s)}if(b=s.child,!Om(s,y)){var k=b.memoizedProps;if(d=d.compare,d=d!==null?d:po,d(k,m)&&s.ref===l.ref)return zi(s,l,y)}return l.flags|=1,s=Ei(b,m),s.ref=l.ref,s.return=l,l.child=s}function fb(s,l,d,m,y){if(s!==null){var b=s.memoizedProps;if(po(b,m)&&s.ref===l.ref)if(Ft=!1,l.pendingProps=m=b,Om(s,y))(s.flags&131072)!==0&&(Ft=!0);else return l.lanes=s.lanes,zi(s,l,y)}return Em(s,l,d,m,y)}function mb(s,l,d,m){var y=m.children,b=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|d:d,s!==null){for(m=l.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~b}else m=0,l.child=null;return pb(s,l,b,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&fu(l,b!==null?b.cachePool:null),b!==null?xv(l,b):rm(),yv(l);else return m=l.lanes=536870912,pb(s,l,b!==null?b.baseLanes|d:d,d,m)}else b!==null?(fu(l,b.cachePool),xv(l,b),ds(),l.memoizedState=null):(s!==null&&fu(l,null),rm(),ds());return un(s,l,y,d),l.child}function Mo(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function pb(s,l,d,m,y){var b=Xf();return b=b===null?null:{parent:Pt._currentValue,pool:b},l.memoizedState={baseLanes:d,cachePool:b},s!==null&&fu(l,null),rm(),yv(l),s!==null&&Ka(s,l,m,!0),l.childLanes=y,null}function Ru(s,l){return l=Au({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function gb(s,l,d){return ta(l,s.child,null,d),s=Ru(l,l.pendingProps),s.flags|=2,rr(l),l.memoizedState=null,s}function UR(s,l,d){var m=l.pendingProps,y=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Ke){if(m.mode==="hidden")return s=Ru(l,m),l.lanes=536870912,Mo(null,s);if(sm(l),(s=mt)?(s=_1(s,Nr),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:rs!==null?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},d=Zy(s),d.return=l,l.child=d,on=l,mt=null)):s=null,s===null)throw ss(l);return l.lanes=536870912,null}return Ru(l,m)}var b=s.memoizedState;if(b!==null){var k=b.dehydrated;if(sm(l),y)if(l.flags&256)l.flags&=-257,l=gb(s,l,d);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Ft||Ka(s,l,d,!1),y=(d&s.childLanes)!==0,Ft||y){if(m=ot,m!==null&&(k=On(m,d),k!==0&&k!==b.retryLane))throw b.retryLane=k,Ys(s,k),Un(m,s,k),km;Iu(),l=gb(s,l,d)}else s=b.treeContext,mt=Cr(k.nextSibling),on=l,Ke=!0,is=null,Nr=!1,s!==null&&nv(l,s),l=Ru(l,m),l.flags|=4096;return l}return s=Ei(s.child,{mode:m.mode,children:m.children}),s.ref=l.ref,l.child=s,s.return=l,s}function Mu(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function Em(s,l,d,m,y){return Xs(l),d=lm(s,l,d,m,void 0,y),m=om(),s!==null&&!Ft?(cm(s,l,y),zi(s,l,y)):(Ke&&m&&Hf(l),l.flags|=1,un(s,l,d,y),l.child)}function xb(s,l,d,m,y,b){return Xs(l),l.updateQueue=null,d=bv(l,m,d,y),vv(s),m=om(),s!==null&&!Ft?(cm(s,l,b),zi(s,l,b)):(Ke&&m&&Hf(l),l.flags|=1,un(s,l,d,b),l.child)}function yb(s,l,d,m,y){if(Xs(l),l.stateNode===null){var b=Ga,k=d.contextType;typeof k=="object"&&k!==null&&(b=cn(k)),b=new d(m,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=jm,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=m,b.state=l.memoizedState,b.refs={},Zf(l),k=d.contextType,b.context=typeof k=="object"&&k!==null?cn(k):Ga,b.state=l.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Nm(l,d,k,m),b.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&jm.enqueueReplaceState(b,b.state,null),Co(l,m,b,y),jo(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){b=l.stateNode;var R=l.memoizedProps,I=ra(d,R);b.props=I;var K=b.context,ie=d.contextType;k=Ga,typeof ie=="object"&&ie!==null&&(k=cn(ie));var le=d.getDerivedStateFromProps;ie=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=l.pendingProps!==R,ie||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||K!==k)&&ib(l,b,m,k),ls=!1;var X=l.memoizedState;b.state=X,Co(l,m,b,y),jo(),K=l.memoizedState,R||X!==K||ls?(typeof le=="function"&&(Nm(l,d,le,m),K=l.memoizedState),(I=ls||rb(l,d,I,m,X,K,k))?(ie||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=K),b.props=m,b.state=K,b.context=k,m=I):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{b=l.stateNode,em(s,l),k=l.memoizedProps,ie=ra(d,k),b.props=ie,le=l.pendingProps,X=b.context,K=d.contextType,I=Ga,typeof K=="object"&&K!==null&&(I=cn(K)),R=d.getDerivedStateFromProps,(K=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==le||X!==I)&&ib(l,b,m,I),ls=!1,X=l.memoizedState,b.state=X,Co(l,m,b,y),jo();var ee=l.memoizedState;k!==le||X!==ee||ls||s!==null&&s.dependencies!==null&&du(s.dependencies)?(typeof R=="function"&&(Nm(l,d,R,m),ee=l.memoizedState),(ie=ls||rb(l,d,ie,m,X,ee,I)||s!==null&&s.dependencies!==null&&du(s.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,ee,I),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,ee,I)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&X===s.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&X===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ee),b.props=m,b.state=ee,b.context=I,m=ie):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&X===s.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&X===s.memoizedState||(l.flags|=1024),m=!1)}return b=m,Mu(s,l),m=(l.flags&128)!==0,b||m?(b=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,s!==null&&m?(l.child=ta(l,s.child,null,y),l.child=ta(l,null,d,y)):un(s,l,d,y),l.memoizedState=b.state,s=l.child):s=zi(s,l,y),s}function vb(s,l,d,m){return Ws(),l.flags|=256,un(s,l,d,m),l.child}var _m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rm(s){return{baseLanes:s,cachePool:ov()}}function Mm(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=sr),s}function bb(s,l,d){var m=l.pendingProps,y=!1,b=(l.flags&128)!==0,k;if((k=b)||(k=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),k&&(y=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,s===null){if(Ke){if(y?us(l):ds(),(s=mt)?(s=_1(s,Nr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:rs!==null?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},d=Zy(s),d.return=l,l.child=d,on=l,mt=null)):s=null,s===null)throw ss(l);return hp(s)?l.lanes=32:l.lanes=536870912,null}var R=m.children;return m=m.fallback,y?(ds(),y=l.mode,R=Au({mode:"hidden",children:R},y),m=Qs(m,y,d,null),R.return=l,m.return=l,R.sibling=m,l.child=R,m=l.child,m.memoizedState=Rm(d),m.childLanes=Mm(s,k,d),l.memoizedState=_m,Mo(null,m)):(us(l),Am(l,R))}var I=s.memoizedState;if(I!==null&&(R=I.dehydrated,R!==null)){if(b)l.flags&256?(us(l),l.flags&=-257,l=Tm(s,l,d)):l.memoizedState!==null?(ds(),l.child=s.child,l.flags|=128,l=null):(ds(),R=m.fallback,y=l.mode,m=Au({mode:"visible",children:m.children},y),R=Qs(R,y,d,null),R.flags|=2,m.return=l,R.return=l,m.sibling=R,l.child=m,ta(l,s.child,null,d),m=l.child,m.memoizedState=Rm(d),m.childLanes=Mm(s,k,d),l.memoizedState=_m,l=Mo(null,m));else if(us(l),hp(R)){if(k=R.nextSibling&&R.nextSibling.dataset,k)var K=k.dgst;k=K,m=Error(r(419)),m.stack="",m.digest=k,yo({value:m,source:null,stack:null}),l=Tm(s,l,d)}else if(Ft||Ka(s,l,d,!1),k=(d&s.childLanes)!==0,Ft||k){if(k=ot,k!==null&&(m=On(k,d),m!==0&&m!==I.retryLane))throw I.retryLane=m,Ys(s,m),Un(k,s,m),km;dp(R)||Iu(),l=Tm(s,l,d)}else dp(R)?(l.flags|=192,l.child=s.child,l=null):(s=I.treeContext,mt=Cr(R.nextSibling),on=l,Ke=!0,is=null,Nr=!1,s!==null&&nv(l,s),l=Am(l,m.children),l.flags|=4096);return l}return y?(ds(),R=m.fallback,y=l.mode,I=s.child,K=I.sibling,m=Ei(I,{mode:"hidden",children:m.children}),m.subtreeFlags=I.subtreeFlags&65011712,K!==null?R=Ei(K,R):(R=Qs(R,y,d,null),R.flags|=2),R.return=l,m.return=l,m.sibling=R,l.child=m,Mo(null,m),m=l.child,R=s.child.memoizedState,R===null?R=Rm(d):(y=R.cachePool,y!==null?(I=Pt._currentValue,y=y.parent!==I?{parent:I,pool:I}:y):y=ov(),R={baseLanes:R.baseLanes|d,cachePool:y}),m.memoizedState=R,m.childLanes=Mm(s,k,d),l.memoizedState=_m,Mo(s.child,m)):(us(l),d=s.child,s=d.sibling,d=Ei(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,s!==null&&(k=l.deletions,k===null?(l.deletions=[s],l.flags|=16):k.push(s)),l.child=d,l.memoizedState=null,d)}function Am(s,l){return l=Au({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Au(s,l){return s=tr(22,s,null,l),s.lanes=0,s}function Tm(s,l,d){return ta(l,s.child,null,d),s=Am(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function wb(s,l,d){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),Yf(s.return,l,d)}function zm(s,l,d,m,y,b){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y,treeForkCount:b}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=d,k.tailMode=y,k.treeForkCount=b)}function Sb(s,l,d){var m=l.pendingProps,y=m.revealOrder,b=m.tail;m=m.children;var k=At.current,R=(k&2)!==0;if(R?(k=k&1|2,l.flags|=128):k&=1,M(At,k),un(s,l,m,d),m=Ke?xo:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wb(s,d,l);else if(s.tag===19)wb(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(d=l.child,y=null;d!==null;)s=d.alternate,s!==null&&vu(s)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),zm(l,!1,y,d,b,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(s=y.alternate,s!==null&&vu(s)===null){l.child=y;break}s=y.sibling,y.sibling=d,d=y,y=s}zm(l,!0,d,null,b,m);break;case"together":zm(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function zi(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),ms|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Ka(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=Ei(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Ei(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function Om(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&du(s)))}function HR(s,l,d){switch(l.tag){case 3:ve(l,l.stateNode.containerInfo),as(l,Pt,s.memoizedState.cache),Ws();break;case 27:case 5:tt(l);break;case 4:ve(l,l.stateNode.containerInfo);break;case 10:as(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,sm(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(us(l),l.flags|=128,null):(d&l.child.childLanes)!==0?bb(s,l,d):(us(l),s=zi(s,l,d),s!==null?s.sibling:null);us(l);break;case 19:var y=(s.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Ka(s,l,d,!1),m=(d&l.childLanes)!==0),y){if(m)return Sb(s,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),M(At,At.current),m)break;return null;case 22:return l.lanes=0,mb(s,l,d,l.pendingProps);case 24:as(l,Pt,s.memoizedState.cache)}return zi(s,l,d)}function Nb(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)Ft=!0;else{if(!Om(s,d)&&(l.flags&128)===0)return Ft=!1,HR(s,l,d);Ft=(s.flags&131072)!==0}else Ft=!1,Ke&&(l.flags&1048576)!==0&&tv(l,xo,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(s=Zs(l.elementType),l.type=s,typeof s=="function")Bf(s)?(m=ra(s,m),l.tag=1,l=yb(null,l,s,m,d)):(l.tag=0,l=Em(null,l,s,m,d));else{if(s!=null){var y=s.$$typeof;if(y===A){l.tag=11,l=db(null,l,s,m,d);break e}else if(y===F){l.tag=14,l=hb(null,l,s,m,d);break e}}throw l=se(s)||s,Error(r(306,l,""))}}return l;case 0:return Em(s,l,l.type,l.pendingProps,d);case 1:return m=l.type,y=ra(m,l.pendingProps),yb(s,l,m,y,d);case 3:e:{if(ve(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var b=l.memoizedState;y=b.element,em(s,l),Co(l,m,null,d);var k=l.memoizedState;if(m=k.cache,as(l,Pt,m),m!==b.cache&&Qf(l,[Pt],d,!0),jo(),m=k.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=vb(s,l,m,d);break e}else if(m!==y){y=br(Error(r(424)),l),yo(y),l=vb(s,l,m,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(mt=Cr(s.firstChild),on=l,Ke=!0,is=null,Nr=!0,d=mv(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ws(),m===y){l=zi(s,l,d);break e}un(s,l,m,d)}l=l.child}return l;case 26:return Mu(s,l),s===null?(d=O1(l.type,null,l.pendingProps,null))?l.memoizedState=d:Ke||(d=l.type,s=l.pendingProps,m=Yu(H.current).createElement(d),m[ln]=l,m[Dn]=s,dn(m,d,s),Xt(m),l.stateNode=m):l.memoizedState=O1(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return tt(l),s===null&&Ke&&(m=l.stateNode=A1(l.type,l.pendingProps,H.current),on=l,Nr=!0,y=mt,vs(l.type)?(fp=y,mt=Cr(m.firstChild)):mt=y),un(s,l,l.pendingProps.children,d),Mu(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Ke&&((y=m=mt)&&(m=yM(m,l.type,l.pendingProps,Nr),m!==null?(l.stateNode=m,on=l,mt=Cr(m.firstChild),Nr=!1,y=!0):y=!1),y||ss(l)),tt(l),y=l.type,b=l.pendingProps,k=s!==null?s.memoizedProps:null,m=b.children,op(y,b)?m=null:k!==null&&op(y,k)&&(l.flags|=32),l.memoizedState!==null&&(y=lm(s,l,zR,null,null,d),qo._currentValue=y),Mu(s,l),un(s,l,m,d),l.child;case 6:return s===null&&Ke&&((s=d=mt)&&(d=vM(d,l.pendingProps,Nr),d!==null?(l.stateNode=d,on=l,mt=null,s=!0):s=!1),s||ss(l)),null;case 13:return bb(s,l,d);case 4:return ve(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=ta(l,null,m,d):un(s,l,m,d),l.child;case 11:return db(s,l,l.type,l.pendingProps,d);case 7:return un(s,l,l.pendingProps,d),l.child;case 8:return un(s,l,l.pendingProps.children,d),l.child;case 12:return un(s,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,as(l,l.type,m.value),un(s,l,m.children,d),l.child;case 9:return y=l.type._context,m=l.pendingProps.children,Xs(l),y=cn(y),m=m(y),l.flags|=1,un(s,l,m,d),l.child;case 14:return hb(s,l,l.type,l.pendingProps,d);case 15:return fb(s,l,l.type,l.pendingProps,d);case 19:return Sb(s,l,d);case 31:return UR(s,l,d);case 22:return mb(s,l,d,l.pendingProps);case 24:return Xs(l),m=cn(Pt),s===null?(y=Xf(),y===null&&(y=ot,b=Wf(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=d),y=b),l.memoizedState={parent:m,cache:y},Zf(l),as(l,Pt,y)):((s.lanes&d)!==0&&(em(s,l),Co(l,null,null,d),jo()),y=s.memoizedState,b=l.memoizedState,y.parent!==m?(y={parent:m,cache:m},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),as(l,Pt,m)):(m=b.cache,as(l,Pt,m),m!==y.cache&&Qf(l,[Pt],d,!0))),un(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Oi(s){s.flags|=4}function Dm(s,l,d,m,y){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(Kb())s.flags|=8192;else throw ea=pu,Jf}else s.flags&=-16777217}function jb(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!B1(l))if(Kb())s.flags|=8192;else throw ea=pu,Jf}function Tu(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?yn():536870912,s.lanes|=l,ol|=l)}function Ao(s,l){if(!Ke)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function pt(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(l)for(var y=s.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=m,s.childLanes=d,l}function VR(s,l,d){var m=l.pendingProps;switch(Vf(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(l),null;case 1:return pt(l),null;case 3:return d=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Mi(Pt),Ae(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Wa(l)?Oi(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,qf())),pt(l),null;case 26:var y=l.type,b=l.memoizedState;return s===null?(Oi(l),b!==null?(pt(l),jb(l,b)):(pt(l),Dm(l,y,null,m,d))):b?b!==s.memoizedState?(Oi(l),pt(l),jb(l,b)):(pt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==m&&Oi(l),pt(l),Dm(l,y,s,m,d)),null;case 27:if(dt(l),d=H.current,y=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&Oi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return pt(l),null}s=ne.current,Wa(l)?rv(l):(s=A1(y,m,d),l.stateNode=s,Oi(l))}return pt(l),null;case 5:if(dt(l),y=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&Oi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return pt(l),null}if(b=ne.current,Wa(l))rv(l);else{var k=Yu(H.current);switch(b){case 1:b=k.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=k.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=k.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?k.createElement("select",{is:m.is}):k.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?k.createElement(y,{is:m.is}):k.createElement(y)}}b[ln]=l,b[Dn]=m;e:for(k=l.child;k!==null;){if(k.tag===5||k.tag===6)b.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===l)break e;for(;k.sibling===null;){if(k.return===null||k.return===l)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}l.stateNode=b;e:switch(dn(b,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Oi(l)}}return pt(l),Dm(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,d),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&Oi(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=H.current,Wa(l)){if(s=l.stateNode,d=l.memoizedProps,m=null,y=on,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}s[ln]=l,s=!!(s.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||b1(s.nodeValue,d)),s||ss(l,!0)}else s=Yu(s).createTextNode(m),s[ln]=l,l.stateNode=s}return pt(l),null;case 31:if(d=l.memoizedState,s===null||s.memoizedState!==null){if(m=Wa(l),d!==null){if(s===null){if(!m)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[ln]=l}else Ws(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;pt(l),s=!1}else d=qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return l.flags&256?(rr(l),l):(rr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return pt(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Wa(l),m!==null&&m.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[ln]=l}else Ws(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;pt(l),y=!1}else y=qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(rr(l),l):(rr(l),null)}return rr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,s=s!==null&&s.memoizedState!==null,d&&(m=l.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==y&&(m.flags|=2048)),d!==s&&d&&(l.child.flags|=8192),Tu(l,l.updateQueue),pt(l),null);case 4:return Ae(),s===null&&rp(l.stateNode.containerInfo),pt(l),null;case 10:return Mi(l.type),pt(l),null;case 19:if(Q(At),m=l.memoizedState,m===null)return pt(l),null;if(y=(l.flags&128)!==0,b=m.rendering,b===null)if(y)Ao(m,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(b=vu(s),b!==null){for(l.flags|=128,Ao(m,!1),s=b.updateQueue,l.updateQueue=s,Tu(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)Jy(d,s),d=d.sibling;return M(At,At.current&1|2),Ke&&_i(l,m.treeForkCount),l.child}s=s.sibling}m.tail!==null&&Vt()>Lu&&(l.flags|=128,y=!0,Ao(m,!1),l.lanes=4194304)}else{if(!y)if(s=vu(b),s!==null){if(l.flags|=128,y=!0,s=s.updateQueue,l.updateQueue=s,Tu(l,s),Ao(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!Ke)return pt(l),null}else 2*Vt()-m.renderingStartTime>Lu&&d!==536870912&&(l.flags|=128,y=!0,Ao(m,!1),l.lanes=4194304);m.isBackwards?(b.sibling=l.child,l.child=b):(s=m.last,s!==null?s.sibling=b:l.child=b,m.last=b)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Vt(),s.sibling=null,d=At.current,M(At,y?d&1|2:d&1),Ke&&_i(l,m.treeForkCount),s):(pt(l),null);case 22:case 23:return rr(l),im(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(pt(l),l.subtreeFlags&6&&(l.flags|=8192)):pt(l),d=l.updateQueue,d!==null&&Tu(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),s!==null&&Q(Js),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Mi(Pt),pt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function $R(s,l){switch(Vf(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Mi(Pt),Ae(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return dt(l),null;case 31:if(l.memoizedState!==null){if(rr(l),l.alternate===null)throw Error(r(340));Ws()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(rr(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ws()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Q(At),null;case 4:return Ae(),null;case 10:return Mi(l.type),null;case 22:case 23:return rr(l),im(),s!==null&&Q(Js),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Mi(Pt),null;case 25:return null;default:return null}}function Cb(s,l){switch(Vf(l),l.tag){case 3:Mi(Pt),Ae();break;case 26:case 27:case 5:dt(l);break;case 4:Ae();break;case 31:l.memoizedState!==null&&rr(l);break;case 13:rr(l);break;case 19:Q(At);break;case 10:Mi(l.type);break;case 22:case 23:rr(l),im(),s!==null&&Q(Js);break;case 24:Mi(Pt)}}function To(s,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&s)===s){m=void 0;var b=d.create,k=d.inst;m=b(),k.destroy=m}d=d.next}while(d!==y)}}catch(R){it(l,l.return,R)}}function hs(s,l,d){try{var m=l.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var b=y.next;m=b;do{if((m.tag&s)===s){var k=m.inst,R=k.destroy;if(R!==void 0){k.destroy=void 0,y=l;var I=d,K=R;try{K()}catch(ie){it(y,I,ie)}}}m=m.next}while(m!==b)}}catch(ie){it(l,l.return,ie)}}function kb(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{gv(l,d)}catch(m){it(s,s.return,m)}}}function Eb(s,l,d){d.props=ra(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(m){it(s,l,m)}}function zo(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof d=="function"?s.refCleanup=d(m):d.current=m}}catch(y){it(s,l,y)}}function ti(s,l){var d=s.ref,m=s.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(y){it(s,l,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){it(s,l,y)}else d.current=null}function _b(s){var l=s.type,d=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(y){it(s,s.return,y)}}function Pm(s,l,d){try{var m=s.stateNode;hM(m,s.type,d,l),m[Dn]=l}catch(y){it(s,s.return,y)}}function Rb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&vs(s.type)||s.tag===4}function Lm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Rb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&vs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fm(s,l,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ci));else if(m!==4&&(m===27&&vs(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(Fm(s,l,d),s=s.sibling;s!==null;)Fm(s,l,d),s=s.sibling}function zu(s,l,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(m!==4&&(m===27&&vs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(zu(s,l,d),s=s.sibling;s!==null;)zu(s,l,d),s=s.sibling}function Mb(s){var l=s.stateNode,d=s.memoizedProps;try{for(var m=s.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);dn(l,m,d),l[ln]=s,l[Dn]=d}catch(b){it(s,s.return,b)}}var Di=!1,Bt=!1,Bm=!1,Ab=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function qR(s,l){if(s=s.containerInfo,ap=ed,s=Vy(s),Tf(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var k=0,R=-1,I=-1,K=0,ie=0,le=s,X=null;t:for(;;){for(var ee;le!==d||y!==0&&le.nodeType!==3||(R=k+y),le!==b||m!==0&&le.nodeType!==3||(I=k+m),le.nodeType===3&&(k+=le.nodeValue.length),(ee=le.firstChild)!==null;)X=le,le=ee;for(;;){if(le===s)break t;if(X===d&&++K===y&&(R=k),X===b&&++ie===m&&(I=k),(ee=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=ee}d=R===-1||I===-1?null:{start:R,end:I}}else d=null}d=d||{start:0,end:0}}else d=null;for(lp={focusedElem:s,selectionRange:d},ed=!1,Jt=l;Jt!==null;)if(l=Jt,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Jt=s;else for(;Jt!==null;){switch(l=Jt,b=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)y=s[d],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,d=l,y=b.memoizedProps,b=b.memoizedState,m=d.stateNode;try{var be=ra(d.type,y);s=m.getSnapshotBeforeUpdate(be,b),m.__reactInternalSnapshotBeforeUpdate=s}catch(Me){it(d,d.return,Me)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)up(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":up(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Jt=s;break}Jt=l.return}}function Tb(s,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Li(s,d),m&4&&To(5,d);break;case 1:if(Li(s,d),m&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(k){it(d,d.return,k)}else{var y=ra(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(y,l,s.__reactInternalSnapshotBeforeUpdate)}catch(k){it(d,d.return,k)}}m&64&&kb(d),m&512&&zo(d,d.return);break;case 3:if(Li(s,d),m&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{gv(s,l)}catch(k){it(d,d.return,k)}}break;case 27:l===null&&m&4&&Mb(d);case 26:case 5:Li(s,d),l===null&&m&4&&_b(d),m&512&&zo(d,d.return);break;case 12:Li(s,d);break;case 31:Li(s,d),m&4&&Db(s,d);break;case 13:Li(s,d),m&4&&Pb(s,d),m&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=eM.bind(null,d),bM(s,d))));break;case 22:if(m=d.memoizedState!==null||Di,!m){l=l!==null&&l.memoizedState!==null||Bt,y=Di;var b=Bt;Di=m,(Bt=l)&&!b?Fi(s,d,(d.subtreeFlags&8772)!==0):Li(s,d),Di=y,Bt=b}break;case 30:break;default:Li(s,d)}}function zb(s){var l=s.alternate;l!==null&&(s.alternate=null,zb(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&pf(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var wt=null,Ln=!1;function Pi(s,l,d){for(d=d.child;d!==null;)Ob(s,l,d),d=d.sibling}function Ob(s,l,d){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(sn,d)}catch{}switch(d.tag){case 26:Bt||ti(d,l),Pi(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Bt||ti(d,l);var m=wt,y=Ln;vs(d.type)&&(wt=d.stateNode,Ln=!1),Pi(s,l,d),Ho(d.stateNode),wt=m,Ln=y;break;case 5:Bt||ti(d,l);case 6:if(m=wt,y=Ln,wt=null,Pi(s,l,d),wt=m,Ln=y,wt!==null)if(Ln)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(d.stateNode)}catch(b){it(d,l,b)}else try{wt.removeChild(d.stateNode)}catch(b){it(d,l,b)}break;case 18:wt!==null&&(Ln?(s=wt,k1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),gl(s)):k1(wt,d.stateNode));break;case 4:m=wt,y=Ln,wt=d.stateNode.containerInfo,Ln=!0,Pi(s,l,d),wt=m,Ln=y;break;case 0:case 11:case 14:case 15:hs(2,d,l),Bt||hs(4,d,l),Pi(s,l,d);break;case 1:Bt||(ti(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Eb(d,l,m)),Pi(s,l,d);break;case 21:Pi(s,l,d);break;case 22:Bt=(m=Bt)||d.memoizedState!==null,Pi(s,l,d),Bt=m;break;default:Pi(s,l,d)}}function Db(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{gl(s)}catch(d){it(l,l.return,d)}}}function Pb(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{gl(s)}catch(d){it(l,l.return,d)}}function GR(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new Ab),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new Ab),l;default:throw Error(r(435,s.tag))}}function Ou(s,l){var d=GR(s);l.forEach(function(m){if(!d.has(m)){d.add(m);var y=tM.bind(null,s,m);m.then(y,y)}})}function Fn(s,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m],b=s,k=l,R=k;e:for(;R!==null;){switch(R.tag){case 27:if(vs(R.type)){wt=R.stateNode,Ln=!1;break e}break;case 5:wt=R.stateNode,Ln=!1;break e;case 3:case 4:wt=R.stateNode.containerInfo,Ln=!0;break e}R=R.return}if(wt===null)throw Error(r(160));Ob(b,k,y),wt=null,Ln=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Lb(l,s),l=l.sibling}var Fr=null;function Lb(s,l){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Fn(l,s),Bn(s),m&4&&(hs(3,s,s.return),To(3,s),hs(5,s,s.return));break;case 1:Fn(l,s),Bn(s),m&512&&(Bt||d===null||ti(d,d.return)),m&64&&Di&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var y=Fr;if(Fn(l,s),Bn(s),m&512&&(Bt||d===null||ti(d,d.return)),m&4){var b=d!==null?d.memoizedState:null;if(m=s.memoizedState,d===null)if(m===null)if(s.stateNode===null){e:{m=s.type,d=s.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":b=y.getElementsByTagName("title")[0],(!b||b[so]||b[ln]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(m),y.head.insertBefore(b,y.querySelector("head > title"))),dn(b,m,d),b[ln]=s,Xt(b),m=b;break e;case"link":var k=L1("link","href",y).get(m+(d.href||""));if(k){for(var R=0;R<k.length;R++)if(b=k[R],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(R,1);break t}}b=y.createElement(m),dn(b,m,d),y.head.appendChild(b);break;case"meta":if(k=L1("meta","content",y).get(m+(d.content||""))){for(R=0;R<k.length;R++)if(b=k[R],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(R,1);break t}}b=y.createElement(m),dn(b,m,d),y.head.appendChild(b);break;default:throw Error(r(468,m))}b[ln]=s,Xt(b),m=b}s.stateNode=m}else F1(y,s.type,s.stateNode);else s.stateNode=P1(y,m,s.memoizedProps);else b!==m?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,m===null?F1(y,s.type,s.stateNode):P1(y,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Pm(s,s.memoizedProps,d.memoizedProps)}break;case 27:Fn(l,s),Bn(s),m&512&&(Bt||d===null||ti(d,d.return)),d!==null&&m&4&&Pm(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Fn(l,s),Bn(s),m&512&&(Bt||d===null||ti(d,d.return)),s.flags&32){y=s.stateNode;try{Ba(y,"")}catch(be){it(s,s.return,be)}}m&4&&s.stateNode!=null&&(y=s.memoizedProps,Pm(s,y,d!==null?d.memoizedProps:y)),m&1024&&(Bm=!0);break;case 6:if(Fn(l,s),Bn(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,d=s.stateNode;try{d.nodeValue=m}catch(be){it(s,s.return,be)}}break;case 3:if(Ku=null,y=Fr,Fr=Qu(l.containerInfo),Fn(l,s),Fr=y,Bn(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{gl(l.containerInfo)}catch(be){it(s,s.return,be)}Bm&&(Bm=!1,Fb(s));break;case 4:m=Fr,Fr=Qu(s.stateNode.containerInfo),Fn(l,s),Bn(s),Fr=m;break;case 12:Fn(l,s),Bn(s);break;case 31:Fn(l,s),Bn(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Ou(s,m)));break;case 13:Fn(l,s),Bn(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Pu=Vt()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Ou(s,m)));break;case 22:y=s.memoizedState!==null;var I=d!==null&&d.memoizedState!==null,K=Di,ie=Bt;if(Di=K||y,Bt=ie||I,Fn(l,s),Bt=ie,Di=K,Bn(s),m&8192)e:for(l=s.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(d===null||I||Di||Bt||ia(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){I=d=l;try{if(b=I.stateNode,y)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{R=I.stateNode;var le=I.memoizedProps.style,X=le!=null&&le.hasOwnProperty("display")?le.display:null;R.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(be){it(I,I.return,be)}}}else if(l.tag===6){if(d===null){I=l;try{I.stateNode.nodeValue=y?"":I.memoizedProps}catch(be){it(I,I.return,be)}}}else if(l.tag===18){if(d===null){I=l;try{var ee=I.stateNode;y?E1(ee,!0):E1(I.stateNode,!1)}catch(be){it(I,I.return,be)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Ou(s,d))));break;case 19:Fn(l,s),Bn(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Ou(s,m)));break;case 30:break;case 21:break;default:Fn(l,s),Bn(s)}}function Bn(s){var l=s.flags;if(l&2){try{for(var d,m=s.return;m!==null;){if(Rb(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var y=d.stateNode,b=Lm(s);zu(s,b,y);break;case 5:var k=d.stateNode;d.flags&32&&(Ba(k,""),d.flags&=-33);var R=Lm(s);zu(s,R,k);break;case 3:case 4:var I=d.stateNode.containerInfo,K=Lm(s);Fm(s,K,I);break;default:throw Error(r(161))}}catch(ie){it(s,s.return,ie)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function Fb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;Fb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Li(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Tb(s,l.alternate,l),l=l.sibling}function ia(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:hs(4,l,l.return),ia(l);break;case 1:ti(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Eb(l,l.return,d),ia(l);break;case 27:Ho(l.stateNode);case 26:case 5:ti(l,l.return),ia(l);break;case 22:l.memoizedState===null&&ia(l);break;case 30:ia(l);break;default:ia(l)}s=s.sibling}}function Fi(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,y=s,b=l,k=b.flags;switch(b.tag){case 0:case 11:case 15:Fi(y,b,d),To(4,b);break;case 1:if(Fi(y,b,d),m=b,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(K){it(m,m.return,K)}if(m=b,y=m.updateQueue,y!==null){var R=m.stateNode;try{var I=y.shared.hiddenCallbacks;if(I!==null)for(y.shared.hiddenCallbacks=null,y=0;y<I.length;y++)pv(I[y],R)}catch(K){it(m,m.return,K)}}d&&k&64&&kb(b),zo(b,b.return);break;case 27:Mb(b);case 26:case 5:Fi(y,b,d),d&&m===null&&k&4&&_b(b),zo(b,b.return);break;case 12:Fi(y,b,d);break;case 31:Fi(y,b,d),d&&k&4&&Db(y,b);break;case 13:Fi(y,b,d),d&&k&4&&Pb(y,b);break;case 22:b.memoizedState===null&&Fi(y,b,d),zo(b,b.return);break;case 30:break;default:Fi(y,b,d)}l=l.sibling}}function Im(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&vo(d))}function Um(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&vo(s))}function Br(s,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Bb(s,l,d,m),l=l.sibling}function Bb(s,l,d,m){var y=l.flags;switch(l.tag){case 0:case 11:case 15:Br(s,l,d,m),y&2048&&To(9,l);break;case 1:Br(s,l,d,m);break;case 3:Br(s,l,d,m),y&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&vo(s)));break;case 12:if(y&2048){Br(s,l,d,m),s=l.stateNode;try{var b=l.memoizedProps,k=b.id,R=b.onPostCommit;typeof R=="function"&&R(k,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(I){it(l,l.return,I)}}else Br(s,l,d,m);break;case 31:Br(s,l,d,m);break;case 13:Br(s,l,d,m);break;case 23:break;case 22:b=l.stateNode,k=l.alternate,l.memoizedState!==null?b._visibility&2?Br(s,l,d,m):Oo(s,l):b._visibility&2?Br(s,l,d,m):(b._visibility|=2,sl(s,l,d,m,(l.subtreeFlags&10256)!==0||!1)),y&2048&&Im(k,l);break;case 24:Br(s,l,d,m),y&2048&&Um(l.alternate,l);break;default:Br(s,l,d,m)}}function sl(s,l,d,m,y){for(y=y&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=s,k=l,R=d,I=m,K=k.flags;switch(k.tag){case 0:case 11:case 15:sl(b,k,R,I,y),To(8,k);break;case 23:break;case 22:var ie=k.stateNode;k.memoizedState!==null?ie._visibility&2?sl(b,k,R,I,y):Oo(b,k):(ie._visibility|=2,sl(b,k,R,I,y)),y&&K&2048&&Im(k.alternate,k);break;case 24:sl(b,k,R,I,y),y&&K&2048&&Um(k.alternate,k);break;default:sl(b,k,R,I,y)}l=l.sibling}}function Oo(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,m=l,y=m.flags;switch(m.tag){case 22:Oo(d,m),y&2048&&Im(m.alternate,m);break;case 24:Oo(d,m),y&2048&&Um(m.alternate,m);break;default:Oo(d,m)}l=l.sibling}}var Do=8192;function al(s,l,d){if(s.subtreeFlags&Do)for(s=s.child;s!==null;)Ib(s,l,d),s=s.sibling}function Ib(s,l,d){switch(s.tag){case 26:al(s,l,d),s.flags&Do&&s.memoizedState!==null&&TM(d,Fr,s.memoizedState,s.memoizedProps);break;case 5:al(s,l,d);break;case 3:case 4:var m=Fr;Fr=Qu(s.stateNode.containerInfo),al(s,l,d),Fr=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=Do,Do=16777216,al(s,l,d),Do=m):al(s,l,d));break;default:al(s,l,d)}}function Ub(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Po(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Jt=m,Vb(m,s)}Ub(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hb(s),s=s.sibling}function Hb(s){switch(s.tag){case 0:case 11:case 15:Po(s),s.flags&2048&&hs(9,s,s.return);break;case 3:Po(s);break;case 12:Po(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Du(s)):Po(s);break;default:Po(s)}}function Du(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Jt=m,Vb(m,s)}Ub(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:hs(8,l,l.return),Du(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Du(l));break;default:Du(l)}s=s.sibling}}function Vb(s,l){for(;Jt!==null;){var d=Jt;switch(d.tag){case 0:case 11:case 15:hs(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:vo(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Jt=m;else e:for(d=s;Jt!==null;){m=Jt;var y=m.sibling,b=m.return;if(zb(m),m===d){Jt=null;break e}if(y!==null){y.return=b,Jt=y;break e}Jt=b}}}var YR={getCacheForType:function(s){var l=cn(Pt),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d},cacheSignal:function(){return cn(Pt).controller.signal}},QR=typeof WeakMap=="function"?WeakMap:Map,et=0,ot=null,qe=null,Qe=0,rt=0,ir=null,fs=!1,ll=!1,Hm=!1,Bi=0,kt=0,ms=0,sa=0,Vm=0,sr=0,ol=0,Lo=null,In=null,$m=!1,Pu=0,$b=0,Lu=1/0,Fu=null,ps=null,$t=0,gs=null,cl=null,Ii=0,qm=0,Gm=null,qb=null,Fo=0,Ym=null;function ar(){return(et&2)!==0&&Qe!==0?Qe&-Qe:B.T!==null?Zm():ff()}function Gb(){if(sr===0)if((Qe&536870912)===0||Ke){var s=Aa;Aa<<=1,(Aa&3932160)===0&&(Aa=262144),sr=s}else sr=536870912;return s=nr.current,s!==null&&(s.flags|=32),sr}function Un(s,l,d){(s===ot&&(rt===2||rt===9)||s.cancelPendingCommit!==null)&&(ul(s,0),xs(s,Qe,sr,!1)),jt(s,d),((et&2)===0||s!==ot)&&(s===ot&&((et&2)===0&&(sa|=d),kt===4&&xs(s,Qe,sr,!1)),ni(s))}function Yb(s,l,d){if((et&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&s.expiredLanes)===0||bt(s,l),y=m?XR(s,l):Wm(s,l,!0),b=m;do{if(y===0){ll&&!m&&xs(s,l,0,!1);break}else{if(d=s.current.alternate,b&&!WR(d)){y=Wm(s,l,!1),b=!1;continue}if(y===2){if(b=l,s.errorRecoveryDisabledLanes&b)var k=0;else k=s.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var R=s;y=Lo;var I=R.current.memoizedState.isDehydrated;if(I&&(ul(R,k).flags|=256),k=Wm(R,k,!1),k!==2){if(Hm&&!I){R.errorRecoveryDisabledLanes|=b,sa|=b,y=4;break e}b=In,In=y,b!==null&&(In===null?In=b:In.push.apply(In,b))}y=k}if(b=!1,y!==2)continue}}if(y===1){ul(s,0),xs(s,l,0,!0);break}e:{switch(m=s,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:xs(m,l,sr,!fs);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(y=Pu+300-Vt(),10<y)){if(xs(m,l,sr,!fs),De(m,0,!0)!==0)break e;Ii=l,m.timeoutHandle=j1(Qb.bind(null,m,d,In,Fu,$m,l,sr,sa,ol,fs,b,"Throttled",-0,0),y);break e}Qb(m,d,In,Fu,$m,l,sr,sa,ol,fs,b,null,-0,0)}}break}while(!0);ni(s)}function Qb(s,l,d,m,y,b,k,R,I,K,ie,le,X,ee){if(s.timeoutHandle=-1,le=l.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},Ib(l,b,le);var be=(b&62914560)===b?Pu-Vt():(b&4194048)===b?$b-Vt():0;if(be=zM(le,be),be!==null){Ii=b,s.cancelPendingCommit=be(n1.bind(null,s,l,b,d,m,y,k,R,I,ie,le,null,X,ee)),xs(s,b,k,!K);return}}n1(s,l,b,d,m,y,k,R,I)}function WR(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var y=d[m],b=y.getSnapshot;y=y.value;try{if(!er(b(),y))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xs(s,l,d,m){l&=~Vm,l&=~sa,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var y=l;0<y;){var b=31-nt(y),k=1<<b;m[b]=-1,y&=~k}d!==0&&Hs(s,d,l)}function Bu(){return(et&6)===0?(Bo(0),!1):!0}function Qm(){if(qe!==null){if(rt===0)var s=qe.return;else s=qe,Ri=Ks=null,um(s),el=null,wo=0,s=qe;for(;s!==null;)Cb(s.alternate,s),s=s.return;qe=null}}function ul(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,pM(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Ii=0,Qm(),ot=s,qe=d=Ei(s.current,null),Qe=l,rt=0,ir=null,fs=!1,ll=bt(s,l),Hm=!1,ol=sr=Vm=sa=ms=kt=0,In=Lo=null,$m=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var y=31-nt(m),b=1<<y;l|=s[y],m&=~b}return Bi=l,au(),d}function Wb(s,l){Be=null,B.H=Ro,l===Za||l===mu?(l=dv(),rt=3):l===Jf?(l=dv(),rt=4):rt=l===km?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ir=l,qe===null&&(kt=1,_u(s,br(l,s.current)))}function Kb(){var s=nr.current;return s===null?!0:(Qe&4194048)===Qe?jr===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?s===jr:!1}function Xb(){var s=B.H;return B.H=Ro,s===null?Ro:s}function Jb(){var s=B.A;return B.A=YR,s}function Iu(){kt=4,fs||(Qe&4194048)!==Qe&&nr.current!==null||(ll=!0),(ms&134217727)===0&&(sa&134217727)===0||ot===null||xs(ot,Qe,sr,!1)}function Wm(s,l,d){var m=et;et|=2;var y=Xb(),b=Jb();(ot!==s||Qe!==l)&&(Fu=null,ul(s,l)),l=!1;var k=kt;e:do try{if(rt!==0&&qe!==null){var R=qe,I=ir;switch(rt){case 8:Qm(),k=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(l=!0);var K=rt;if(rt=0,ir=null,dl(s,R,I,K),d&&ll){k=0;break e}break;default:K=rt,rt=0,ir=null,dl(s,R,I,K)}}KR(),k=kt;break}catch(ie){Wb(s,ie)}while(!0);return l&&s.shellSuspendCounter++,Ri=Ks=null,et=m,B.H=y,B.A=b,qe===null&&(ot=null,Qe=0,au()),k}function KR(){for(;qe!==null;)Zb(qe)}function XR(s,l){var d=et;et|=2;var m=Xb(),y=Jb();ot!==s||Qe!==l?(Fu=null,Lu=Vt()+500,ul(s,l)):ll=bt(s,l);e:do try{if(rt!==0&&qe!==null){l=qe;var b=ir;t:switch(rt){case 1:rt=0,ir=null,dl(s,l,b,1);break;case 2:case 9:if(cv(b)){rt=0,ir=null,e1(l);break}l=function(){rt!==2&&rt!==9||ot!==s||(rt=7),ni(s)},b.then(l,l);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:cv(b)?(rt=0,ir=null,e1(l)):(rt=0,ir=null,dl(s,l,b,7));break;case 5:var k=null;switch(qe.tag){case 26:k=qe.memoizedState;case 5:case 27:var R=qe;if(k?B1(k):R.stateNode.complete){rt=0,ir=null;var I=R.sibling;if(I!==null)qe=I;else{var K=R.return;K!==null?(qe=K,Uu(K)):qe=null}break t}}rt=0,ir=null,dl(s,l,b,5);break;case 6:rt=0,ir=null,dl(s,l,b,6);break;case 8:Qm(),kt=6;break e;default:throw Error(r(462))}}JR();break}catch(ie){Wb(s,ie)}while(!0);return Ri=Ks=null,B.H=m,B.A=y,et=d,qe!==null?0:(ot=null,Qe=0,au(),kt)}function JR(){for(;qe!==null&&!ft();)Zb(qe)}function Zb(s){var l=Nb(s.alternate,s,Bi);s.memoizedProps=s.pendingProps,l===null?Uu(s):qe=l}function e1(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=xb(d,l,l.pendingProps,l.type,void 0,Qe);break;case 11:l=xb(d,l,l.pendingProps,l.type.render,l.ref,Qe);break;case 5:um(l);default:Cb(d,l),l=qe=Jy(l,Bi),l=Nb(d,l,Bi)}s.memoizedProps=s.pendingProps,l===null?Uu(s):qe=l}function dl(s,l,d,m){Ri=Ks=null,um(l),el=null,wo=0;var y=l.return;try{if(IR(s,y,l,d,Qe)){kt=1,_u(s,br(d,s.current)),qe=null;return}}catch(b){if(y!==null)throw qe=y,b;kt=1,_u(s,br(d,s.current)),qe=null;return}l.flags&32768?(Ke||m===1?s=!0:ll||(Qe&536870912)!==0?s=!1:(fs=s=!0,(m===2||m===9||m===3||m===6)&&(m=nr.current,m!==null&&m.tag===13&&(m.flags|=16384))),t1(l,s)):Uu(l)}function Uu(s){var l=s;do{if((l.flags&32768)!==0){t1(l,fs);return}s=l.return;var d=VR(l.alternate,l,Bi);if(d!==null){qe=d;return}if(l=l.sibling,l!==null){qe=l;return}qe=l=s}while(l!==null);kt===0&&(kt=5)}function t1(s,l){do{var d=$R(s.alternate,s);if(d!==null){d.flags&=32767,qe=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){qe=s;return}qe=s=d}while(s!==null);kt=6,qe=null}function n1(s,l,d,m,y,b,k,R,I){s.cancelPendingCommit=null;do Hu();while($t!==0);if((et&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=Lf,Tn(s,d,b,k,R,I),s===ot&&(qe=ot=null,Qe=0),cl=l,gs=s,Ii=d,qm=b,Gm=y,qb=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,nM(Ee,function(){return l1(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,y=Y.p,Y.p=2,k=et,et|=4;try{qR(s,l,d)}finally{et=k,Y.p=y,B.T=m}}$t=1,r1(),i1(),s1()}}function r1(){if($t===1){$t=0;var s=gs,l=cl,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var m=Y.p;Y.p=2;var y=et;et|=4;try{Lb(l,s);var b=lp,k=Vy(s.containerInfo),R=b.focusedElem,I=b.selectionRange;if(k!==R&&R&&R.ownerDocument&&Hy(R.ownerDocument.documentElement,R)){if(I!==null&&Tf(R)){var K=I.start,ie=I.end;if(ie===void 0&&(ie=K),"selectionStart"in R)R.selectionStart=K,R.selectionEnd=Math.min(ie,R.value.length);else{var le=R.ownerDocument||document,X=le&&le.defaultView||window;if(X.getSelection){var ee=X.getSelection(),be=R.textContent.length,Me=Math.min(I.start,be),lt=I.end===void 0?Me:Math.min(I.end,be);!ee.extend&&Me>lt&&(k=lt,lt=Me,Me=k);var G=Uy(R,Me),U=Uy(R,lt);if(G&&U&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==U.node||ee.focusOffset!==U.offset)){var W=le.createRange();W.setStart(G.node,G.offset),ee.removeAllRanges(),Me>lt?(ee.addRange(W),ee.extend(U.node,U.offset)):(W.setEnd(U.node,U.offset),ee.addRange(W))}}}}for(le=[],ee=R;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<le.length;R++){var ae=le[R];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}ed=!!ap,lp=ap=null}finally{et=y,Y.p=m,B.T=d}}s.current=l,$t=2}}function i1(){if($t===2){$t=0;var s=gs,l=cl,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var m=Y.p;Y.p=2;var y=et;et|=4;try{Tb(s,l.alternate,l)}finally{et=y,Y.p=m,B.T=d}}$t=3}}function s1(){if($t===4||$t===3){$t=0,An();var s=gs,l=cl,d=Ii,m=qb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?$t=5:($t=0,cl=gs=null,a1(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(ps=null),Pr(d),l=l.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(sn,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=B.T,y=Y.p,Y.p=2,B.T=null;try{for(var b=s.onRecoverableError,k=0;k<m.length;k++){var R=m[k];b(R.value,{componentStack:R.stack})}}finally{B.T=l,Y.p=y}}(Ii&3)!==0&&Hu(),ni(s),y=s.pendingLanes,(d&261930)!==0&&(y&42)!==0?s===Ym?Fo++:(Fo=0,Ym=s):Fo=0,Bo(0)}}function a1(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,vo(l)))}function Hu(){return r1(),i1(),s1(),l1()}function l1(){if($t!==5)return!1;var s=gs,l=qm;qm=0;var d=Pr(Ii),m=B.T,y=Y.p;try{Y.p=32>d?32:d,B.T=null,d=Gm,Gm=null;var b=gs,k=Ii;if($t=0,cl=gs=null,Ii=0,(et&6)!==0)throw Error(r(331));var R=et;if(et|=4,Hb(b.current),Bb(b,b.current,k,d),et=R,Bo(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(sn,b)}catch{}return!0}finally{Y.p=y,B.T=m,a1(s,l)}}function o1(s,l,d){l=br(d,l),l=Cm(s.stateNode,l,2),s=cs(s,l,2),s!==null&&(jt(s,2),ni(s))}function it(s,l,d){if(s.tag===3)o1(s,s,d);else for(;l!==null;){if(l.tag===3){o1(l,s,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ps===null||!ps.has(m))){s=br(d,s),d=cb(2),m=cs(l,d,2),m!==null&&(ub(d,m,l,s),jt(m,2),ni(m));break}}l=l.return}}function Km(s,l,d){var m=s.pingCache;if(m===null){m=s.pingCache=new QR;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(Hm=!0,y.add(d),s=ZR.bind(null,s,l,d),l.then(s,s))}function ZR(s,l,d){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,ot===s&&(Qe&d)===d&&(kt===4||kt===3&&(Qe&62914560)===Qe&&300>Vt()-Pu?(et&2)===0&&ul(s,0):Vm|=d,ol===Qe&&(ol=0)),ni(s)}function c1(s,l){l===0&&(l=yn()),s=Ys(s,l),s!==null&&(jt(s,l),ni(s))}function eM(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),c1(s,d)}function tM(s,l){var d=0;switch(s.tag){case 31:case 13:var m=s.stateNode,y=s.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),c1(s,d)}function nM(s,l){return gr(s,l)}var Vu=null,hl=null,Xm=!1,$u=!1,Jm=!1,ys=0;function ni(s){s!==hl&&s.next===null&&(hl===null?Vu=hl=s:hl=hl.next=s),$u=!0,Xm||(Xm=!0,iM())}function Bo(s,l){if(!Jm&&$u){Jm=!0;do for(var d=!1,m=Vu;m!==null;){if(s!==0){var y=m.pendingLanes;if(y===0)var b=0;else{var k=m.suspendedLanes,R=m.pingedLanes;b=(1<<31-nt(42|s)+1)-1,b&=y&~(k&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,f1(m,b))}else b=Qe,b=De(m,m===ot?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||bt(m,b)||(d=!0,f1(m,b));m=m.next}while(d);Jm=!1}}function rM(){u1()}function u1(){$u=Xm=!1;var s=0;ys!==0&&mM()&&(s=ys);for(var l=Vt(),d=null,m=Vu;m!==null;){var y=m.next,b=d1(m,l);b===0?(m.next=null,d===null?Vu=y:d.next=y,y===null&&(hl=d)):(d=m,(s!==0||(b&3)!==0)&&($u=!0)),m=y}$t!==0&&$t!==5||Bo(s),ys!==0&&(ys=0)}function d1(s,l){for(var d=s.suspendedLanes,m=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var k=31-nt(b),R=1<<k,I=y[k];I===-1?((R&d)===0||(R&m)!==0)&&(y[k]=Kt(R,l)):I<=l&&(s.expiredLanes|=R),b&=~R}if(l=ot,d=Qe,d=De(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,d===0||s===l&&(rt===2||rt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&Wr(m),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||bt(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(m!==null&&Wr(m),Pr(d)){case 2:case 8:d=fe;break;case 32:d=Ee;break;case 268435456:d=Ve;break;default:d=Ee}return m=h1.bind(null,s),d=gr(d,m),s.callbackPriority=l,s.callbackNode=d,l}return m!==null&&m!==null&&Wr(m),s.callbackPriority=2,s.callbackNode=null,2}function h1(s,l){if($t!==0&&$t!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Hu()&&s.callbackNode!==d)return null;var m=Qe;return m=De(s,s===ot?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(Yb(s,m,l),d1(s,Vt()),s.callbackNode!=null&&s.callbackNode===d?h1.bind(null,s):null)}function f1(s,l){if(Hu())return null;Yb(s,l,!0)}function iM(){gM(function(){(et&6)!==0?gr(re,rM):u1()})}function Zm(){if(ys===0){var s=Xa;s===0&&(s=Ma,Ma<<=1,(Ma&261888)===0&&(Ma=256)),ys=s}return ys}function m1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Jc(""+s)}function p1(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function sM(s,l,d,m,y){if(l==="submit"&&d&&d.stateNode===y){var b=m1((y[Dn]||null).action),k=m.submitter;k&&(l=(l=k[Dn]||null)?m1(l.formAction):k.getAttribute("formAction"),l!==null&&(b=l,k=null));var R=new nu("action","action",null,m,y);s.push({event:R,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ys!==0){var I=k?p1(y,k):new FormData(y);vm(d,{pending:!0,data:I,method:y.method,action:b},null,I)}}else typeof b=="function"&&(R.preventDefault(),I=k?p1(y,k):new FormData(y),vm(d,{pending:!0,data:I,method:y.method,action:b},b,I))},currentTarget:y}]})}}for(var ep=0;ep<Pf.length;ep++){var tp=Pf[ep],aM=tp.toLowerCase(),lM=tp[0].toUpperCase()+tp.slice(1);Lr(aM,"on"+lM)}Lr(Gy,"onAnimationEnd"),Lr(Yy,"onAnimationIteration"),Lr(Qy,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(NR,"onTransitionRun"),Lr(jR,"onTransitionStart"),Lr(CR,"onTransitionCancel"),Lr(Wy,"onTransitionEnd"),La("onMouseEnter",["mouseout","mouseover"]),La("onMouseLeave",["mouseout","mouseover"]),La("onPointerEnter",["pointerout","pointerover"]),La("onPointerLeave",["pointerout","pointerover"]),Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Io));function g1(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],y=m.event;m=m.listeners;e:{var b=void 0;if(l)for(var k=m.length-1;0<=k;k--){var R=m[k],I=R.instance,K=R.currentTarget;if(R=R.listener,I!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=K;try{b(y)}catch(ie){su(ie)}y.currentTarget=null,b=I}else for(k=0;k<m.length;k++){if(R=m[k],I=R.instance,K=R.currentTarget,R=R.listener,I!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=K;try{b(y)}catch(ie){su(ie)}y.currentTarget=null,b=I}}}}function Ge(s,l){var d=l[mf];d===void 0&&(d=l[mf]=new Set);var m=s+"__bubble";d.has(m)||(x1(l,s,2,!1),d.add(m))}function np(s,l,d){var m=0;l&&(m|=4),x1(d,s,m,l)}var qu="_reactListening"+Math.random().toString(36).slice(2);function rp(s){if(!s[qu]){s[qu]=!0,uy.forEach(function(d){d!=="selectionchange"&&(oM.has(d)||np(d,!1,s),np(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[qu]||(l[qu]=!0,np("selectionchange",!1,l))}}function x1(s,l,d,m){switch(G1(l)){case 2:var y=PM;break;case 8:y=LM;break;default:y=yp}d=y.bind(null,l,d,s),y=void 0,!Nf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?s.addEventListener(l,d,{capture:!0,passive:y}):s.addEventListener(l,d,!0):y!==void 0?s.addEventListener(l,d,{passive:y}):s.addEventListener(l,d,!1)}function ip(s,l,d,m,y){var b=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var R=m.stateNode.containerInfo;if(R===y)break;if(k===4)for(k=m.return;k!==null;){var I=k.tag;if((I===3||I===4)&&k.stateNode.containerInfo===y)return;k=k.return}for(;R!==null;){if(k=Oa(R),k===null)return;if(I=k.tag,I===5||I===6||I===26||I===27){m=b=k;continue e}R=R.parentNode}}m=m.return}Sy(function(){var K=b,ie=wf(d),le=[];e:{var X=Ky.get(s);if(X!==void 0){var ee=nu,be=s;switch(s){case"keypress":if(eu(d)===0)break e;case"keydown":case"keyup":ee=tR;break;case"focusin":be="focus",ee=Ef;break;case"focusout":be="blur",ee=Ef;break;case"beforeblur":case"afterblur":ee=Ef;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=V_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=iR;break;case Gy:case Yy:case Qy:ee=G_;break;case Wy:ee=aR;break;case"scroll":case"scrollend":ee=U_;break;case"wheel":ee=oR;break;case"copy":case"cut":case"paste":ee=Q_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ey;break;case"toggle":case"beforetoggle":ee=uR}var Me=(l&4)!==0,lt=!Me&&(s==="scroll"||s==="scrollend"),G=Me?X!==null?X+"Capture":null:X;Me=[];for(var U=K,W;U!==null;){var ae=U;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||G===null||(ae=lo(U,G),ae!=null&&Me.push(Uo(U,ae,W))),lt)break;U=U.return}0<Me.length&&(X=new ee(X,be,null,d,ie),le.push({event:X,listeners:Me}))}}if((l&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",X&&d!==bf&&(be=d.relatedTarget||d.fromElement)&&(Oa(be)||be[za]))break e;if((ee||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(be=d.relatedTarget||d.toElement,ee=K,be=be?Oa(be):null,be!==null&&(lt=a(be),Me=be.tag,be!==lt||Me!==5&&Me!==27&&Me!==6)&&(be=null)):(ee=null,be=K),ee!==be)){if(Me=Cy,ae="onMouseLeave",G="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(Me=Ey,ae="onPointerLeave",G="onPointerEnter",U="pointer"),lt=ee==null?X:ao(ee),W=be==null?X:ao(be),X=new Me(ae,U+"leave",ee,d,ie),X.target=lt,X.relatedTarget=W,ae=null,Oa(ie)===K&&(Me=new Me(G,U+"enter",be,d,ie),Me.target=W,Me.relatedTarget=lt,ae=Me),lt=ae,ee&&be)t:{for(Me=cM,G=ee,U=be,W=0,ae=G;ae;ae=Me(ae))W++;ae=0;for(var _e=U;_e;_e=Me(_e))ae++;for(;0<W-ae;)G=Me(G),W--;for(;0<ae-W;)U=Me(U),ae--;for(;W--;){if(G===U||U!==null&&G===U.alternate){Me=G;break t}G=Me(G),U=Me(U)}Me=null}else Me=null;ee!==null&&y1(le,X,ee,Me,!1),be!==null&&lt!==null&&y1(le,lt,be,Me,!0)}}e:{if(X=K?ao(K):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var Je=Dy;else if(zy(X))if(Py)Je=bR;else{Je=yR;var Ce=xR}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&vf(K.elementType)&&(Je=Dy):Je=vR;if(Je&&(Je=Je(s,K))){Oy(le,Je,d,ie);break e}Ce&&Ce(s,X,K),s==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&yf(X,"number",X.value)}switch(Ce=K?ao(K):window,s){case"focusin":(zy(Ce)||Ce.contentEditable==="true")&&(Va=Ce,zf=K,go=null);break;case"focusout":go=zf=Va=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,$y(le,d,ie);break;case"selectionchange":if(SR)break;case"keydown":case"keyup":$y(le,d,ie)}var Ue;if(Rf)e:{switch(s){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Ha?Ay(s,d)&&(We="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(We="onCompositionStart");We&&(_y&&d.locale!=="ko"&&(Ha||We!=="onCompositionStart"?We==="onCompositionEnd"&&Ha&&(Ue=Ny()):(ns=ie,jf="value"in ns?ns.value:ns.textContent,Ha=!0)),Ce=Gu(K,We),0<Ce.length&&(We=new ky(We,s,null,d,ie),le.push({event:We,listeners:Ce}),Ue?We.data=Ue:(Ue=Ty(d),Ue!==null&&(We.data=Ue)))),(Ue=hR?fR(s,d):mR(s,d))&&(We=Gu(K,"onBeforeInput"),0<We.length&&(Ce=new ky("onBeforeInput","beforeinput",null,d,ie),le.push({event:Ce,listeners:We}),Ce.data=Ue)),sM(le,s,K,d,ie)}g1(le,l)})}function Uo(s,l,d){return{instance:s,listener:l,currentTarget:d}}function Gu(s,l){for(var d=l+"Capture",m=[];s!==null;){var y=s,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=lo(s,d),y!=null&&m.unshift(Uo(s,y,b)),y=lo(s,l),y!=null&&m.push(Uo(s,y,b))),s.tag===3)return m;s=s.return}return[]}function cM(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function y1(s,l,d,m,y){for(var b=l._reactName,k=[];d!==null&&d!==m;){var R=d,I=R.alternate,K=R.stateNode;if(R=R.tag,I!==null&&I===m)break;R!==5&&R!==26&&R!==27||K===null||(I=K,y?(K=lo(d,b),K!=null&&k.unshift(Uo(d,K,I))):y||(K=lo(d,b),K!=null&&k.push(Uo(d,K,I)))),d=d.return}k.length!==0&&s.push({event:l,listeners:k})}var uM=/\r\n?/g,dM=/\u0000|\uFFFD/g;function v1(s){return(typeof s=="string"?s:""+s).replace(uM,`
`).replace(dM,"")}function b1(s,l){return l=v1(l),v1(s)===l}function at(s,l,d,m,y,b){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Ba(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Ba(s,""+m);break;case"className":Kc(s,"class",m);break;case"tabIndex":Kc(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Kc(s,d,m);break;case"style":by(s,m,b);break;case"data":if(l!=="object"){Kc(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=Jc(""+m),s.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(l!=="input"&&at(s,l,"name",y.name,y,null),at(s,l,"formEncType",y.formEncType,y,null),at(s,l,"formMethod",y.formMethod,y,null),at(s,l,"formTarget",y.formTarget,y,null)):(at(s,l,"encType",y.encType,y,null),at(s,l,"method",y.method,y,null),at(s,l,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=Jc(""+m),s.setAttribute(d,m);break;case"onClick":m!=null&&(s.onclick=Ci);break;case"onScroll":m!=null&&Ge("scroll",s);break;case"onScrollEnd":m!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}d=Jc(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""+m):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":m===!0?s.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,m):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(d,m):s.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(d):s.setAttribute(d,m);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),Wc(s,"popover",m);break;case"xlinkActuate":ji(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ji(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ji(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ji(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ji(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ji(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ji(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ji(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ji(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Wc(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=B_.get(d)||d,Wc(s,d,m))}}function sp(s,l,d,m,y,b){switch(d){case"style":by(s,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof m=="string"?Ba(s,m):(typeof m=="number"||typeof m=="bigint")&&Ba(s,""+m);break;case"onScroll":m!=null&&Ge("scroll",s);break;case"onScrollEnd":m!=null&&Ge("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dy.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),l=d.slice(2,y?d.length-7:void 0),b=s[Dn]||null,b=b!=null?b[d]:null,typeof b=="function"&&s.removeEventListener(l,b,y),typeof m=="function")){typeof b!="function"&&b!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,m,y);break e}d in s?s[d]=m:m===!0?s.setAttribute(d,""):Wc(s,d,m)}}}function dn(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var m=!1,y=!1,b;for(b in d)if(d.hasOwnProperty(b)){var k=d[b];if(k!=null)switch(b){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:at(s,l,b,k,d,null)}}y&&at(s,l,"srcSet",d.srcSet,d,null),m&&at(s,l,"src",d.src,d,null);return;case"input":Ge("invalid",s);var R=b=k=y=null,I=null,K=null;for(m in d)if(d.hasOwnProperty(m)){var ie=d[m];if(ie!=null)switch(m){case"name":y=ie;break;case"type":k=ie;break;case"checked":I=ie;break;case"defaultChecked":K=ie;break;case"value":b=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:at(s,l,m,ie,d,null)}}gy(s,b,R,I,K,k,y,!1);return;case"select":Ge("invalid",s),m=k=b=null;for(y in d)if(d.hasOwnProperty(y)&&(R=d[y],R!=null))switch(y){case"value":b=R;break;case"defaultValue":k=R;break;case"multiple":m=R;default:at(s,l,y,R,d,null)}l=b,d=k,s.multiple=!!m,l!=null?Fa(s,!!m,l,!1):d!=null&&Fa(s,!!m,d,!0);return;case"textarea":Ge("invalid",s),b=y=m=null;for(k in d)if(d.hasOwnProperty(k)&&(R=d[k],R!=null))switch(k){case"value":m=R;break;case"defaultValue":y=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:at(s,l,k,R,d,null)}yy(s,m,y,b);return;case"option":for(I in d)if(d.hasOwnProperty(I)&&(m=d[I],m!=null))switch(I){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:at(s,l,I,m,d,null)}return;case"dialog":Ge("beforetoggle",s),Ge("toggle",s),Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(m=0;m<Io.length;m++)Ge(Io[m],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in d)if(d.hasOwnProperty(K)&&(m=d[K],m!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:at(s,l,K,m,d,null)}return;default:if(vf(l)){for(ie in d)d.hasOwnProperty(ie)&&(m=d[ie],m!==void 0&&sp(s,l,ie,m,d,void 0));return}}for(R in d)d.hasOwnProperty(R)&&(m=d[R],m!=null&&at(s,l,R,m,d,null))}function hM(s,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,k=null,R=null,I=null,K=null,ie=null;for(ee in d){var le=d[ee];if(d.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":I=le;default:m.hasOwnProperty(ee)||at(s,l,ee,null,m,le)}}for(var X in m){var ee=m[X];if(le=d[X],m.hasOwnProperty(X)&&(ee!=null||le!=null))switch(X){case"type":b=ee;break;case"name":y=ee;break;case"checked":K=ee;break;case"defaultChecked":ie=ee;break;case"value":k=ee;break;case"defaultValue":R=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:ee!==le&&at(s,l,X,ee,m,le)}}xf(s,k,R,I,K,ie,b,y);return;case"select":ee=k=R=X=null;for(b in d)if(I=d[b],d.hasOwnProperty(b)&&I!=null)switch(b){case"value":break;case"multiple":ee=I;default:m.hasOwnProperty(b)||at(s,l,b,null,m,I)}for(y in m)if(b=m[y],I=d[y],m.hasOwnProperty(y)&&(b!=null||I!=null))switch(y){case"value":X=b;break;case"defaultValue":R=b;break;case"multiple":k=b;default:b!==I&&at(s,l,y,b,m,I)}l=R,d=k,m=ee,X!=null?Fa(s,!!d,X,!1):!!m!=!!d&&(l!=null?Fa(s,!!d,l,!0):Fa(s,!!d,d?[]:"",!1));return;case"textarea":ee=X=null;for(R in d)if(y=d[R],d.hasOwnProperty(R)&&y!=null&&!m.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:at(s,l,R,null,m,y)}for(k in m)if(y=m[k],b=d[k],m.hasOwnProperty(k)&&(y!=null||b!=null))switch(k){case"value":X=y;break;case"defaultValue":ee=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&at(s,l,k,y,m,b)}xy(s,X,ee);return;case"option":for(var be in d)if(X=d[be],d.hasOwnProperty(be)&&X!=null&&!m.hasOwnProperty(be))switch(be){case"selected":s.selected=!1;break;default:at(s,l,be,null,m,X)}for(I in m)if(X=m[I],ee=d[I],m.hasOwnProperty(I)&&X!==ee&&(X!=null||ee!=null))switch(I){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:at(s,l,I,X,m,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in d)X=d[Me],d.hasOwnProperty(Me)&&X!=null&&!m.hasOwnProperty(Me)&&at(s,l,Me,null,m,X);for(K in m)if(X=m[K],ee=d[K],m.hasOwnProperty(K)&&X!==ee&&(X!=null||ee!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,l));break;default:at(s,l,K,X,m,ee)}return;default:if(vf(l)){for(var lt in d)X=d[lt],d.hasOwnProperty(lt)&&X!==void 0&&!m.hasOwnProperty(lt)&&sp(s,l,lt,void 0,m,X);for(ie in m)X=m[ie],ee=d[ie],!m.hasOwnProperty(ie)||X===ee||X===void 0&&ee===void 0||sp(s,l,ie,X,m,ee);return}}for(var G in d)X=d[G],d.hasOwnProperty(G)&&X!=null&&!m.hasOwnProperty(G)&&at(s,l,G,null,m,X);for(le in m)X=m[le],ee=d[le],!m.hasOwnProperty(le)||X===ee||X==null&&ee==null||at(s,l,le,X,m,ee)}function w1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fM(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var y=d[m],b=y.transferSize,k=y.initiatorType,R=y.duration;if(b&&R&&w1(k)){for(k=0,R=y.responseEnd,m+=1;m<d.length;m++){var I=d[m],K=I.startTime;if(K>R)break;var ie=I.transferSize,le=I.initiatorType;ie&&w1(le)&&(I=I.responseEnd,k+=ie*(I<R?1:(R-K)/(I-K)))}if(--m,l+=8*(b+k)/(y.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ap=null,lp=null;function Yu(s){return s.nodeType===9?s:s.ownerDocument}function S1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N1(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function op(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var cp=null;function mM(){var s=window.event;return s&&s.type==="popstate"?s===cp?!1:(cp=s,!0):(cp=null,!1)}var j1=typeof setTimeout=="function"?setTimeout:void 0,pM=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,gM=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(s){return C1.resolve(null).then(s).catch(xM)}:j1;function xM(s){setTimeout(function(){throw s})}function vs(s){return s==="head"}function k1(s,l){var d=l,m=0;do{var y=d.nextSibling;if(s.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"||d==="/&"){if(m===0){s.removeChild(y),gl(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Ho(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Ho(d);for(var b=d.firstChild;b;){var k=b.nextSibling,R=b.nodeName;b[so]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||d.removeChild(b),b=k}}else d==="body"&&Ho(s.ownerDocument.body);d=y}while(d);gl(l)}function E1(s,l){var d=s;s=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=m}while(d)}function up(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":up(d),pf(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function yM(s,l,d,m){for(;s.nodeType===1;){var y=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[so])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Cr(s.nextSibling),s===null)break}return null}function vM(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Cr(s.nextSibling),s===null))return null;return s}function _1(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Cr(s.nextSibling),s===null))return null;return s}function dp(s){return s.data==="$?"||s.data==="$~"}function hp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function bM(s,l){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Cr(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var fp=null;function R1(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(l===0)return Cr(s.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}s=s.nextSibling}return null}function M1(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return s;l--}else d!=="/$"&&d!=="/&"||l++}s=s.previousSibling}return null}function A1(s,l,d){switch(l=Yu(d),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Ho(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);pf(s)}var kr=new Map,T1=new Set;function Qu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ui=Y.d;Y.d={f:wM,r:SM,D:NM,C:jM,L:CM,m:kM,X:_M,S:EM,M:RM};function wM(){var s=Ui.f(),l=Bu();return s||l}function SM(s){var l=Da(s);l!==null&&l.tag===5&&l.type==="form"?Wv(l):Ui.r(s)}var fl=typeof document>"u"?null:document;function z1(s,l,d){var m=fl;if(m&&typeof l=="string"&&l){var y=yr(l);y='link[rel="'+s+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),T1.has(y)||(T1.add(y),s={rel:s,crossOrigin:d,href:l},m.querySelector(y)===null&&(l=m.createElement("link"),dn(l,"link",s),Xt(l),m.head.appendChild(l)))}}function NM(s){Ui.D(s),z1("dns-prefetch",s,null)}function jM(s,l){Ui.C(s,l),z1("preconnect",s,l)}function CM(s,l,d){Ui.L(s,l,d);var m=fl;if(m&&s&&l){var y='link[rel="preload"][as="'+yr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+yr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+yr(d.imageSizes)+'"]')):y+='[href="'+yr(s)+'"]';var b=y;switch(l){case"style":b=ml(s);break;case"script":b=pl(s)}kr.has(b)||(s=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),kr.set(b,s),m.querySelector(y)!==null||l==="style"&&m.querySelector(Vo(b))||l==="script"&&m.querySelector($o(b))||(l=m.createElement("link"),dn(l,"link",s),Xt(l),m.head.appendChild(l)))}}function kM(s,l){Ui.m(s,l);var d=fl;if(d&&s){var m=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+yr(m)+'"][href="'+yr(s)+'"]',b=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=pl(s)}if(!kr.has(b)&&(s=g({rel:"modulepreload",href:s},l),kr.set(b,s),d.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector($o(b)))return}m=d.createElement("link"),dn(m,"link",s),Xt(m),d.head.appendChild(m)}}}function EM(s,l,d){Ui.S(s,l,d);var m=fl;if(m&&s){var y=Pa(m).hoistableStyles,b=ml(s);l=l||"default";var k=y.get(b);if(!k){var R={loading:0,preload:null};if(k=m.querySelector(Vo(b)))R.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":l},d),(d=kr.get(b))&&mp(s,d);var I=k=m.createElement("link");Xt(I),dn(I,"link",s),I._p=new Promise(function(K,ie){I.onload=K,I.onerror=ie}),I.addEventListener("load",function(){R.loading|=1}),I.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Wu(k,l,m)}k={type:"stylesheet",instance:k,count:1,state:R},y.set(b,k)}}}function _M(s,l){Ui.X(s,l);var d=fl;if(d&&s){var m=Pa(d).hoistableScripts,y=pl(s),b=m.get(y);b||(b=d.querySelector($o(y)),b||(s=g({src:s,async:!0},l),(l=kr.get(y))&&pp(s,l),b=d.createElement("script"),Xt(b),dn(b,"link",s),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function RM(s,l){Ui.M(s,l);var d=fl;if(d&&s){var m=Pa(d).hoistableScripts,y=pl(s),b=m.get(y);b||(b=d.querySelector($o(y)),b||(s=g({src:s,async:!0,type:"module"},l),(l=kr.get(y))&&pp(s,l),b=d.createElement("script"),Xt(b),dn(b,"link",s),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function O1(s,l,d,m){var y=(y=H.current)?Qu(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=ml(d.href),d=Pa(y).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=ml(d.href);var b=Pa(y).hoistableStyles,k=b.get(s);if(k||(y=y.ownerDocument||y,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,k),(b=y.querySelector(Vo(s)))&&!b._p&&(k.instance=b,k.state.loading=5),kr.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},kr.set(s,d),b||MM(y,s,d,k.state))),l&&m===null)throw Error(r(528,""));return k}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=pl(d),d=Pa(y).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ml(s){return'href="'+yr(s)+'"'}function Vo(s){return'link[rel="stylesheet"]['+s+"]"}function D1(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function MM(s,l,d,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),dn(l,"link",d),Xt(l),s.head.appendChild(l))}function pl(s){return'[src="'+yr(s)+'"]'}function $o(s){return"script[async]"+s}function P1(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+yr(d.href)+'"]');if(m)return l.instance=m,Xt(m),m;var y=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Xt(m),dn(m,"style",y),Wu(m,d.precedence,s),l.instance=m;case"stylesheet":y=ml(d.href);var b=s.querySelector(Vo(y));if(b)return l.state.loading|=4,l.instance=b,Xt(b),b;m=D1(d),(y=kr.get(y))&&mp(m,y),b=(s.ownerDocument||s).createElement("link"),Xt(b);var k=b;return k._p=new Promise(function(R,I){k.onload=R,k.onerror=I}),dn(b,"link",m),l.state.loading|=4,Wu(b,d.precedence,s),l.instance=b;case"script":return b=pl(d.src),(y=s.querySelector($o(b)))?(l.instance=y,Xt(y),y):(m=d,(y=kr.get(b))&&(m=g({},d),pp(m,y)),s=s.ownerDocument||s,y=s.createElement("script"),Xt(y),dn(y,"link",m),s.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Wu(m,d.precedence,s));return l.instance}function Wu(s,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,b=y,k=0;k<m.length;k++){var R=m[k];if(R.dataset.precedence===l)b=R;else if(b!==y)break}b?b.parentNode.insertBefore(s,b.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function mp(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function pp(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Ku=null;function L1(s,l,d){if(Ku===null){var m=new Map,y=Ku=new Map;y.set(d,m)}else y=Ku,m=y.get(d),m||(m=new Map,y.set(d,m));if(m.has(s))return m;for(m.set(s,null),d=d.getElementsByTagName(s),y=0;y<d.length;y++){var b=d[y];if(!(b[so]||b[ln]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(l)||"";k=s+k;var R=m.get(k);R?R.push(b):m.set(k,[b])}}return m}function F1(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function AM(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function B1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function TM(s,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var y=ml(m.href),b=l.querySelector(Vo(y));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Xu.bind(s),l.then(s,s)),d.state.loading|=4,d.instance=b,Xt(b);return}b=l.ownerDocument||l,m=D1(m),(y=kr.get(y))&&mp(m,y),b=b.createElement("link"),Xt(b);var k=b;k._p=new Promise(function(R,I){k.onload=R,k.onerror=I}),dn(b,"link",m),d.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Xu.bind(s),l.addEventListener("load",d),l.addEventListener("error",d))}}var gp=0;function zM(s,l){return s.stylesheets&&s.count===0&&Zu(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var m=setTimeout(function(){if(s.stylesheets&&Zu(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+l);0<s.imgBytes&&gp===0&&(gp=62500*fM());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Zu(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>gp?50:800)+l);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function Xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ju=null;function Zu(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ju=new Map,l.forEach(OM,s),Ju=null,Xu.call(s))}function OM(s,l){if(!(l.state.loading&4)){var d=Ju.get(s);if(d)var m=d.get(null);else{d=new Map,Ju.set(s,d);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var k=y[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),m=k)}m&&d.set(null,m)}y=l.instance,k=y.getAttribute("data-precedence"),b=d.get(k)||m,b===m&&d.set(null,y),d.set(k,y),this.count++,m=Xu.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),b?b.parentNode.insertBefore(y,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),l.state.loading|=4}}var qo={$$typeof:_,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function DM(s,l,d,m,y,b,k,R,I){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.hiddenUpdates=es(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function I1(s,l,d,m,y,b,k,R,I,K,ie,le){return s=new DM(s,l,d,k,I,K,ie,le,R),l=1,b===!0&&(l|=24),b=tr(3,null,null,l),s.current=b,b.stateNode=s,l=Wf(),l.refCount++,s.pooledCache=l,l.refCount++,b.memoizedState={element:m,isDehydrated:d,cache:l},Zf(b),s}function U1(s){return s?(s=Ga,s):Ga}function H1(s,l,d,m,y,b){y=U1(y),m.context===null?m.context=y:m.pendingContext=y,m=os(l),m.payload={element:d},b=b===void 0?null:b,b!==null&&(m.callback=b),d=cs(s,m,l),d!==null&&(Un(d,s,l),No(d,s,l))}function V1(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function xp(s,l){V1(s,l),(s=s.alternate)&&V1(s,l)}function $1(s){if(s.tag===13||s.tag===31){var l=Ys(s,67108864);l!==null&&Un(l,s,67108864),xp(s,67108864)}}function q1(s){if(s.tag===13||s.tag===31){var l=ar();l=Ta(l);var d=Ys(s,l);d!==null&&Un(d,s,l),xp(s,l)}}var ed=!0;function PM(s,l,d,m){var y=B.T;B.T=null;var b=Y.p;try{Y.p=2,yp(s,l,d,m)}finally{Y.p=b,B.T=y}}function LM(s,l,d,m){var y=B.T;B.T=null;var b=Y.p;try{Y.p=8,yp(s,l,d,m)}finally{Y.p=b,B.T=y}}function yp(s,l,d,m){if(ed){var y=vp(m);if(y===null)ip(s,l,m,td,d),Y1(s,m);else if(BM(y,s,l,d,m))m.stopPropagation();else if(Y1(s,m),l&4&&-1<FM.indexOf(s)){for(;y!==null;){var b=Da(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=Jr(b.pendingLanes);if(k!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;k;){var I=1<<31-nt(k);R.entanglements[1]|=I,k&=~I}ni(b),(et&6)===0&&(Lu=Vt()+500,Bo(0))}}break;case 31:case 13:R=Ys(b,2),R!==null&&Un(R,b,2),Bu(),xp(b,2)}if(b=vp(m),b===null&&ip(s,l,m,td,d),b===y)break;y=b}y!==null&&m.stopPropagation()}else ip(s,l,m,null,d)}}function vp(s){return s=wf(s),bp(s)}var td=null;function bp(s){if(td=null,s=Oa(s),s!==null){var l=a(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=o(l),s!==null)return s;s=null}else if(d===31){if(s=u(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return td=s,null}function G1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zi()){case re:return 2;case fe:return 8;case Ee:case Pe:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var wp=!1,bs=null,ws=null,Ss=null,Go=new Map,Yo=new Map,Ns=[],FM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y1(s,l){switch(s){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Go.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(l.pointerId)}}function Qo(s,l,d,m,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},l!==null&&(l=Da(l),l!==null&&$1(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),s)}function BM(s,l,d,m,y){switch(l){case"focusin":return bs=Qo(bs,s,l,d,m,y),!0;case"dragenter":return ws=Qo(ws,s,l,d,m,y),!0;case"mouseover":return Ss=Qo(Ss,s,l,d,m,y),!0;case"pointerover":var b=y.pointerId;return Go.set(b,Qo(Go.get(b)||null,s,l,d,m,y)),!0;case"gotpointercapture":return b=y.pointerId,Yo.set(b,Qo(Yo.get(b)||null,s,l,d,m,y)),!0}return!1}function Q1(s){var l=Oa(s.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){s.blockedOn=l,oy(s.priority,function(){q1(d)});return}}else if(l===31){if(l=u(d),l!==null){s.blockedOn=l,oy(s.priority,function(){q1(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function nd(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=vp(s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);bf=m,d.target.dispatchEvent(m),bf=null}else return l=Da(d),l!==null&&$1(l),s.blockedOn=d,!1;l.shift()}return!0}function W1(s,l,d){nd(s)&&d.delete(l)}function IM(){wp=!1,bs!==null&&nd(bs)&&(bs=null),ws!==null&&nd(ws)&&(ws=null),Ss!==null&&nd(Ss)&&(Ss=null),Go.forEach(W1),Yo.forEach(W1)}function rd(s,l){s.blockedOn===l&&(s.blockedOn=null,wp||(wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,IM)))}var id=null;function K1(s){id!==s&&(id=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){id===s&&(id=null);for(var l=0;l<s.length;l+=3){var d=s[l],m=s[l+1],y=s[l+2];if(typeof m!="function"){if(bp(m||d)===null)continue;break}var b=Da(d);b!==null&&(s.splice(l,3),l-=3,vm(b,{pending:!0,data:y,method:d.method,action:m},m,y))}}))}function gl(s){function l(I){return rd(I,s)}bs!==null&&rd(bs,s),ws!==null&&rd(ws,s),Ss!==null&&rd(Ss,s),Go.forEach(l),Yo.forEach(l);for(var d=0;d<Ns.length;d++){var m=Ns[d];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Ns.length&&(d=Ns[0],d.blockedOn===null);)Q1(d),d.blockedOn===null&&Ns.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var y=d[m],b=d[m+1],k=y[Dn]||null;if(typeof b=="function")k||K1(d);else if(k){var R=null;if(b&&b.hasAttribute("formAction")){if(y=b,k=b[Dn]||null)R=k.formAction;else if(bp(y)!==null)continue}else R=k.action;typeof R=="function"?d[m+1]=R:(d.splice(m,3),m-=3),K1(d)}}}function X1(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(k){return y=k})},focusReset:"manual",scroll:"manual"})}function l(){y!==null&&(y(),y=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),y!==null&&(y(),y=null)}}}function Sp(s){this._internalRoot=s}sd.prototype.render=Sp.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=ar();H1(d,m,s,l,null,null)},sd.prototype.unmount=Sp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;H1(s.current,2,null,s,null,null),Bu(),l[za]=null}};function sd(s){this._internalRoot=s}sd.prototype.unstable_scheduleHydration=function(s){if(s){var l=ff();s={blockedOn:null,target:s,priority:l};for(var d=0;d<Ns.length&&l!==0&&l<Ns[d].priority;d++);Ns.splice(d,0,s),d===0&&Q1(s)}};var J1=e.version;if(J1!=="19.2.1")throw Error(r(527,J1,"19.2.1"));Y.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var UM={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{sn=ad.inject(UM),Mt=ad}catch{}}return Ko.createRoot=function(s,l){if(!i(s))throw Error(r(299));var d=!1,m="",y=sb,b=ab,k=lb;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=I1(s,1,!1,null,null,d,m,null,y,b,k,X1),s[za]=l.current,rp(s),new Sp(l)},Ko.hydrateRoot=function(s,l,d){if(!i(s))throw Error(r(299));var m=!1,y="",b=sb,k=ab,R=lb,I=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(R=d.onRecoverableError),d.formState!==void 0&&(I=d.formState)),l=I1(s,1,!0,l,d??null,m,y,I,b,k,R,X1),l.context=U1(null),d=l.current,m=ar(),m=Ta(m),y=os(m),y.callback=null,cs(d,y,m),d=m,l.current.lanes=d,jt(l,d),ni(l),s[za]=l.current,rp(s),new sd(l)},Ko.version="19.2.1",Ko}var ow;function XM(){if(ow)return Cp.exports;ow=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cp.exports=KM(),Cp.exports}var JM=XM(),$l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZM={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},e5=class{#e=ZM;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},ca=new e5;function t5(t){setTimeout(t,0)}var xa=typeof window>"u"||"Deno"in globalThis;function Yt(){}function n5(t,e){return typeof t=="function"?t(e):t}function Pg(t){return typeof t=="number"&&t>=0&&t!==1/0}function _j(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ts(t,e){return typeof t=="function"?t(e):t}function Rr(t,e){return typeof t=="function"?t(e):t}function cw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:u}=t;if(o){if(r){if(e.queryHash!==Tx(o,e.options))return!1}else if(!wc(e.queryKey,o))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||a&&!a(e))}function uw(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(ya(e.options.mutationKey)!==ya(a))return!1}else if(!wc(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Tx(t,e){return(e?.queryKeyHashFn||ya)(t)}function ya(t){return JSON.stringify(t,(e,n)=>Lg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function wc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>wc(t[n],e[n])):!1}var r5=Object.prototype.hasOwnProperty;function Rj(t,e){if(t===e)return t;const n=dw(t)&&dw(e);if(!n&&!(Lg(t)&&Lg(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,u=n?new Array(o):{};let h=0;for(let f=0;f<o;f++){const p=n?f:a[f],g=t[p],x=e[p];if(g===x){u[p]=g,(n?f<i:r5.call(t,p))&&h++;continue}if(g===null||x===null||typeof g!="object"||typeof x!="object"){u[p]=x;continue}const v=Rj(g,x);u[p]=v,v===g&&h++}return i===o&&h===i?t:u}function Zd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function dw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lg(t){if(!hw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hw(t){return Object.prototype.toString.call(t)==="[object Object]"}function i5(t){return new Promise(e=>{ca.setTimeout(e,t)})}function Fg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Rj(t,e):e}function s5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function a5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zx=Symbol();function Mj(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===zx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Aj(t,e){return typeof t=="function"?t(...e):!!t}var l5=class extends $l{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!xa&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ox=new l5;function Bg(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function o5(t){let e;if(t.then(n=>(e=n,n),Yt)?.catch(Yt),e!==void 0)return{data:e}}function Tj(t){return t}function c5(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function u5(t,e,n){const r=()=>{const i=t.promise?.then(e).catch(a=>n(a)?Promise.reject(new Error("redacted")):Promise.reject(a));return i?.catch(Yt),i};return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:r()},...t.meta&&{meta:t.meta}}}function d5(t){return t.state.isPaused}function h5(t){return t.state.status==="success"}function f5(t){return!0}function m5(t,e={}){const n=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??d5,r=t.getMutationCache().getAll().flatMap(h=>n(h)?[c5(h)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??h5,a=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??f5,o=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??Tj,u=t.getQueryCache().getAll().flatMap(h=>i(h)?[u5(h,o,a)]:[]);return{mutations:r,queries:u}}function p5(t,e,n){if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),i=t.getQueryCache(),a=n?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??Tj,o=e.mutations||[],u=e.queries||[];o.forEach(({state:h,...f})=>{r.build(t,{...t.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...f},h)}),u.forEach(({queryKey:h,state:f,queryHash:p,meta:g,promise:x,dehydratedAt:v})=>{const w=x?o5(x):void 0,S=f.data===void 0?w?.data:f.data,C=S===void 0?S:a(S);let j=i.get(p);const E=j?.state.status==="pending",_=j?.state.fetchStatus==="fetching";if(j){const A=w&&v!==void 0&&v>j.state.dataUpdatedAt;if(f.dataUpdatedAt>j.state.dataUpdatedAt||A){const{fetchStatus:O,...z}=f;j.setState({...z,data:C})}}else j=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:h,queryHash:p,meta:g},{...f,data:C,fetchStatus:"idle",status:C!==void 0?"success":f.status});x&&!E&&!_&&(v===void 0||v>j.state.dataUpdatedAt)&&j.fetch(void 0,{initialPromise:Promise.resolve(x).then(a)}).catch(Yt)})}var g5=t5;function x5(){let t=[],e=0,n=u=>{u()},r=u=>{u()},i=g5;const a=u=>{e?t.push(u):i(()=>{n(u)})},o=()=>{const u=t;t=[],u.length&&i(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||o()}return h},batchCalls:u=>(...h)=>{a(()=>{u(...h)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var Qt=x5(),y5=class extends $l{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!xa&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},eh=new y5;function v5(t){return Math.min(1e3*2**t,3e4)}function zj(t){return(t??"online")==="online"?eh.isOnline():!0}var Ig=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Oj(t){let e=!1,n=0,r;const i=Bg(),a=()=>i.status!=="pending",o=S=>{if(!a()){const C=new Ig(S);x(C),t.onCancel?.(C)}},u=()=>{e=!0},h=()=>{e=!1},f=()=>Ox.isFocused()&&(t.networkMode==="always"||eh.isOnline())&&t.canRun(),p=()=>zj(t.networkMode)&&t.canRun(),g=S=>{a()||(r?.(),i.resolve(S))},x=S=>{a()||(r?.(),i.reject(S))},v=()=>new Promise(S=>{r=C=>{(a()||f())&&S(C)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),w=()=>{if(a())return;let S;const C=n===0?t.initialPromise:void 0;try{S=C??t.fn()}catch(j){S=Promise.reject(j)}Promise.resolve(S).then(g).catch(j=>{if(a())return;const E=t.retry??(xa?0:3),_=t.retryDelay??v5,A=typeof _=="function"?_(n,j):_,O=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,j);if(e||!O){x(j);return}n++,t.onFail?.(n,j),i5(A).then(()=>f()?void 0:v()).then(()=>{e?x(j):w()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:u,continueRetry:h,canStart:p,start:()=>(p()?w():v().then(w),i)}}var Dj=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pg(this.gcTime)&&(this.#e=ca.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ca.clearTimeout(this.#e),this.#e=void 0)}},b5=class extends Dj{#e;#t;#n;#i;#r;#a;#l;constructor(t){super(),this.#l=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=mw(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=mw(this.options);e.data!==void 0&&(this.setState(fw(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Fg(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Yt).catch(Yt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Rr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ts(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!_j(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},i=()=>{const u=Mj(this.options,e),f=(()=>{const p={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#l=!1,this.options.persister?this.options.persister(u,f,this):u(f)},o=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=Oj({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:u=>{u instanceof Ig&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(u,h)=>{this.#s({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const u=await this.#r.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof Ig){if(u.silent)return this.#r.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#s({type:"error",error:u}),this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Pj(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...fw(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Qt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Pj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var w5=class extends $l{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#l=Bg(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#l;#s;#p;#h;#f;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),pw(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ug(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ug(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!Zd(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&gw(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Rr(this.options.enabled,this.#t)!==Rr(e.enabled,this.#t)||Ts(this.options.staleTime,this.#t)!==Ts(e.staleTime,this.#t))&&this.#g();const i=this.#x();r&&(this.#t!==n||Rr(this.options.enabled,this.#t)!==Rr(e.enabled,this.#t)||i!==this.#o)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return N5(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Yt)),e}#g(){this.#b();const t=Ts(this.options.staleTime,this.#t);if(xa||this.#i.isStale||!Pg(t))return;const n=_j(this.#i.dataUpdatedAt,t)+1;this.#c=ca.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#o=t,!(xa||Rr(this.options.enabled,this.#t)===!1||!Pg(this.#o)||this.#o===0)&&(this.#u=ca.setInterval(()=>{(this.options.refetchIntervalInBackground||Ox.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#y(this.#x())}#b(){this.#c&&(ca.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(ca.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,a=this.#r,o=this.#a,h=t!==n?t.state:this.#n,{state:f}=t;let p={...f},g=!1,x;if(e._optimisticResults){const P=this.hasListeners(),$=!P&&pw(t,e),L=P&&gw(t,n,e,r);($||L)&&(p={...p,...Pj(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:S}=p;x=p.data;let C=!1;if(e.placeholderData!==void 0&&x===void 0&&S==="pending"){let P;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(P=i.data,C=!0):P=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,P!==void 0&&(S="success",x=Fg(i?.data,P,e),g=!0)}if(e.select&&x!==void 0&&!C)if(i&&x===a?.data&&e.select===this.#p)x=this.#h;else try{this.#p=e.select,x=e.select(x),x=Fg(i?.data,x,e),this.#h=x,this.#s=null}catch(P){this.#s=P}this.#s&&(v=this.#s,x=this.#h,w=Date.now(),S="error");const j=p.fetchStatus==="fetching",E=S==="pending",_=S==="error",A=E&&j,O=x!==void 0,F={status:S,fetchStatus:p.fetchStatus,isPending:E,isSuccess:S==="success",isError:_,isInitialLoading:A,isLoading:A,data:x,dataUpdatedAt:p.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:j,isRefetching:j&&!E,isLoadingError:_&&!O,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:_&&O,isStale:Dx(t,e),refetch:this.refetch,promise:this.#l,isEnabled:Rr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=q=>{F.status==="error"?q.reject(F.error):F.data!==void 0&&q.resolve(F.data)},$=()=>{const q=this.#l=F.promise=Bg();P(q)},L=this.#l;switch(L.status){case"pending":t.queryHash===n.queryHash&&P(L);break;case"fulfilled":(F.status==="error"||F.data!==L.value)&&$();break;case"rejected":(F.status!=="error"||F.error!==L.reason)&&$();break}}return F}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Zd(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#m.size)return!0;const a=new Set(i??this.#m);return this.options.throwOnError&&a.add("error"),Object.keys(this.#i).some(o=>{const u=o;return this.#i[u]!==t[u]&&a.has(u)})};this.#N({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(t){Qt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function S5(t,e){return Rr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pw(t,e){return S5(t,e)||t.state.data!==void 0&&Ug(t,e,e.refetchOnMount)}function Ug(t,e,n){if(Rr(e.enabled,t)!==!1&&Ts(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Dx(t,e)}return!1}function gw(t,e,n,r){return(t!==e||Rr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Dx(t,n)}function Dx(t,e){return Rr(e.enabled,t)!==!1&&t.isStaleByTime(Ts(e.staleTime,t))}function N5(t,e){return!Zd(t.getCurrentResult(),e)}function xw(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const f=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},x=Mj(e.options,e.fetchOptions),v=async(w,S,C)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return g(z),z})(),_=await x(E),{maxPages:A}=e.options,O=C?a5:s5;return{pages:O(w.pages,_,A),pageParams:O(w.pageParams,S,A)}};if(i&&a.length){const w=i==="backward",S=w?j5:yw,C={pages:a,pageParams:o},j=S(r,C);u=await v(C,j,w)}else{const w=t??a.length;do{const S=h===0?o[0]??r.initialPageParam:yw(r,u);if(h>0&&S==null)break;u=await v(u,S),h++}while(h<w)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function yw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function j5(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var C5=class extends Dj{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||Lj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=Oj({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#r({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:i})}const a=await this.#i.start();return await this.#n.config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#n.config.onError?.(a,t,this.state.context,this,n),await this.options.onError?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,a,t,this.state.context,n),a}finally{this.#r({type:"error",error:a})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Qt.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function Lj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var k5=class extends $l{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new C5({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=ld(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ld(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ld(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=ld(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Qt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>uw(e,n))}findAll(t={}){return this.getAll().filter(e=>uw(t,e))}notify(t){Qt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Qt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Yt))))}};function ld(t){return t.options.scope?.id}var E5=class extends $l{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Zd(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&ya(n.mutationKey)!==ya(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??Lj();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Qt.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},_5=class extends $l{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??Tx(r,e);let a=this.get(i);return a||(a=new b5({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>cw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>cw(t,n)):e}notify(t){Qt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},R5=class{#e;#t;#n;#i;#r;#a;#l;#s;constructor(t={}){this.#e=t.queryCache||new _5,this.#t=t.mutationCache||new k5,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#l=Ox.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=eh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ts(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,o=n5(e,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Qt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Qt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Qt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Qt.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Yt).catch(Yt)}invalidateQueries(t,e={}){return Qt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Qt.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Yt)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Yt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Ts(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yt).catch(Yt)}fetchInfiniteQuery(t){return t.behavior=xw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yt).catch(Yt)}ensureInfiniteQueryData(t){return t.behavior=xw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return eh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(ya(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{wc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(ya(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{wc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Tx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===zx&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},M5=["added","removed","updated"];function vw(t){return M5.includes(t)}async function A5({queryClient:t,persister:e,maxAge:n=1e3*60*60*24,buster:r="",hydrateOptions:i}){try{const a=await e.restoreClient();if(a)if(a.timestamp){const o=Date.now()-a.timestamp>n,u=a.buster!==r;if(o||u)return e.removeClient();p5(t,a.clientState,i)}else return e.removeClient()}catch(a){throw await e.removeClient(),a}}async function bw({queryClient:t,persister:e,buster:n="",dehydrateOptions:r}){const i={buster:n,timestamp:Date.now(),clientState:m5(t,r)};await e.persistClient(i)}function T5(t){const e=t.queryClient.getQueryCache().subscribe(r=>{vw(r.type)&&bw(t)}),n=t.queryClient.getMutationCache().subscribe(r=>{vw(r.type)&&bw(t)});return()=>{e(),n()}}var Fj=N.createContext(void 0),Kn=t=>{const e=N.useContext(Fj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},z5=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(Fj.Provider,{value:t,children:e})),Bj=N.createContext(!1),O5=()=>N.useContext(Bj),D5=Bj.Provider;function P5(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var L5=N.createContext(P5()),F5=()=>N.useContext(L5),B5=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},I5=t=>{N.useEffect(()=>{t.clearReset()},[t])},U5=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Aj(n,[t.error,r])),H5=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},V5=(t,e)=>t.isLoading&&t.isFetching&&!e,$5=(t,e)=>t?.suspense&&e.isPending,ww=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function q5(t,e,n){const r=O5(),i=F5(),a=Kn(),o=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",H5(o),B5(o,i),I5(i);const u=!a.getQueryCache().get(o.queryHash),[h]=N.useState(()=>new e(a,o)),f=h.getOptimisticResult(o),p=!r&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(g=>{const x=p?h.subscribe(Qt.batchCalls(g)):Yt;return h.updateResult(),x},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),N.useEffect(()=>{h.setOptions(o)},[o,h]),$5(o,f))throw ww(o,h,i);if(U5({result:f,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw f.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!xa&&V5(f,r)&&(u?ww(o,h,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(Yt).finally(()=>{h.updateResult()}),o.notifyOnChangeProps?f:h.trackResult(f)}function nn(t,e){return q5(t,w5)}function vi(t,e){const n=Kn(),[r]=N.useState(()=>new E5(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const i=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(Qt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=N.useCallback((o,u)=>{r.mutate(o,u).catch(Yt)},[r]);if(i.error&&Aj(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var G5=({children:t,persistOptions:e,onSuccess:n,onError:r,...i})=>{const[a,o]=N.useState(!0),u=N.useRef({persistOptions:e,onSuccess:n,onError:r}),h=N.useRef(!1);return N.useEffect(()=>{u.current={persistOptions:e,onSuccess:n,onError:r}}),N.useEffect(()=>{const f={...u.current.persistOptions,queryClient:i.client};return h.current||(h.current=!0,A5(f).then(()=>u.current.onSuccess?.()).catch(()=>u.current.onError?.()).finally(()=>{o(!1)})),a?void 0:T5(f)},[i.client,a]),c.jsx(z5,{...i,children:c.jsx(D5,{value:a,children:t})})},Y5=function(){return null};function _h(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Q5(t,e){let n;const r=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=_h(i),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(i,a)=>r().then(o=>a(o.transaction(e,i).objectStore(e)))}let Rp;function Px(){return Rp||(Rp=Q5("keyval-store","keyval")),Rp}function W5(t,e=Px()){return e("readonly",n=>_h(n.get(t)))}function K5(t,e,n=Px()){return n("readwrite",r=>(r.put(e,t),_h(r.transaction)))}function X5(t,e=Px()){return e("readwrite",n=>(n.delete(t),_h(n.transaction)))}const J5=(t="REACT_QUERY_OFFLINE_CACHE")=>({persistClient:async e=>{try{const n=JSON.parse(JSON.stringify(e));await K5(t,n)}catch(n){console.error("Failed to persist query client:",n)}},restoreClient:async()=>await W5(t),removeClient:async()=>{await X5(t)}}),th=new R5({defaultOptions:{queries:{staleTime:1e3*30,gcTime:1e3*60*60*24,retry:1,refetchOnWindowFocus:!0}}}),Ij=J5(),Z5={persister:Ij,maxAge:1e3*60*60*24,buster:"v3",dehydrateOptions:{shouldDehydrateQuery:t=>t.state.status==="success",shouldDehydrateMutation:()=>!1}};var Sw="popstate";function eA(t={}){function e(r,i){let{pathname:a,search:o,hash:u}=r.location;return Hg("",{pathname:a,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Sc(i)}return nA(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tA(){return Math.random().toString(36).substring(2,10)}function Nw(t,e){return{usr:t.state,key:t.key,idx:e}}function Hg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ql(e):e,state:n,key:e&&e.key||r||tA()}}function Sc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ql(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function nA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u="POP",h=null,f=p();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let C=p(),j=C==null?null:C-f;f=C,h&&h({action:u,location:S.location,delta:j})}function x(C,j){u="PUSH";let E=Hg(S.location,C,j);f=p()+1;let _=Nw(E,f),A=S.createHref(E);try{o.pushState(_,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(A)}a&&h&&h({action:u,location:S.location,delta:1})}function v(C,j){u="REPLACE";let E=Hg(S.location,C,j);f=p();let _=Nw(E,f),A=S.createHref(E);o.replaceState(_,"",A),a&&h&&h({action:u,location:S.location,delta:0})}function w(C){return rA(C)}let S={get action(){return u},get location(){return t(i,o)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Sw,g),h=C,()=>{i.removeEventListener(Sw,g),h=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let j=w(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:v,go(C){return o.go(C)}};return S}function rA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Sc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Uj(t,e,n="/"){return iA(t,e,n,!1)}function iA(t,e,n,r){let i=typeof e=="string"?ql(e):e,a=Yi(i.pathname||"/",n);if(a==null)return null;let o=Hj(t);sA(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let f=gA(a);u=mA(o[h],f,r)}return u}function Hj(t,e=[],n=[],r="",i=!1){let a=(o,u,h=i,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;St(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Gi([r,p.relativePath]),x=n.concat(p);o.children&&o.children.length>0&&(St(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Hj(o.children,e,x,g,h)),!(o.path==null&&!o.index)&&e.push({path:g,score:hA(g,o.index),routesMeta:x})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let h of Vj(o.path))a(o,u,!0,h)}),e}function Vj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=Vj(r.join("/")),u=[];return u.push(...o.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...o),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function sA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var aA=/^:[\w-]+$/,lA=3,oA=2,cA=1,uA=10,dA=-2,jw=t=>t==="*";function hA(t,e){let n=t.split("/"),r=n.length;return n.some(jw)&&(r+=dA),e&&(r+=oA),n.filter(i=>!jw(i)).reduce((i,a)=>i+(aA.test(a)?lA:a===""?cA:uA),r)}function fA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mA(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=nh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),x=h.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=nh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Gi([a,g.pathname]),pathnameBase:wA(Gi([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=Gi([a,g.pathnameBase]))}return o}function nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},x)=>{if(p==="*"){let w=u[x]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[x];return g&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:t}}function pA(t,e=!1,n=!0){hr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yA=t=>xA.test(t);function vA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ql(t):t,a;if(n)if(yA(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),hr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=Cw(n.substring(1),"/"):a=Cw(n,e)}else a=e;return{pathname:a,search:SA(r),hash:NA(i)}}function Cw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lx(t){let e=bA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fx(t,e,n,r=!1){let i;typeof t=="string"?i=ql(t):(i={...t},St(!i.pathname||!i.pathname.includes("?"),Mp("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Mp("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Mp("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}u=g>=0?e[g]:"/"}let h=vA(i,u),f=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Gi=t=>t.join("/").replace(/\/\/+/g,"/"),wA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function CA(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $j=["POST","PUT","PATCH","DELETE"];new Set($j);var kA=["GET",...$j];new Set(kA);var Gl=N.createContext(null);Gl.displayName="DataRouter";var Rh=N.createContext(null);Rh.displayName="DataRouterState";N.createContext(!1);var qj=N.createContext({isTransitioning:!1});qj.displayName="ViewTransition";var EA=N.createContext(new Map);EA.displayName="Fetchers";var _A=N.createContext(null);_A.displayName="Await";var zr=N.createContext(null);zr.displayName="Navigation";var zc=N.createContext(null);zc.displayName="Location";var Gr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var Bx=N.createContext(null);Bx.displayName="RouteError";function RA(t,{relative:e}={}){St(Yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(zr),{hash:i,pathname:a,search:o}=Oc(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Gi([n,a])),r.createHref({pathname:u,search:o,hash:i})}function Yl(){return N.useContext(zc)!=null}function bi(){return St(Yl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(zc).location}var Gj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yj(t){N.useContext(zr).static||N.useLayoutEffect(t)}function _t(){let{isDataRoute:t}=N.useContext(Gr);return t?HA():MA()}function MA(){St(Yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Gl),{basename:e,navigator:n}=N.useContext(zr),{matches:r}=N.useContext(Gr),{pathname:i}=bi(),a=JSON.stringify(Lx(r)),o=N.useRef(!1);return Yj(()=>{o.current=!0}),N.useCallback((h,f={})=>{if(hr(o.current,Gj),!o.current)return;if(typeof h=="number"){n.go(h);return}let p=Fx(h,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Gi([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,a,i,t])}N.createContext(null);function Qj(){let{matches:t}=N.useContext(Gr),e=t[t.length-1];return e?e.params:{}}function Oc(t,{relative:e}={}){let{matches:n}=N.useContext(Gr),{pathname:r}=bi(),i=JSON.stringify(Lx(n));return N.useMemo(()=>Fx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function AA(t,e){return Wj(t,e)}function Wj(t,e,n,r,i){St(Yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(zr),{matches:o}=N.useContext(Gr),u=o[o.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let E=g&&g.path||"";Kj(f,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let x=bi(),v;if(e){let E=typeof e=="string"?ql(e):e;St(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=x;let w=v.pathname||"/",S=w;if(p!=="/"){let E=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=Uj(t,{pathname:S});hr(g||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),hr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=PA(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Gi([p,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:Gi([p,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,i);return e&&j?N.createElement(zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},j):j}function TA(){let t=UA(),e=jA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,o)}var zA=N.createElement(TA,null),OA=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(Gr.Provider,{value:this.props.routeContext},N.createElement(Bx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DA({routeContext:t,match:e,children:n}){let r=N.useContext(Gl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Gr.Provider,{value:t},n)}function PA(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n?.errors;if(o!=null){let p=a.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);St(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,h=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:x,errors:v}=n,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let f=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:CA(n.matches),errorInfo:g})}:void 0;return a.reduceRight((p,g,x)=>{let v,w=!1,S=null,C=null;n&&(v=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||zA,u&&(h<0&&x===0?(Kj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):h===x&&(w=!0,C=g.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,x+1)),E=()=>{let _;return v?_=S:w?_=C:g.route.Component?_=N.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=p,N.createElement(DA,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:_})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?N.createElement(OA,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:f}):E()},null)}function Ix(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LA(t){let e=N.useContext(Gl);return St(e,Ix(t)),e}function FA(t){let e=N.useContext(Rh);return St(e,Ix(t)),e}function BA(t){let e=N.useContext(Gr);return St(e,Ix(t)),e}function Ux(t){let e=BA(t),n=e.matches[e.matches.length-1];return St(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function IA(){return Ux("useRouteId")}function UA(){let t=N.useContext(Bx),e=FA("useRouteError"),n=Ux("useRouteError");return t!==void 0?t:e.errors?.[n]}function HA(){let{router:t}=LA("useNavigate"),e=Ux("useNavigate"),n=N.useRef(!1);return Yj(()=>{n.current=!0}),N.useCallback(async(i,a={})=>{hr(n.current,Gj),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var kw={};function Kj(t,e,n){!e&&!kw[t]&&(kw[t]=!0,hr(!1,n))}N.memo(VA);function VA({routes:t,future:e,state:n,unstable_onError:r}){return Wj(t,void 0,n,r,e)}function Hx({to:t,replace:e,state:n,relative:r}){St(Yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(zr);hr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(Gr),{pathname:o}=bi(),u=_t(),h=Fx(t,Lx(a),o,r==="path"),f=JSON.stringify(h);return N.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function Zt(t){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $A({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){St(!Yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[u,i,a,o]);typeof n=="string"&&(n=ql(n));let{pathname:f="/",search:p="",hash:g="",state:x=null,key:v="default"}=n,w=N.useMemo(()=>{let S=Yi(f,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:x,key:v},navigationType:r}},[u,f,p,g,x,v,r]);return hr(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(zr.Provider,{value:h},N.createElement(zc.Provider,{children:e,value:w}))}function qA({children:t,location:e}){return AA(Vg(t),e)}function Vg(t,e=[]){let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let a=[...e,i];if(r.type===N.Fragment){n.push.apply(n,Vg(r.props.children,a));return}St(r.type===Zt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vg(r.props.children,a)),n.push(o)}),n}var Bd="get",Id="application/x-www-form-urlencoded";function Mh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function GA(t){return Mh(t)&&t.tagName.toLowerCase()==="button"}function YA(t){return Mh(t)&&t.tagName.toLowerCase()==="form"}function QA(t){return Mh(t)&&t.tagName.toLowerCase()==="input"}function WA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KA(t,e){return t.button===0&&(!e||e==="_self")&&!WA(t)}function $g(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function XA(t,e){let n=$g(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var od=null;function JA(){if(od===null)try{new FormData(document.createElement("form"),0),od=!1}catch{od=!0}return od}var ZA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(t){return t!=null&&!ZA.has(t)?(hr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):t}function eT(t,e){let n,r,i,a,o;if(YA(t)){let u=t.getAttribute("action");r=u?Yi(u,e):null,n=t.getAttribute("method")||Bd,i=Ap(t.getAttribute("enctype"))||Id,a=new FormData(t)}else if(GA(t)||QA(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Yi(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Bd,i=Ap(t.getAttribute("formenctype"))||Ap(u.getAttribute("enctype"))||Id,a=new FormData(u,t),!JA()){let{name:f,type:p,value:g}=t;if(p==="image"){let x=f?`${f}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else f&&a.append(f,g)}}else{if(Mh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bd,r=null,i=Id,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tT(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Yi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iT(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await nT(a,n);return o.links?o.links():[]}return[]}));return oT(r.flat(1).filter(rT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ew(t,e,n,r,i,a){let o=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return a==="assets"?e.filter((h,f)=>o(h,f)||u(h,f)):a==="data"?e.filter((h,f)=>{let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(o(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function sT(t,e,{includeHydrateFallback:n}={}){return aT(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function aT(t){return[...new Set(t)]}function lT(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function oT(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(lT(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Xj(){let t=N.useContext(Gl);return Vx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cT(){let t=N.useContext(Rh);return Vx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $x=N.createContext(void 0);$x.displayName="FrameworkContext";function Jj(){let t=N.useContext($x);return Vx(t,"You must render this element inside a <HydratedRouter> element"),t}function uT(t,e){let n=N.useContext($x),[r,i]=N.useState(!1),[a,o]=N.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=j=>{j.forEach(E=>{o(E.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[t]),N.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Xo(u,v),onBlur:Xo(h,w),onMouseEnter:Xo(f,v),onMouseLeave:Xo(p,w),onTouchStart:Xo(g,v)}]:[!1,x,{}]}function Xo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dT({page:t,...e}){let{router:n}=Xj(),r=N.useMemo(()=>Uj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(fT,{page:t,matches:r,...e}):null}function hT(t){let{manifest:e,routeModules:n}=Jj(),[r,i]=N.useState([]);return N.useEffect(()=>{let a=!1;return iT(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function fT({page:t,matches:e,...n}){let r=bi(),{manifest:i,routeModules:a}=Jj(),{basename:o}=Xj(),{loaderData:u,matches:h}=cT(),f=N.useMemo(()=>Ew(t,e,h,i,r,"data"),[t,e,h,i,r]),p=N.useMemo(()=>Ew(t,e,h,i,r,"assets"),[t,e,h,i,r]),g=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(j=>{let E=i.routes[j.route.id];!E||!E.hasLoader||(!f.some(_=>_.route.id===j.route.id)&&j.route.id in u&&a[j.route.id]?.shouldRevalidate||E.hasClientLoader?S=!0:w.add(j.route.id))}),w.size===0)return[];let C=tT(t,o,"data");return S&&w.size>0&&C.searchParams.set("_routes",e.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[C.pathname+C.search]},[o,u,r,i,f,e,t,a]),x=N.useMemo(()=>sT(p,i),[p,i]),v=hT(p);return N.createElement(N.Fragment,null,g.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:S})=>N.createElement("link",{key:w,nonce:n.nonce,...S})))}function mT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Zj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zj&&(window.__reactRouterVersion="7.10.1")}catch{}function pT({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=N.useRef();i.current==null&&(i.current=eA({window:r,v5Compat:!0}));let a=i.current,[o,u]=N.useState({action:a.action,location:a.location}),h=N.useCallback(f=>{n===!1?u(f):N.startTransition(()=>u(f))},[n]);return N.useLayoutEffect(()=>a.listen(h),[a,h]),N.createElement($A,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var eC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:u,target:h,to:f,preventScrollReset:p,viewTransition:g,...x},v){let{basename:w,unstable_useTransitions:S}=N.useContext(zr),C=typeof f=="string"&&eC.test(f),j,E=!1;if(typeof f=="string"&&C&&(j=f,Zj))try{let L=new URL(window.location.href),q=f.startsWith("//")?new URL(L.protocol+f):new URL(f),J=Yi(q.pathname,w);q.origin===L.origin&&J!=null?f=J+q.search+q.hash:E=!0}catch{hr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=RA(f,{relative:i}),[A,O,z]=uT(r,x),F=vT(f,{replace:o,state:u,target:h,preventScrollReset:p,relative:i,viewTransition:g,unstable_useTransitions:S});function P(L){e&&e(L),L.defaultPrevented||F(L)}let $=N.createElement("a",{...x,...z,href:j||_,onClick:E||a?e:P,ref:mT(v,O),target:h,"data-discover":!C&&n==="render"?"true":void 0});return A&&!C?N.createElement(N.Fragment,null,$,N.createElement(dT,{page:_})):$});Ir.displayName="Link";var gT=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:u,children:h,...f},p){let g=Oc(o,{relative:f.relative}),x=bi(),v=N.useContext(Rh),{navigator:w,basename:S}=N.useContext(zr),C=v!=null&&jT(g)&&u===!0,j=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,E=x.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(E=E.toLowerCase(),_=_?_.toLowerCase():null,j=j.toLowerCase()),_&&S&&(_=Yi(_,S)||_);const A=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let O=E===j||!i&&E.startsWith(j)&&E.charAt(A)==="/",z=_!=null&&(_===j||!i&&_.startsWith(j)&&_.charAt(j.length)==="/"),F={isActive:O,isPending:z,isTransitioning:C},P=O?e:void 0,$;typeof r=="function"?$=r(F):$=[r,O?"active":null,z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(F):a;return N.createElement(Ir,{...f,"aria-current":P,className:$,ref:p,style:L,to:o,viewTransition:u},typeof h=="function"?h(F):h)});gT.displayName="NavLink";var xT=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Bd,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g,...x},v)=>{let{unstable_useTransitions:w}=N.useContext(zr),S=ST(),C=NT(u,{relative:f}),j=o.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&eC.test(u),_=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let O=A.nativeEvent.submitter,z=O?.getAttribute("formmethod")||o,F=()=>S(O||A.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:g});w&&n!==!1?N.startTransition(()=>F()):F()};return N.createElement("form",{ref:v,method:j,action:C,onSubmit:r?h:_,...x,"data-discover":!E&&t==="render"?"true":void 0})});xT.displayName="Form";function yT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(t){let e=N.useContext(Gl);return St(e,yT(t)),e}function vT(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:u}={}){let h=_t(),f=bi(),p=Oc(t,{relative:a});return N.useCallback(g=>{if(KA(g,e)){g.preventDefault();let x=n!==void 0?n:Sc(f)===Sc(p),v=()=>h(t,{replace:x,state:r,preventScrollReset:i,relative:a,viewTransition:o});u?N.startTransition(()=>v()):v()}},[f,h,p,n,r,e,t,i,a,o,u])}function qx(t){hr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=N.useRef($g(t)),n=N.useRef(!1),r=bi(),i=N.useMemo(()=>XA(r.search,n.current?null:e.current),[r.search]),a=_t(),o=N.useCallback((u,h)=>{const f=$g(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,a("?"+f,h)},[a,i]);return[i,o]}var bT=0,wT=()=>`__${String(++bT)}__`;function ST(){let{router:t}=tC("useSubmit"),{basename:e}=N.useContext(zr),n=IA(),r=t.fetch,i=t.navigate;return N.useCallback(async(a,o={})=>{let{action:u,method:h,encType:f,formData:p,body:g}=eT(a,e);if(o.navigate===!1){let x=o.fetcherKey||wT();await r(x,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function NT(t,{relative:e}={}){let{basename:n}=N.useContext(zr),r=N.useContext(Gr);St(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Oc(t||".",{relative:e})},o=bi();if(t==null){a.search=o.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Gi([n,a.pathname])),Sc(a)}function jT(t,{relative:e}={}){let n=N.useContext(qj);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tC("useViewTransitionState"),i=Oc(t,{relative:e});if(!n.isTransitioning)return!1;let a=Yi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Yi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return nh(i.pathname,o)!=null||nh(i.pathname,a)!=null}var Ah=Ej();const nC=kh(Ah);function rC(t,e){return function(){return t.apply(e,arguments)}}const{toString:CT}=Object.prototype,{getPrototypeOf:Gx}=Object,{iterator:Th,toStringTag:iC}=Symbol,zh=(t=>e=>{const n=CT.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yr=t=>(t=t.toLowerCase(),e=>zh(e)===t),Oh=t=>e=>typeof e===t,{isArray:Ql}=Array,zl=Oh("undefined");function Dc(t){return t!==null&&!zl(t)&&t.constructor!==null&&!zl(t.constructor)&&qn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const sC=Yr("ArrayBuffer");function kT(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&sC(t.buffer),e}const ET=Oh("string"),qn=Oh("function"),aC=Oh("number"),Pc=t=>t!==null&&typeof t=="object",_T=t=>t===!0||t===!1,Ud=t=>{if(zh(t)!=="object")return!1;const e=Gx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(iC in t)&&!(Th in t)},RT=t=>{if(!Pc(t)||Dc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},MT=Yr("Date"),AT=Yr("File"),TT=Yr("Blob"),zT=Yr("FileList"),OT=t=>Pc(t)&&qn(t.pipe),DT=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qn(t.append)&&((e=zh(t))==="formdata"||e==="object"&&qn(t.toString)&&t.toString()==="[object FormData]"))},PT=Yr("URLSearchParams"),[LT,FT,BT,IT]=["ReadableStream","Request","Response","Headers"].map(Yr),UT=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ql(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Dc(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let u;for(r=0;r<o;r++)u=a[r],e.call(null,t[u],u,t)}}function lC(t,e){if(Dc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oC=t=>!zl(t)&&t!==ua;function qg(){const{caseless:t,skipUndefined:e}=oC(this)&&this||{},n={},r=(i,a)=>{const o=t&&lC(n,a)||a;Ud(n[o])&&Ud(i)?n[o]=qg(n[o],i):Ud(i)?n[o]=qg({},i):Ql(i)?n[o]=i.slice():(!e||!zl(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Lc(arguments[i],r);return n}const HT=(t,e,n,{allOwnKeys:r}={})=>(Lc(e,(i,a)=>{n&&qn(i)?t[a]=rC(i,n):t[a]=i},{allOwnKeys:r}),t),VT=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$T=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qT=(t,e,n,r)=>{let i,a,o;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!r||r(o,t,e))&&!u[o]&&(e[o]=t[o],u[o]=!0);t=n!==!1&&Gx(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},GT=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},YT=t=>{if(!t)return null;if(Ql(t))return t;let e=t.length;if(!aC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},QT=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gx(Uint8Array)),WT=(t,e)=>{const r=(t&&t[Th]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},KT=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},XT=Yr("HTMLFormElement"),JT=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),_w=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ZT=Yr("RegExp"),cC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Lc(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(r[a]=o||i)}),Object.defineProperties(t,r)},e4=t=>{cC(t,(e,n)=>{if(qn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(qn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},t4=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Ql(t)?r(t):r(String(t).split(e)),n},n4=()=>{},r4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function i4(t){return!!(t&&qn(t.append)&&t[iC]==="FormData"&&t[Th])}const s4=t=>{const e=new Array(10),n=(r,i)=>{if(Pc(r)){if(e.indexOf(r)>=0)return;if(Dc(r))return r;if(!("toJSON"in r)){e[i]=r;const a=Ql(r)?[]:{};return Lc(r,(o,u)=>{const h=n(o,i+1);!zl(h)&&(a[u]=h)}),e[i]=void 0,a}}return r};return n(t,0)},a4=Yr("AsyncFunction"),l4=t=>t&&(Pc(t)||qn(t))&&qn(t.then)&&qn(t.catch),uC=((t,e)=>t?setImmediate:e?((n,r)=>(ua.addEventListener("message",({source:i,data:a})=>{i===ua&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ua.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",qn(ua.postMessage)),o4=typeof queueMicrotask<"u"?queueMicrotask.bind(ua):typeof process<"u"&&process.nextTick||uC,c4=t=>t!=null&&qn(t[Th]),Z={isArray:Ql,isArrayBuffer:sC,isBuffer:Dc,isFormData:DT,isArrayBufferView:kT,isString:ET,isNumber:aC,isBoolean:_T,isObject:Pc,isPlainObject:Ud,isEmptyObject:RT,isReadableStream:LT,isRequest:FT,isResponse:BT,isHeaders:IT,isUndefined:zl,isDate:MT,isFile:AT,isBlob:TT,isRegExp:ZT,isFunction:qn,isStream:OT,isURLSearchParams:PT,isTypedArray:QT,isFileList:zT,forEach:Lc,merge:qg,extend:HT,trim:UT,stripBOM:VT,inherits:$T,toFlatObject:qT,kindOf:zh,kindOfTest:Yr,endsWith:GT,toArray:YT,forEachEntry:WT,matchAll:KT,isHTMLForm:XT,hasOwnProperty:_w,hasOwnProp:_w,reduceDescriptors:cC,freezeMethods:e4,toObjectSet:t4,toCamelCase:JT,noop:n4,toFiniteNumber:r4,findKey:lC,global:ua,isContextDefined:oC,isSpecCompliantForm:i4,toJSONObject:s4,isAsyncFn:a4,isThenable:l4,setImmediate:uC,asap:o4,isIterable:c4};function Ie(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Z.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const dC=Ie.prototype,hC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hC[t]={value:t}});Object.defineProperties(Ie,hC);Object.defineProperty(dC,"isAxiosError",{value:!0});Ie.from=(t,e,n,r,i,a)=>{const o=Object.create(dC);Z.toFlatObject(t,o,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const u=t&&t.message?t.message:"Error",h=e==null&&t?t.code:e;return Ie.call(o,u,h,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const u4=null;function Gg(t){return Z.isPlainObject(t)||Z.isArray(t)}function fC(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function Rw(t,e,n){return t?t.concat(e).map(function(i,a){return i=fC(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function d4(t){return Z.isArray(t)&&!t.some(Gg)}const h4=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function Dh(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!Z.isUndefined(C[S])});const r=n.metaTokens,i=n.visitor||p,a=n.dots,o=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Z.isDate(w))return w.toISOString();if(Z.isBoolean(w))return w.toString();if(!h&&Z.isBlob(w))throw new Ie("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(w)||Z.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,S,C){let j=w;if(w&&!C&&typeof w=="object"){if(Z.endsWith(S,"{}"))S=r?S:S.slice(0,-2),w=JSON.stringify(w);else if(Z.isArray(w)&&d4(w)||(Z.isFileList(w)||Z.endsWith(S,"[]"))&&(j=Z.toArray(w)))return S=fC(S),j.forEach(function(_,A){!(Z.isUndefined(_)||_===null)&&e.append(o===!0?Rw([S],A,a):o===null?S:S+"[]",f(_))}),!1}return Gg(w)?!0:(e.append(Rw(C,S,a),f(w)),!1)}const g=[],x=Object.assign(h4,{defaultVisitor:p,convertValue:f,isVisitable:Gg});function v(w,S){if(!Z.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(w),Z.forEach(w,function(j,E){(!(Z.isUndefined(j)||j===null)&&i.call(e,j,Z.isString(E)?E.trim():E,S,x))===!0&&v(j,S?S.concat(E):[E])}),g.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Mw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Yx(t,e){this._pairs=[],t&&Dh(t,this,e)}const mC=Yx.prototype;mC.append=function(e,n){this._pairs.push([e,n])};mC.toString=function(e){const n=e?function(r){return e.call(this,r,Mw)}:Mw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function f4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pC(t,e,n){if(!e)return t;const r=n&&n.encode||f4;Z.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=Z.isURLSearchParams(e)?e.toString():new Yx(e,n).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Aw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const gC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m4=typeof URLSearchParams<"u"?URLSearchParams:Yx,p4=typeof FormData<"u"?FormData:null,g4=typeof Blob<"u"?Blob:null,x4={isBrowser:!0,classes:{URLSearchParams:m4,FormData:p4,Blob:g4},protocols:["http","https","file","blob","url","data"]},Qx=typeof window<"u"&&typeof document<"u",Yg=typeof navigator=="object"&&navigator||void 0,y4=Qx&&(!Yg||["ReactNative","NativeScript","NS"].indexOf(Yg.product)<0),v4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",b4=Qx&&window.location.href||"http://localhost",w4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qx,hasStandardBrowserEnv:y4,hasStandardBrowserWebWorkerEnv:v4,navigator:Yg,origin:b4},Symbol.toStringTag,{value:"Module"})),wn={...w4,...x4};function S4(t,e){return Dh(t,new wn.classes.URLSearchParams,{visitor:function(n,r,i,a){return wn.isNode&&Z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function N4(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function j4(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function xC(t){function e(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const u=Number.isFinite(+o),h=a>=n.length;return o=!o&&Z.isArray(i)?i.length:o,h?(Z.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!u):((!i[o]||!Z.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],a)&&Z.isArray(i[o])&&(i[o]=j4(i[o])),!u)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(r,i)=>{e(N4(r),i,n,0)}),n}return null}function C4(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Fc={transitional:gC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=Z.isObject(e);if(a&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return i?JSON.stringify(xC(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return S4(e,this.formSerializer).toString();if((u=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Dh(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),C4(e)):e}],transformResponse:[function(e){const n=this.transitional||Fc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(o)throw u.name==="SyntaxError"?Ie.from(u,Ie.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{Fc.headers[t]={}});const k4=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E4=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&k4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Tw=Symbol("internals");function Jo(t){return t&&String(t).trim().toLowerCase()}function Hd(t){return t===!1||t==null?t:Z.isArray(t)?t.map(Hd):String(t)}function _4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const R4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Tp(t,e,n,r,i){if(Z.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function M4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function A4(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let Gn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(u,h,f){const p=Jo(h);if(!p)throw new Error("header name must be a non-empty string");const g=Z.findKey(i,p);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||h]=Hd(u))}const o=(u,h)=>Z.forEach(u,(f,p)=>a(f,p,h));if(Z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Z.isString(e)&&(e=e.trim())&&!R4(e))o(E4(e),n);else if(Z.isObject(e)&&Z.isIterable(e)){let u={},h,f;for(const p of e){if(!Z.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(h=u[f])?Z.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}o(u,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=Jo(e),e){const r=Z.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return _4(i);if(Z.isFunction(n))return n.call(this,i,r);if(Z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Jo(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Tp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(o){if(o=Jo(o),o){const u=Z.findKey(r,o);u&&(!n||Tp(r,r[u],u,n))&&(delete r[u],i=!0)}}return Z.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||Tp(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return Z.forEach(this,(i,a)=>{const o=Z.findKey(r,a);if(o){n[o]=Hd(i),delete n[a];return}const u=e?M4(a):String(a).trim();u!==a&&delete n[a],n[u]=Hd(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Tw]=this[Tw]={accessors:{}}).accessors,i=this.prototype;function a(o){const u=Jo(o);r[u]||(A4(i,o),r[u]=!0)}return Z.isArray(e)?e.forEach(a):a(e),this}};Gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(Gn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Z.freezeMethods(Gn);function zp(t,e){const n=this||Fc,r=e||n,i=Gn.from(r.headers);let a=r.data;return Z.forEach(t,function(u){a=u.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function yC(t){return!!(t&&t.__CANCEL__)}function Wl(t,e,n){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(Wl,Ie,{__CANCEL__:!0});function vC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function T4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function z4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),p=r[a];o||(o=f),n[i]=h,r[i]=f;let g=a,x=0;for(;g!==i;)x+=n[g++],g=g%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),f-o<e)return;const v=p&&f-p;return v?Math.round(x*1e3/v):void 0}}function O4(t,e){let n=0,r=1e3/e,i,a;const o=(f,p=Date.now())=>{n=p,i=null,a&&(clearTimeout(a),a=null),t(...f)};return[(...f)=>{const p=Date.now(),g=p-n;g>=r?o(f,p):(i=f,a||(a=setTimeout(()=>{a=null,o(i)},r-g)))},()=>i&&o(i)]}const rh=(t,e,n=3)=>{let r=0;const i=z4(50,250);return O4(a=>{const o=a.loaded,u=a.lengthComputable?a.total:void 0,h=o-r,f=i(h),p=o<=u;r=o;const g={loaded:o,total:u,progress:u?o/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&p?(u-o)/f:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},zw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Ow=t=>(...e)=>Z.asap(()=>t(...e)),D4=wn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,wn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(wn.origin),wn.navigator&&/(msie|trident)/i.test(wn.navigator.userAgent)):()=>!0,P4=wn.hasStandardBrowserEnv?{write(t,e,n,r,i,a,o){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];Z.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),Z.isString(r)&&u.push(`path=${r}`),Z.isString(i)&&u.push(`domain=${i}`),a===!0&&u.push("secure"),Z.isString(o)&&u.push(`SameSite=${o}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function L4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function F4(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function bC(t,e,n){let r=!L4(e);return t&&(r||n==!1)?F4(t,e):e}const Dw=t=>t instanceof Gn?{...t}:t;function va(t,e){e=e||{};const n={};function r(f,p,g,x){return Z.isPlainObject(f)&&Z.isPlainObject(p)?Z.merge.call({caseless:x},f,p):Z.isPlainObject(p)?Z.merge({},p):Z.isArray(p)?p.slice():p}function i(f,p,g,x){if(Z.isUndefined(p)){if(!Z.isUndefined(f))return r(void 0,f,g,x)}else return r(f,p,g,x)}function a(f,p){if(!Z.isUndefined(p))return r(void 0,p)}function o(f,p){if(Z.isUndefined(p)){if(!Z.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function u(f,p,g){if(g in e)return r(f,p);if(g in t)return r(void 0,f)}const h={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(f,p,g)=>i(Dw(f),Dw(p),g,!0)};return Z.forEach(Object.keys({...t,...e}),function(p){const g=h[p]||i,x=g(t[p],e[p],p);Z.isUndefined(x)&&g!==u||(n[p]=x)}),n}const wC=t=>{const e=va({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:u}=e;if(e.headers=o=Gn.from(o),e.url=pC(bC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&o.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Z.isFormData(n)){if(wn.hasStandardBrowserEnv||wn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Z.isFunction(n.getHeaders)){const h=n.getHeaders(),f=["content-type","content-length"];Object.entries(h).forEach(([p,g])=>{f.includes(p.toLowerCase())&&o.set(p,g)})}}if(wn.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&D4(e.url))){const h=i&&a&&P4.read(a);h&&o.set(i,h)}return e},B4=typeof XMLHttpRequest<"u",I4=B4&&function(t){return new Promise(function(n,r){const i=wC(t);let a=i.data;const o=Gn.from(i.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=i,p,g,x,v,w;function S(){v&&v(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function j(){if(!C)return;const _=Gn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),O={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:_,config:t,request:C};vC(function(F){n(F),S()},function(F){r(F),S()},O),C=null}"onloadend"in C?C.onloadend=j:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(j)},C.onabort=function(){C&&(r(new Ie("Request aborted",Ie.ECONNABORTED,t,C)),C=null)},C.onerror=function(A){const O=A&&A.message?A.message:"Network Error",z=new Ie(O,Ie.ERR_NETWORK,t,C);z.event=A||null,r(z),C=null},C.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||gC;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new Ie(A,O.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,C)),C=null},a===void 0&&o.setContentType(null),"setRequestHeader"in C&&Z.forEach(o.toJSON(),function(A,O){C.setRequestHeader(O,A)}),Z.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),u&&u!=="json"&&(C.responseType=i.responseType),f&&([x,w]=rh(f,!0),C.addEventListener("progress",x)),h&&C.upload&&([g,v]=rh(h),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=_=>{C&&(r(!_||_.type?new Wl(null,t,C):_),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const E=T4(i.url);if(E&&wn.protocols.indexOf(E)===-1){r(new Ie("Unsupported protocol "+E+":",Ie.ERR_BAD_REQUEST,t));return}C.send(a||null)})},U4=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(f){if(!i){i=!0,u();const p=f instanceof Error?f:this.reason;r.abort(p instanceof Ie?p:new Wl(p instanceof Error?p.message:p))}};let o=e&&setTimeout(()=>{o=null,a(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const u=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),t=null)};t.forEach(f=>f.addEventListener("abort",a));const{signal:h}=r;return h.unsubscribe=()=>Z.asap(u),h}},H4=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},V4=async function*(t,e){for await(const n of $4(t))yield*H4(n,e)},$4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Pw=(t,e,n,r)=>{const i=V4(t,e);let a=0,o,u=h=>{o||(o=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:f,value:p}=await i.next();if(f){u(),h.close();return}let g=p.byteLength;if(n){let x=a+=g;n(x)}h.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(h){return u(h),i.return()}},{highWaterMark:2})},Lw=64*1024,{isFunction:cd}=Z,q4=(({Request:t,Response:e})=>({Request:t,Response:e}))(Z.global),{ReadableStream:Fw,TextEncoder:Bw}=Z.global,Iw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},G4=t=>{t=Z.merge.call({skipUndefined:!0},q4,t);const{fetch:e,Request:n,Response:r}=t,i=e?cd(e):typeof fetch=="function",a=cd(n),o=cd(r);if(!i)return!1;const u=i&&cd(Fw),h=i&&(typeof Bw=="function"?(w=>S=>w.encode(S))(new Bw):async w=>new Uint8Array(await new n(w).arrayBuffer())),f=a&&u&&Iw(()=>{let w=!1;const S=new n(wn.origin,{body:new Fw,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),p=o&&u&&Iw(()=>Z.isReadableStream(new r("").body)),g={stream:p&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(S,C)=>{let j=S&&S[w];if(j)return j.call(S);throw new Ie(`Response type '${w}' is not supported`,Ie.ERR_NOT_SUPPORT,C)})});const x=async w=>{if(w==null)return 0;if(Z.isBlob(w))return w.size;if(Z.isSpecCompliantForm(w))return(await new n(wn.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(w)||Z.isArrayBuffer(w))return w.byteLength;if(Z.isURLSearchParams(w)&&(w=w+""),Z.isString(w))return(await h(w)).byteLength},v=async(w,S)=>{const C=Z.toFiniteNumber(w.getContentLength());return C??x(S)};return async w=>{let{url:S,method:C,data:j,signal:E,cancelToken:_,timeout:A,onDownloadProgress:O,onUploadProgress:z,responseType:F,headers:P,withCredentials:$="same-origin",fetchOptions:L}=wC(w),q=e||fetch;F=F?(F+"").toLowerCase():"text";let J=U4([E,_&&_.toAbortSignal()],A),de=null;const se=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let te;try{if(z&&f&&C!=="get"&&C!=="head"&&(te=await v(P,j))!==0){let D=new n(S,{method:"POST",body:j,duplex:"half"}),Q;if(Z.isFormData(j)&&(Q=D.headers.get("content-type"))&&P.setContentType(Q),D.body){const[M,ne]=zw(te,rh(Ow(z)));j=Pw(D.body,Lw,M,ne)}}Z.isString($)||($=$?"include":"omit");const B=a&&"credentials"in n.prototype,Y={...L,signal:J,method:C.toUpperCase(),headers:P.normalize().toJSON(),body:j,duplex:"half",credentials:B?$:void 0};de=a&&new n(S,Y);let V=await(a?q(de,L):q(S,Y));const ge=p&&(F==="stream"||F==="response");if(p&&(O||ge&&se)){const D={};["status","statusText","headers"].forEach(ue=>{D[ue]=V[ue]});const Q=Z.toFiniteNumber(V.headers.get("content-length")),[M,ne]=O&&zw(Q,rh(Ow(O),!0))||[];V=new r(Pw(V.body,Lw,M,()=>{ne&&ne(),se&&se()}),D)}F=F||"text";let T=await g[Z.findKey(g,F)||"text"](V,w);return!ge&&se&&se(),await new Promise((D,Q)=>{vC(D,Q,{data:T,headers:Gn.from(V.headers),status:V.status,statusText:V.statusText,config:w,request:de})})}catch(B){throw se&&se(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,w,de),{cause:B.cause||B}):Ie.from(B,B&&B.code,w,de)}}},Y4=new Map,SC=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let o=a.length,u=o,h,f,p=Y4;for(;u--;)h=a[u],f=p.get(h),f===void 0&&p.set(h,f=u?new Map:G4(e)),p=f;return f};SC();const Wx={http:u4,xhr:I4,fetch:{get:SC}};Z.forEach(Wx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Uw=t=>`- ${t}`,Q4=t=>Z.isFunction(t)||t===null||t===!1;function W4(t,e){t=Z.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let o=0;o<n;o++){r=t[o];let u;if(i=r,!Q4(r)&&(i=Wx[(u=String(r)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${u}'`);if(i&&(Z.isFunction(i)||(i=i.get(e))))break;a[u||"#"+o]=i}if(!i){const o=Object.entries(a).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=n?o.length>1?`since :
`+o.map(Uw).join(`
`):" "+Uw(o[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const NC={getAdapter:W4,adapters:Wx};function Op(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wl(null,t)}function Hw(t){return Op(t),t.headers=Gn.from(t.headers),t.data=zp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),NC.getAdapter(t.adapter||Fc.adapter,t)(t).then(function(r){return Op(t),r.data=zp.call(t,t.transformResponse,r),r.headers=Gn.from(r.headers),r},function(r){return yC(r)||(Op(t),r&&r.response&&(r.response.data=zp.call(t,t.transformResponse,r.response),r.response.headers=Gn.from(r.response.headers))),Promise.reject(r)})}const jC="1.13.2",Ph={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ph[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Vw={};Ph.transitional=function(e,n,r){function i(a,o){return"[Axios v"+jC+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,u)=>{if(e===!1)throw new Ie(i(o," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!Vw[o]&&(Vw[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,u):!0}};Ph.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function K4(t,e,n){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const u=t[a],h=u===void 0||o(u,a,t);if(h!==!0)throw new Ie("option "+a+" must be "+h,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+a,Ie.ERR_BAD_OPTION)}}const Vd={assertOptions:K4,validators:Ph},ri=Vd.validators;let ma=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Aw,response:new Aw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=va(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Vd.assertOptions(r,{silentJSONParsing:ri.transitional(ri.boolean),forcedJSONParsing:ri.transitional(ri.boolean),clarifyTimeoutError:ri.transitional(ri.boolean)},!1),i!=null&&(Z.isFunction(i)?n.paramsSerializer={serialize:i}:Vd.assertOptions(i,{encode:ri.function,serialize:ri.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Vd.assertOptions(n,{baseUrl:ri.spelling("baseURL"),withXsrfToken:ri.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&Z.merge(a.common,a[n.method]);a&&Z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=Gn.concat(o,a);const u=[];let h=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(h=h&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let p,g=0,x;if(!h){const w=[Hw.bind(this),void 0];for(w.unshift(...u),w.push(...f),x=w.length,p=Promise.resolve(n);g<x;)p=p.then(w[g++],w[g++]);return p}x=u.length;let v=n;for(;g<x;){const w=u[g++],S=u[g++];try{v=w(v)}catch(C){S.call(this,C);break}}try{p=Hw.call(this,v)}catch(w){return Promise.reject(w)}for(g=0,x=f.length;g<x;)p=p.then(f[g++],f[g++]);return p}getUri(e){e=va(this.defaults,e);const n=bC(e.baseURL,e.url,e.allowAbsoluteUrls);return pC(n,e.params,e.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(e){ma.prototype[e]=function(n,r){return this.request(va(r||{},{method:e,url:n,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,u){return this.request(va(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ma.prototype[e]=n(),ma.prototype[e+"Form"]=n(!0)});let X4=class CC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(u=>{r.subscribe(u),a=u}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,u){r.reason||(r.reason=new Wl(a,o,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new CC(function(i){e=i}),cancel:e}}};function J4(t){return function(n){return t.apply(null,n)}}function Z4(t){return Z.isObject(t)&&t.isAxiosError===!0}const Qg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qg).forEach(([t,e])=>{Qg[e]=t});function kC(t){const e=new ma(t),n=rC(ma.prototype.request,e);return Z.extend(n,ma.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return kC(va(t,i))},n}const Et=kC(Fc);Et.Axios=ma;Et.CanceledError=Wl;Et.CancelToken=X4;Et.isCancel=yC;Et.VERSION=jC;Et.toFormData=Dh;Et.AxiosError=Ie;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=J4;Et.isAxiosError=Z4;Et.mergeConfig=va;Et.AxiosHeaders=Gn;Et.formToJSON=t=>xC(Z.isHTMLForm(t)?new FormData(t):t);Et.getAdapter=NC.getAdapter;Et.HttpStatusCode=Qg;Et.default=Et;const{Axios:iQ,AxiosError:sQ,CanceledError:aQ,isCancel:lQ,CancelToken:oQ,VERSION:cQ,all:uQ,Cancel:dQ,isAxiosError:hQ,spread:fQ,toFormData:mQ,AxiosHeaders:pQ,HttpStatusCode:gQ,formToJSON:xQ,getAdapter:yQ,mergeConfig:vQ}=Et;function EC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=EC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Kx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=EC(t))&&(r&&(r+=" "),r+=e);return r}const ez=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},tz=(t,e)=>({classGroupId:t,validator:e}),_C=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),ih="-",$w=[],nz="arbitrary..",rz=t=>{const e=sz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return iz(o);const u=o.split(ih),h=u[0]===""&&u.length>1?1:0;return RC(u,h,e)},getConflictingClassGroupIds:(o,u)=>{if(u){const h=r[o],f=n[o];return h?f?ez(f,h):h:f||$w}return n[o]||$w}}},RC=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const f=RC(t,e+1,a);if(f)return f}const o=n.validators;if(o===null)return;const u=e===0?t.join(ih):t.slice(e).join(ih),h=o.length;for(let f=0;f<h;f++){const p=o[f];if(p.validator(u))return p.classGroupId}},iz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?nz+r:void 0})(),sz=t=>{const{theme:e,classGroups:n}=t;return az(n,e)},az=(t,e)=>{const n=_C();for(const r in t){const i=t[r];Xx(i,n,r,e)}return n},Xx=(t,e,n,r)=>{const i=t.length;for(let a=0;a<i;a++){const o=t[a];lz(o,e,n,r)}},lz=(t,e,n,r)=>{if(typeof t=="string"){oz(t,e,n);return}if(typeof t=="function"){cz(t,e,n,r);return}uz(t,e,n,r)},oz=(t,e,n)=>{const r=t===""?e:MC(e,t);r.classGroupId=n},cz=(t,e,n,r)=>{if(dz(t)){Xx(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(tz(n,t))},uz=(t,e,n,r)=>{const i=Object.entries(t),a=i.length;for(let o=0;o<a;o++){const[u,h]=i[o];Xx(h,MC(e,u),n,r)}},MC=(t,e)=>{let n=t;const r=e.split(ih),i=r.length;for(let a=0;a<i;a++){const o=r[a];let u=n.nextPart.get(o);u||(u=_C(),n.nextPart.set(o,u)),n=u}return n},dz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,hz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(a,o)=>{n[a]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let o=n[a];if(o!==void 0)return o;if((o=r[a])!==void 0)return i(a,o),o},set(a,o){a in n?n[a]=o:i(a,o)}}},Wg="!",qw=":",fz=[],Gw=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),mz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,u=0,h=0,f;const p=i.length;for(let S=0;S<p;S++){const C=i[S];if(o===0&&u===0){if(C===qw){a.push(i.slice(h,S)),h=S+1;continue}if(C==="/"){f=S;continue}}C==="["?o++:C==="]"?o--:C==="("?u++:C===")"&&u--}const g=a.length===0?i:i.slice(h);let x=g,v=!1;g.endsWith(Wg)?(x=g.slice(0,-1),v=!0):g.startsWith(Wg)&&(x=g.slice(1),v=!0);const w=f&&f>h?f-h:void 0;return Gw(a,v,x,w)};if(e){const i=e+qw,a=r;r=o=>o.startsWith(i)?a(o.slice(i.length)):Gw(fz,!1,o,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},pz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const o=n[a],u=o[0]==="[",h=e.has(o);u||h?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},gz=t=>({cache:hz(t.cacheSize),parseClassName:mz(t),sortModifiers:pz(t),...rz(t)}),xz=/\s+/,yz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],u=t.trim().split(xz);let h="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:g,modifiers:x,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:S}=n(p);if(g){h=p+(h.length>0?" "+h:h);continue}let C=!!S,j=r(C?w.substring(0,S):w);if(!j){if(!C){h=p+(h.length>0?" "+h:h);continue}if(j=r(w),!j){h=p+(h.length>0?" "+h:h);continue}C=!1}const E=x.length===0?"":x.length===1?x[0]:a(x).join(":"),_=v?E+Wg:E,A=_+j;if(o.indexOf(A)>-1)continue;o.push(A);const O=i(j,C);for(let z=0;z<O.length;++z){const F=O[z];o.push(_+F)}h=p+(h.length>0?" "+h:h)}return h},vz=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=AC(n))&&(i&&(i+=" "),i+=r);return i},AC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=AC(t[r]))&&(n&&(n+=" "),n+=e);return n},bz=(t,...e)=>{let n,r,i,a;const o=h=>{const f=e.reduce((p,g)=>g(p),t());return n=gz(f),r=n.cache.get,i=n.cache.set,a=u,u(h)},u=h=>{const f=r(h);if(f)return f;const p=yz(h,n);return i(h,p),p};return a=o,(...h)=>a(vz(...h))},wz=[],qt=t=>{const e=n=>n[t]||wz;return e.isThemeGetter=!0,e},TC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Sz=/^\d+\/\d+$/,Nz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ez=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xl=t=>Sz.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),Cs=t=>!!t&&Number.isInteger(Number(t)),Dp=t=>t.endsWith("%")&&$e(t.slice(0,-1)),Hi=t=>Nz.test(t),_z=()=>!0,Rz=t=>jz.test(t)&&!Cz.test(t),OC=()=>!1,Mz=t=>kz.test(t),Az=t=>Ez.test(t),Tz=t=>!we(t)&&!Se(t),zz=t=>Kl(t,LC,OC),we=t=>TC.test(t),aa=t=>Kl(t,FC,Rz),Pp=t=>Kl(t,Fz,$e),Yw=t=>Kl(t,DC,OC),Oz=t=>Kl(t,PC,Az),ud=t=>Kl(t,BC,Mz),Se=t=>zC.test(t),Zo=t=>Xl(t,FC),Dz=t=>Xl(t,Bz),Qw=t=>Xl(t,DC),Pz=t=>Xl(t,LC),Lz=t=>Xl(t,PC),dd=t=>Xl(t,BC,!0),Kl=(t,e,n)=>{const r=TC.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Xl=(t,e,n=!1)=>{const r=zC.exec(t);return r?r[1]?e(r[1]):n:!1},DC=t=>t==="position"||t==="percentage",PC=t=>t==="image"||t==="url",LC=t=>t==="length"||t==="size"||t==="bg-size",FC=t=>t==="length",Fz=t=>t==="number",Bz=t=>t==="family-name",BC=t=>t==="shadow",Iz=()=>{const t=qt("color"),e=qt("font"),n=qt("text"),r=qt("font-weight"),i=qt("tracking"),a=qt("leading"),o=qt("breakpoint"),u=qt("container"),h=qt("spacing"),f=qt("radius"),p=qt("shadow"),g=qt("inset-shadow"),x=qt("text-shadow"),v=qt("drop-shadow"),w=qt("blur"),S=qt("perspective"),C=qt("aspect"),j=qt("ease"),E=qt("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...A(),Se,we],z=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],P=()=>[Se,we,h],$=()=>[xl,"full","auto",...P()],L=()=>[Cs,"none","subgrid",Se,we],q=()=>["auto",{span:["full",Cs,Se,we]},Cs,Se,we],J=()=>[Cs,"auto",Se,we],de=()=>["auto","min","max","fr",Se,we],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...P()],Y=()=>[xl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],V=()=>[t,Se,we],ge=()=>[...A(),Qw,Yw,{position:[Se,we]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",Pz,zz,{size:[Se,we]}],Q=()=>[Dp,Zo,aa],M=()=>["","none","full",f,Se,we],ne=()=>["",$e,Zo,aa],ue=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[$e,Dp,Qw,Yw],ve=()=>["","none",w,Se,we],Ae=()=>["none",$e,Se,we],tt=()=>["none",$e,Se,we],dt=()=>[$e,Se,we],Nt=()=>[xl,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hi],breakpoint:[Hi],color:[_z],container:[Hi],"drop-shadow":[Hi],ease:["in","out","in-out"],font:[Tz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hi],shadow:[Hi],spacing:["px",$e],text:[Hi],"text-shadow":[Hi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xl,we,Se,C]}],container:["container"],columns:[{columns:[$e,we,Se,u]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Cs,"auto",Se,we]}],basis:[{basis:[xl,"full","auto",u,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,xl,"auto","initial","none",we]}],grow:[{grow:["",$e,Se,we]}],shrink:[{shrink:["",$e,Se,we]}],order:[{order:[Cs,"first","last","none",Se,we]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":de()}],"auto-rows":[{"auto-rows":de()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[u,"screen",...Y()]}],"min-w":[{"min-w":[u,"screen","none",...Y()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,Zo,aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,Pp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dp,we]}],"font-family":[{font:[Dz,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Se,we]}],"line-clamp":[{"line-clamp":[$e,"none",Se,Pp]}],leading:[{leading:[a,...P()]}],"list-image":[{"list-image":["none",Se,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Se,aa]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[$e,"auto",Se,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ge()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Cs,Se,we],radial:["",Se,we],conic:[Cs,Se,we]},Lz,Oz]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Se,we]}],"outline-w":[{outline:["",$e,Zo,aa]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",p,dd,ud]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,dd,ud]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[$e,aa]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",x,dd,ud]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[$e,Se,we]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[Se,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ge()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,we]}],filter:[{filter:["","none",Se,we]}],blur:[{blur:ve()}],brightness:[{brightness:[$e,Se,we]}],contrast:[{contrast:[$e,Se,we]}],"drop-shadow":[{"drop-shadow":["","none",v,dd,ud]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",$e,Se,we]}],"hue-rotate":[{"hue-rotate":[$e,Se,we]}],invert:[{invert:["",$e,Se,we]}],saturate:[{saturate:[$e,Se,we]}],sepia:[{sepia:["",$e,Se,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,we]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Se,we]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Se,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Se,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Se,we]}],"backdrop-invert":[{"backdrop-invert":["",$e,Se,we]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Se,we]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Se,we]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Se,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Se,we]}],ease:[{ease:["linear","initial",j,Se,we]}],delay:[{delay:[$e,Se,we]}],animate:[{animate:["none",E,Se,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Se,we]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:tt()}],"scale-x":[{"scale-x":tt()}],"scale-y":[{"scale-y":tt()}],"scale-z":[{"scale-z":tt()}],"scale-3d":["scale-3d"],skew:[{skew:dt()}],"skew-x":[{"skew-x":dt()}],"skew-y":[{"skew-y":dt()}],transform:[{transform:[Se,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Nt()}],"translate-x":[{"translate-x":Nt()}],"translate-y":[{"translate-y":Nt()}],"translate-z":[{"translate-z":Nt()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,we]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[$e,Zo,aa,Pp]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},IC=bz(Iz);function Fe(...t){return IC(Kx(t))}const je=Et.create({baseURL:"/api/v1",withCredentials:!0}),pa=Et.create({baseURL:"/",withCredentials:!0}),UC=t=>{t.interceptors.response.use(e=>e,e=>(e.response?.status===401&&console.warn("Unauthorized access"),Promise.reject(e)))};UC(je);UC(pa);const HC=N.createContext(void 0);function Uz({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(!0);N.useEffect(()=>{window.location.pathname.startsWith("/oauth-callback")||a()},[]);const a=async()=>{try{const{data:p}=await pa.get("/api/auth/profile");n(p)}catch(p){console.warn("Session check failed:",p),n(null)}finally{i(!1)}},o=a,u=()=>{window.location.href="/api/auth/google"},h=async p=>{try{const{data:g}=await pa.post("/api/auth/dev/token",{email:p});console.log("Dev token received:",g),await a()}catch(g){throw console.log("Login failed",g),g}},f=async()=>{try{await pa.post("/api/auth/logout")}catch(p){console.warn("Logout endpoint failed:",p)}try{await Ij.removeClient(),th.clear()}catch(p){console.error("Failed to clear local cache:",p)}n(null),window.location.href="/"};return c.jsx(HC.Provider,{value:{user:e,loading:r,loginWithGoogle:u,loginWithDevToken:h,logout:f,refreshSession:o},children:t})}const Or=()=>{const t=N.useContext(HC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const Hz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ww=t=>{const e=Vz(t);return e.charAt(0).toUpperCase()+e.slice(1)},VC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),$z=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var qz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gz=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...u},h)=>N.createElement("svg",{ref:h,...qz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:VC("lucide",i),...!a&&!$z(u)&&{"aria-hidden":"true"},...u},[...o.map(([f,p])=>N.createElement(f,p)),...Array.isArray(a)?a:[a]]));const xe=(t,e)=>{const n=N.forwardRef(({className:r,...i},a)=>N.createElement(Gz,{ref:a,iconNode:e,className:VC(`lucide-${Hz(Ww(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Ww(t),n};const Yz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jx=xe("activity",Yz);const Qz=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Zx=xe("arrow-down-right",Qz);const Wz=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Vr=xe("arrow-down",Wz);const Kz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sh=xe("arrow-left",Kz);const Xz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],e0=xe("arrow-right",Xz);const Jz=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Zz=xe("arrow-up-down",Jz);const e3=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],t0=xe("arrow-up-right",e3);const t3=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Yn=xe("arrow-up",t3);const n3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],r3=xe("bell",n3);const i3=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Qn=xe("bot",i3);const s3=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Nn=xe("brain",s3);const a3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bc=xe("calendar",a3);const l3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],o3=xe("chart-area",l3);const c3=[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}]],u3=xe("chart-candlestick",c3);const d3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],h3=xe("chart-line",d3);const f3=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ah=xe("chart-pie",f3);const m3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dc=xe("check",m3);const p3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kw=xe("chevron-down",p3);const g3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$C=xe("chevron-left",g3);const x3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Lh=xe("chevron-right",x3);const y3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],v3=xe("circle-alert",y3);const b3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],w3=xe("circle-arrow-up",b3);const S3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cc=xe("circle-check-big",S3);const N3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],n0=xe("circle-check",N3);const j3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lh=xe("clock",j3);const C3=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],k3=xe("coins",C3);const E3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_3=xe("copy",E3);const R3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],M3=xe("credit-card",R3);const A3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xw=xe("database",A3);const T3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qC=xe("dollar-sign",T3);const z3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],O3=xe("ellipsis-vertical",z3);const D3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],P3=xe("ellipsis",D3);const L3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],F3=xe("external-link",L3);const B3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$d=xe("eye-off",B3);const I3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hc=xe("eye",I3);const U3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Nc=xe("file-text",U3);const H3=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Jl=xe("flame",H3);const V3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$3=xe("funnel",V3);const q3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],jc=xe("history",q3);const G3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],GC=xe("info",G3);const Y3=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],r0=xe("layout-grid",Y3);const Q3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],W3=xe("link",Q3);const K3=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],i0=xe("list",K3);const X3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wt=xe("loader-circle",X3);const J3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z3=xe("lock",J3);const eO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Jw=xe("mail",eO);const tO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nO=xe("menu",tO);const rO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Zl=xe("message-circle",rO);const iO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Zw=xe("message-square",iO);const sO=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],fi=xe("newspaper",sO);const aO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],YC=xe("pen",aO);const lO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],QC=xe("pencil",lO);const oO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fh=xe("plus",oO);const cO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],uO=xe("printer",cO);const dO=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],hO=xe("quote",dO);const fO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],s0=xe("refresh-cw",fO);const mO=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],pO=xe("reply",mO);const gO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xO=xe("rotate-ccw",gO);const yO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WC=xe("save",yO);const vO=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],bO=xe("scale",vO);const wO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qi=xe("search",wO);const SO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],NO=xe("send",SO);const jO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CO=xe("settings",jO);const kO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Kg=xe("share-2",kO);const EO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],qd=xe("shield-alert",EO);const _O=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fr=xe("shield-check",_O);const RO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],KC=xe("shield",RO);const MO=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],AO=xe("sliders-horizontal",MO);const TO=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Gd=xe("sparkles",TO);const zO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xg=xe("star",zO);const OO=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],DO=xe("swords",OO);const PO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],LO=xe("target",PO);const FO=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],BO=xe("terminal",FO);const IO=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],UO=xe("thumbs-up",IO);const HO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zs=xe("trash-2",HO);const VO=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ba=xe("trending-down",VO);const $O=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],mi=xe("trending-up",$O);const qO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mn=xe("triangle-alert",qO);const GO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Jg=xe("upload",GO);const YO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ol=xe("user",YO);const QO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],WO=xe("users",QO);const KO=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],XC=xe("wallet",KO);const XO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ea=xe("x",XO);const JO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rs=xe("zap",JO),JC=N.createContext(void 0);function ZO({children:t}){const[e,n]=N.useState([]),r=N.useCallback((a,o="info")=>{const u=Date.now().toString();n(h=>[...h,{id:u,message:a,type:o}])},[]),i=N.useCallback(a=>{n(o=>o.filter(u=>u.id!==a))},[]);return N.useEffect(()=>{if(e.length>0){const a=setTimeout(()=>{n(o=>o.slice(1))},4e3);return()=>clearTimeout(a)}},[e]),c.jsxs(JC.Provider,{value:{showToast:r},children:[t,c.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:e.map(a=>c.jsxs("div",{className:Fe("flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg min-w-[300px] max-w-[400px] animate-in slide-in-from-right-5 duration-300",a.type==="success"&&"bg-green-500/90 text-white",a.type==="error"&&"bg-red-500/90 text-white",a.type==="info"&&"bg-blue-500/90 text-white"),children:[a.type==="success"&&c.jsx(cc,{className:"w-5 h-5 shrink-0"}),a.type==="error"&&c.jsx(v3,{className:"w-5 h-5 shrink-0"}),a.type==="info"&&c.jsx(GC,{className:"w-5 h-5 shrink-0"}),c.jsx("span",{className:"flex-1 text-sm font-medium",children:a.message}),c.jsx("button",{onClick:()=>i(a.id),className:"p-1 hover:bg-white/20 rounded transition-colors",children:c.jsx(Ea,{className:"w-4 h-4"})})]},a.id))})]})}function eD(){const t=N.useContext(JC);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function Ne(...t){return IC(Kx(t))}const xt=N.forwardRef(({className:t,rgb:e,...n},r)=>c.jsx("div",{ref:r,className:Ne("rounded-xl border border-border bg-card text-foreground shadow-md",e&&"rgb-border",t),...n}));xt.displayName="Card";const Ut=N.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Ne("flex flex-col space-y-1.5 p-6 pb-3",t),...e}));Ut.displayName="CardHeader";const Ht=N.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:Ne("text-lg font-semibold leading-none tracking-tight",t),...e}));Ht.displayName="CardTitle";const fc=N.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));fc.displayName="CardDescription";const yt=N.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Ne("p-6 pt-0",t),...e}));yt.displayName="CardContent";const ZC=N.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Ne("flex items-center p-6 pt-0",t),...e}));ZC.displayName="CardFooter";const eS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tS=Kx,Bh=(t,e)=>n=>{var r;if(e?.variants==null)return tS(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(f=>{const p=n?.[f],g=a?.[f];if(p===null)return null;const x=eS(p)||eS(g);return i[f][x]}),u=n&&Object.entries(n).reduce((f,p)=>{let[g,x]=p;return x===void 0||(f[g]=x),f},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:g,className:x,...v}=p;return Object.entries(v).every(w=>{let[S,C]=w;return Array.isArray(C)?C.includes({...a,...u}[S]):{...a,...u}[S]===C})?[...f,g,x]:f},[]);return tS(t,o,h,n?.class,n?.className)},tD=Bh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=N.forwardRef(({className:t,variant:e,size:n,...r},i)=>c.jsx("button",{className:Fe(tD({variant:e,size:n,className:t})),ref:i,...r}));pe.displayName="Button";function nD(){const{loginWithGoogle:t}=Or();return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground p-4",children:c.jsxs(xt,{className:"w-full max-w-sm border-border bg-card/50 backdrop-blur-sm shadow-lg",children:[c.jsxs(Ut,{className:"text-center space-y-2 pb-6",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:c.jsx(Jx,{size:32,className:"text-primary"})})}),c.jsx(Ht,{className:"text-2xl font-bold tracking-tight",children:"Neural Ticker"}),c.jsx(fc,{className:"text-muted-foreground",children:"Institutional Market Intelligence"})]}),c.jsx(yt,{children:c.jsx("div",{className:"space-y-4",children:c.jsxs(pe,{variant:"secondary",size:"lg",className:"w-full font-medium h-11",onClick:t,children:[c.jsx("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:c.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Sign in with Google"]})})}),c.jsx(ZC,{className:"justify-center pb-8",children:c.jsx("p",{className:"text-[10px] text-muted-foreground font-mono uppercase tracking-wider opacity-60",children:"Protected by Neural Gatekeeper"})})]})})}const rD=Bh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80 [data-theme=light]&:text-black",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 [data-theme=light]&:text-black",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80 [data-theme=light]&:text-black",outline:"text-foreground [data-theme=light]&:text-black",strongBuy:"border-transparent bg-green-500/20 text-green-400 hover:bg-green-500/30 badge-light-strong",buy:"border-transparent bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 badge-light-buy",hold:"border-transparent bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30 badge-light-hold",purple:"border-transparent bg-purple-500/20 text-purple-400 hover:bg-purple-500/30 badge-light-purple",speculativeBuy:"border-transparent bg-purple-500/20 text-purple-400 hover:bg-purple-500/30 badge-light-purple",sell:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-green-500/20 text-green-400 hover:bg-green-500/30"}},defaultVariants:{variant:"default"}});function Oe({className:t,variant:e,...n}){return c.jsx("div",{className:Fe(rD({variant:e}),t),...n})}const en={all:["tickers"],details:t=>[...en.all,"details",t],news:t=>[...en.all,"news",t],risk:t=>[...en.all,"risk",t],social:t=>[...en.all,"social",t],research:t=>[...en.all,"research",t],logo:t=>[...en.all,"logo",t]};function iD(t,e){return nn({queryKey:en.logo(t),queryFn:async()=>{if(!e)return null;const n=e.includes("finnhub.io");let r;try{n?r=(await pa.get(`api/proxy/image?url=${encodeURIComponent(e)}`,{responseType:"blob"})).data:r=(await je.get(`tickers/${t}/logo`,{responseType:"blob"})).data}catch(i){if(e&&!n)r=(await pa.get(`api/proxy/image?url=${encodeURIComponent(e)}`,{responseType:"blob"})).data;else throw i}return new Promise((i,a)=>{const o=new FileReader;o.onloadend=()=>i(o.result),o.onerror=a,o.readAsDataURL(r)})},staleTime:1e3*60*60*24*7,gcTime:1e3*60*60*24*7,enabled:!!t&&!!e,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function e2(t){return nn({queryKey:en.details(t||""),queryFn:async()=>{if(!t)return null;const[e,n]=await Promise.all([je.get(`/tickers/${t}/composite`),je.get(`/social/stats/${t}/watchers`).catch(()=>({data:{watchers:0}}))]);return{...e.data,watchers:n.data.watchers}},enabled:!!t,staleTime:1e3*60})}function sD(t){return nn({queryKey:en.news(t||""),queryFn:async()=>t?(await je.get(`/tickers/${t}/news`)).data||[]:[],enabled:!!t,staleTime:1e3*60*5})}function aD(t){return nn({queryKey:en.social(t||""),queryFn:async()=>t?(await je.get(`/social/comments/${t}`)).data||[]:[],enabled:!!t,staleTime:1e3*30})}function lD(){const t=Kn();return vi({mutationFn:async({symbol:e,content:n})=>{await je.post(`/social/comments/${e}`,{content:n})},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:en.social(n.symbol)})}})}function oD(t){return nn({queryKey:en.research(t||"all"),queryFn:async()=>{const e={limit:50};return t&&(e.ticker=t),(await je.get("/research",{params:e})).data?.data||[]},enabled:!!t,staleTime:0,refetchInterval:e=>e.state.data?.some(r=>r.status==="processing"||r.status==="pending")?3e3:!1})}function cD(){const t=Kn();return vi({mutationFn:async({symbol:e,provider:n,quality:r,question:i})=>(await je.post("/research/ask",{tickers:[e],question:i||`Deep dive analysis into ${e}`,quality:r||"deep",provider:n||"gemini"})).data,onSuccess:(e,n)=>{t.invalidateQueries({queryKey:en.research(n.symbol)}),t.invalidateQueries({queryKey:["research","active-count"]})}})}function uD(){const t=Kn();return vi({mutationFn:async e=>{await je.delete(`/research/${e}`)},onSuccess:()=>{t.invalidateQueries({queryKey:en.all})}})}function dD(){const t=Kn();return vi({mutationFn:async({id:e,title:n})=>{await je.post(`/research/${e}/title`,{title:n})},onSuccess:()=>{t.invalidateQueries({queryKey:en.all})}})}function t2(){const t=Kn();return vi({mutationFn:async e=>(await je.post("/watchlists/favorites/toggle",{symbol:e})).data,onSuccess:(e,n)=>{t.invalidateQueries({queryKey:en.details(n)}),t.invalidateQueries({queryKey:["watchlists"]})}})}function hD(){return nn({queryKey:["research","active-count"],queryFn:async()=>((await je.get("/research",{params:{limit:20}})).data?.data||[]).filter(n=>n.status!=="completed"&&n.status!=="failed").length,refetchInterval:t=>{const e=t.state.data;return e&&e>0?3e3:1e4},staleTime:0})}const mr=N.memo(({url:t,symbol:e,className:n})=>{const{data:r,isLoading:i,isError:a}=iD(e,t);return a||!i&&!r&&!t?c.jsx("div",{className:Fe("rounded-full bg-[#27272a] flex items-center justify-center text-xs font-bold text-[#a1a1aa] shrink-0",n||"w-8 h-8"),children:e?e.substring(0,1):"?"}):r?c.jsx("div",{className:Fe("relative shrink-0",n||"w-8 h-8"),children:c.jsx("img",{src:r,alt:"",className:Fe("w-full h-full rounded-full object-contain")})}):c.jsx("div",{className:Fe("relative shrink-0",n||"w-8 h-8"),children:c.jsx("div",{className:"absolute inset-0 rounded-full bg-[#27272a] animate-pulse"})})});function fD({className:t=""}){const e=_t(),[n,r]=N.useState(""),[i,a]=N.useState([]),[o,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(-1),x=N.useRef(null),v=N.useRef(null);N.useEffect(()=>{const C=j=>{(j.metaKey||j.ctrlKey)&&j.key==="k"&&(j.preventDefault(),v.current?.focus())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[]),N.useEffect(()=>{function C(j){x.current&&!x.current.contains(j.target)&&u(!1)}return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),N.useEffect(()=>{const C=setTimeout(async()=>{if(n.trim().length===0){a([]),u(!1);return}f(!0);try{const{data:j}=await je.get("/tickers",{params:{search:n}});a(j),u(!0),g(-1)}catch(j){console.error("Search failed",j)}finally{f(!1)}},300);return()=>clearTimeout(C)},[n]);const w=C=>{C.key==="ArrowDown"?(C.preventDefault(),g(j=>j<i.length-1?j+1:j)):C.key==="ArrowUp"?(C.preventDefault(),g(j=>j>0?j-1:-1)):C.key==="Enter"?(C.preventDefault(),p>=0&&i[p]?S(i[p]):i.length>0):C.key==="Escape"&&(u(!1),C.target.blur())},S=C=>{e(`/ticker/${C.symbol}`),r(""),u(!1)};return c.jsxs("div",{className:Fe("relative w-full",t),ref:x,children:[c.jsxs("div",{className:"relative",children:[c.jsx(Qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),c.jsx("input",{ref:v,type:"text",className:"w-full bg-[#09090b] border border-input text-sm rounded-full pl-10 pr-16 py-2 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:bg-background transition-all placeholder:text-muted-foreground/70",placeholder:"Search tickers...",value:n,onChange:C=>r(C.target.value),onKeyDown:w,onFocus:()=>{i.length>0&&u(!0)}}),c.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2 pointer-events-none",children:[h&&c.jsx(Wt,{className:"w-3 h-3 animate-spin text-primary"}),c.jsxs("kbd",{className:"hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[c.jsx("span",{className:"text-xs",children:""}),"K"]})]})]}),o&&i.length>0&&c.jsx("div",{className:"absolute top-full mt-2 w-full bg-[#09090b] !bg-opacity-100 border border-border rounded-xl shadow-2xl z-50 overflow-hidden animate-in slide-in-from-top-2 !opacity-100",children:c.jsx("div",{className:"py-1",children:i.map((C,j)=>c.jsxs("button",{className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${j===p?"bg-primary/10 text-primary":"hover:bg-muted/50 text-foreground"}`,onClick:()=>S(C),onMouseEnter:()=>g(j),children:[c.jsx(mr,{symbol:C.symbol,url:C.logo_url,className:"w-8 h-8 rounded-full border border-border flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-bold text-sm",children:C.symbol}),c.jsx("span",{className:"text-[10px] text-muted-foreground border border-border px-1.5 rounded bg-background/50",children:C.exchange})]}),c.jsx("p",{className:"text-xs text-muted-foreground truncate opacity-80",children:C.name})]})]},C.symbol))})})]})}function mD(t){const{data:e,refetch:n}=nn({queryKey:["notifications","count"],queryFn:async()=>{const{data:r}=await je.get("/notifications/count");return r.count||0},enabled:t,refetchInterval:12e4,staleTime:6e4,refetchOnWindowFocus:!1,refetchOnMount:!1});return{unreadCount:e||0,check:n}}function pD({count:t}){return t<=0?null:c.jsxs("div",{className:"relative flex items-center justify-center w-8 h-8",children:[c.jsx("div",{className:"absolute inset-0 bg-purple-500/20 blur-xl rounded-full animate-pulse"}),c.jsx(Nn,{className:"w-5 h-5 text-purple-500 animate-pulse"}),c.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-purple-600 text-white text-[10px] font-bold flex items-center justify-center rounded-full border-2 border-background z-10",children:t})]})}function Ar(){const{user:t,logout:e}=Or(),n=bi(),r=_t(),[i,a]=N.useState(!1),[o,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState([]),{data:x=0}=hD(),v=N.useRef(x),{unreadCount:w,check:S}=mD(!!t),C=N.useCallback(async()=>{try{const{data:P}=await je.get("/notifications");g(P)}catch(P){console.error("Failed to fetch notifications list",P)}},[]),j=N.useCallback(()=>{a(!1),f(!1),u(!1)},[]);N.useEffect(()=>{if(!t)return;const P="/api/v1/notifications/stream",$=new EventSource(P,{withCredentials:!0});return $.addEventListener("notification",L=>{try{const q=JSON.parse(L.data);S(),o&&C(),th.invalidateQueries({queryKey:["research","active-count"]}),q.data?.ticker&&th.invalidateQueries({queryKey:["tickers","research",q.data.ticker]})}catch(q){console.error("[SSE] Failed to parse notification event",q)}}),()=>{$.close()}},[t,S,o,C]),N.useEffect(()=>{v.current>0&&x===0&&S(),v.current=x},[x,S]),N.useEffect(()=>{a(!1),f(!1),u(!1)},[n.pathname]);const E=async()=>{o?u(!1):(await C(),u(!0),a(!1))},_=async P=>{try{P.read||(await je.patch(`/notifications/${P.id}/read`),S()),P.type==="research_complete"&&P.data?.ticker?r(`/ticker/${P.data.ticker}`):P.data?.ticker&&r(`/ticker/${P.data.ticker}`),u(!1)}catch($){console.error("Failed to handle notification click",$)}},A=P=>P==="/dashboard"&&(n.pathname==="/"||n.pathname==="/dashboard")?!0:n.pathname===P,O=P=>`text-sm font-medium h-14 flex items-center px-1 transition-colors ${A(P)?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground border-b-2 border-transparent"}`,z=P=>`block px-4 py-3 text-base font-medium transition-colors rounded-md ${A(P)?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,F=P=>{j(),r(P)};return c.jsxs("header",{className:"rgb-border-b h-14 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",children:[c.jsxs("div",{className:"container max-w-[80rem] mx-auto h-full flex items-center gap-2 md:gap-4 px-4 overflow-hidden",children:[c.jsx("button",{className:"md:hidden text-muted-foreground hover:text-foreground flex-shrink-0",onClick:()=>f(!h),"aria-label":"Toggle menu",children:h?c.jsx(Ea,{size:24}):c.jsx(nO,{size:24})}),c.jsx(Ir,{to:"/dashboard",className:"hidden md:flex text-lg font-bold text-foreground tracking-tight hover:opacity-80 transition-opacity flex-shrink-0",children:"NeuralTicker.com"}),c.jsx("div",{className:"flex-1 max-w-sm md:ml-4 lg:ml-8",children:c.jsx(fD,{})}),c.jsxs("nav",{className:"hidden md:flex items-center gap-4 lg:gap-6 px-2",children:[c.jsx(Ir,{to:"/watchlist",className:O("/watchlist"),children:"Watchlist"}),c.jsx(Ir,{to:"/analyzer",className:O("/analyzer"),children:"Tickers"}),c.jsx(Ir,{to:"/portfolio",className:O("/portfolio"),children:"Portfolio"})]}),c.jsxs("div",{className:"flex items-center gap-1.5 md:gap-4 flex-shrink-0",children:[c.jsx(pD,{count:x}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{className:`flex items-center justify-center w-8 h-8 text-muted-foreground hover:text-foreground transition-colors relative ${o?"text-foreground":""}`,onClick:()=>{E()},children:[c.jsx(r3,{size:20}),w>0&&c.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-600 text-white text-[10px] font-bold flex items-center justify-center rounded-full border-2 border-background",children:w})]}),c.jsxs("div",{className:`absolute right-0 top-full mt-3 w-80 bg-card border border-border rounded-lg shadow-xl transition-all duration-200 z-50 overflow-hidden ${o?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-1 pointer-events-none"}`,children:[c.jsxs("div",{className:"p-3 border-b border-border flex justify-between items-center bg-muted/30",children:[c.jsx("h3",{className:"font-semibold text-sm",children:"Notifications"}),c.jsx("button",{onClick:()=>{(async()=>(await je.patch("/notifications/read-all"),await C(),S()))()},className:"text-xs text-primary hover:underline",children:"Mark all read"})]}),c.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:p.length===0?c.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:"No notifications yet"}):p.map(P=>c.jsxs("div",{onClick:()=>{_(P)},className:`p-3 border-b border-border last:border-0 hover:bg-muted/50 cursor-pointer transition-colors ${P.read?"":"bg-primary/5"}`,children:[c.jsxs("div",{className:"flex justify-between items-start gap-2",children:[c.jsx("p",{className:`text-sm ${P.read?"text-muted-foreground":"font-semibold text-foreground"}`,children:P.title}),!P.read&&c.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mt-1.5 flex-shrink-0"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:P.message}),c.jsx("p",{className:"text-[10px] text-muted-foreground mt-2 opacity-70",children:new Date(P.created_at).toLocaleString()})]},P.id))})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",onClick:()=>{a(P=>!P),u(!1)},"aria-expanded":i,"aria-haspopup":"menu",type:"button","aria-label":"User menu",children:t?.avatar_url?c.jsx("img",{src:t.avatar_url,alt:"Profile",className:"w-8 h-8 rounded-full border border-border"}):c.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center border border-border",children:c.jsx(Ol,{size:16})})}),c.jsxs("div",{className:`absolute right-0 top-full mt-2 w-64 bg-card border border-border rounded-lg shadow-xl transition-all duration-200 z-50 ${i?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-1 pointer-events-none"}`,children:[c.jsxs("div",{className:"p-4 border-b border-border",children:[c.jsxs("div",{className:"font-semibold text-foreground flex items-center gap-2",children:[t?.nickname||"Trader",c.jsx(Oe,{variant:"outline",className:`text-[10px] h-5 px-1.5 ${t?.tier==="pro"||t?.tier==="admin"?"border-purple-500 text-purple-500 uppercase":"border-emerald-500 text-emerald-500 uppercase"}`,children:(t?.tier||"free").toUpperCase()})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t?.email})]}),c.jsxs("div",{className:"p-2",children:[c.jsxs("button",{type:"button",onClick:()=>F("/profile"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded-md transition-colors",children:[c.jsx(Ol,{size:16}),"My Profile"]}),t&&t.role==="admin"&&c.jsxs("button",{type:"button",onClick:()=>F("/admin"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left text-purple-500 hover:text-purple-400 hover:bg-muted/50 rounded-md transition-colors",children:[c.jsx(KC,{size:16}),"Admin Console"]})]}),c.jsx("div",{className:"p-2 border-t border-border",children:c.jsx("button",{onClick:()=>e(),className:"w-full text-left px-3 py-2 text-xs text-destructive hover:bg-destructive/10 rounded-md transition-colors",children:"Sign Out"})})]})]})]})]}),h&&c.jsxs("div",{className:"md:hidden absolute top-14 left-0 w-full bg-background border-b border-border shadow-2xl p-4 flex flex-col gap-2 animate-in slide-in-from-top-2",children:[c.jsx(Ir,{to:"/dashboard",className:z("/dashboard"),children:"Dashboard"}),c.jsx("div",{className:"h-px bg-border my-1"}),c.jsx(Ir,{to:"/watchlist",className:z("/watchlist"),children:"Watchlist"}),c.jsx(Ir,{to:"/analyzer",className:z("/analyzer"),children:"Tickers"}),c.jsx(Ir,{to:"/news",className:z("/news"),children:"News"}),c.jsx(Ir,{to:"/portfolio",className:z("/portfolio"),children:"Portfolio"}),c.jsx("div",{className:"h-px bg-border my-2"})]})]})}function n2(t){return nn({queryKey:["analyzer",t],queryFn:async()=>{const e=new URLSearchParams;e.append("page",String(t.page)),e.append("limit",String(t.limit)),e.append("sortBy",t.sortBy),e.append("sortDir",t.sortDir),t.search&&e.append("search",t.search),t.risk?.forEach(r=>e.append("risk",r)),t.aiRating?.forEach(r=>e.append("aiRating",r)),t.sector?.forEach(r=>e.append("sector",r)),t.upside&&e.append("upside",t.upside),t.overallScore&&e.append("overallScore",t.overallScore);const{data:n}=await je.get("/market-data/analyzer",{params:e});return n},placeholderData:e=>e})}function gD({data:t,isLoading:e}){const n=_t();return e?c.jsx("div",{className:"flex flex-col md:grid md:grid-cols-4 gap-4",children:Array.from({length:4}).map((r,i)=>c.jsx("div",{className:"min-w-[280px] h-48 rounded-lg border border-border bg-card animate-pulse w-full"},i))}):t.length===0?c.jsx("div",{className:"text-center py-12 text-muted-foreground bg-card/50 rounded-lg border border-border",children:"No opportunities found for this category."}):c.jsxs("div",{className:"relative group/carousel",children:[c.jsx("div",{className:"flex flex-col md:grid md:grid-cols-4 gap-4 pb-4 px-1",children:t.map(r=>{const{symbol:i,logo:a,company:o,price:u,change:h,riskScore:f,potentialUpside:p,aiRating:g}=r,x=f||0,v=p||0;let w="text-muted-foreground",S=fr;x<=3.5?(w="text-emerald-500 font-bold",S=fr):x<=6.5?(w="text-yellow-500 font-bold",S=mn):(w="text-red-500 font-bold",S=Jl);let C="outline";return g==="Strong Buy"?C="strongBuy":g==="Buy"?C="buy":g==="Hold"?C="hold":g==="Sell"?C="sell":g==="Speculative Buy"&&(C="speculativeBuy"),c.jsxs("div",{className:"ticker-card w-full group flex flex-col p-4 rounded-lg border border-border bg-transparent hover:border-primary/50 transition-all shadow-sm hover:shadow-md cursor-pointer relative",onClick:()=>n(`/ticker/${i}`),children:[c.jsx("div",{className:"flex items-start justify-between mb-3",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(mr,{url:a,symbol:i,className:"w-12 h-12 shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("div",{className:"font-bold text-xl leading-none",children:i}),g&&g!=="-"&&c.jsxs(Oe,{variant:C,className:"text-xs h-6 px-2 whitespace-nowrap gap-1 ml-auto",children:[c.jsx(Qn,{size:12,className:"opacity-80"}),g]})]}),c.jsxs("div",{className:"flex flex-col gap-0.5 mt-1",children:[c.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:o}),c.jsx("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:c.jsx("div",{className:"text-xs text-muted-foreground/70 truncate",children:r.sector})})]})]})]})}),c.jsxs("div",{className:"mt-auto space-y-3",children:[c.jsxs("div",{className:"flex items-end justify-between border-b border-border pb-3",children:[c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsxs("span",{className:"text-lg font-mono font-medium",children:["$",typeof u=="number"?u.toFixed(2):"0.00"]}),r.rating&&r.rating!=="-"&&(()=>{const j=r.rating.toLowerCase();let E="Hold",_="hold";return j.includes("strong buy")?(E="Strong Buy",_="strongBuy"):j.includes("buy")?(E="Buy",_="buy"):j.includes("sell")?(E="Sell",_="sell"):(E="Hold",_="hold"),c.jsxs(Oe,{variant:_,className:"h-4 px-1.5 whitespace-nowrap gap-1",children:[c.jsx("span",{className:"opacity-70 font-normal mr-0.5",children:"Consensus:"}),E," ",r.analystCount>0?`(${r.analystCount})`:""]})})()]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-0.5",children:"Today"}),c.jsxs("div",{className:Fe("flex items-center gap-0.5 text-lg font-mono font-bold",h>=0?"text-emerald-500":"text-red-500"),children:[h>=0?c.jsx(Yn,{size:20}):c.jsx(Vr,{size:20}),typeof h=="number"?Math.abs(h).toFixed(2):"0.00","%"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between gap-2 mt-3 mb-1",children:[c.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-1 rounded font-medium border border-border/50",children:[c.jsx(S,{size:12,className:w.replace("text-","text-").split(" ")[0]}),c.jsx("span",{className:"text-muted-foreground",children:"Risk:"}),c.jsx("span",{className:w,children:typeof x=="number"?Math.round(x):"0"})]}),c.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-1 rounded font-medium border border-border/50",children:[c.jsx(Yn,{size:12,className:v>0?"text-emerald-500":"text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Upside:"}),c.jsxs("span",{className:v>0?"text-emerald-500 font-bold":"text-muted-foreground font-bold",children:[v>0?"+":"",typeof v=="number"?v.toFixed(1):"0.0","%"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-border/50 text-xs",children:[r.researchCount>0&&c.jsxs("span",{className:"flex items-center gap-1 text-purple-400 font-medium bg-purple-400/10 px-1.5 py-0.5 rounded",children:[c.jsx(Nn,{size:12})," ",r.researchCount]}),r.newsCount>0&&c.jsxs("span",{className:"flex items-center gap-1 text-sky-400 font-medium bg-sky-400/10 px-1.5 py-0.5 rounded",children:[c.jsx(fi,{size:12})," ",r.newsCount]}),r.socialCount>0&&c.jsxs("span",{className:"flex items-center gap-1 text-blue-400 font-medium bg-blue-400/10 px-1.5 py-0.5 rounded",children:[c.jsx(Zl,{size:12})," ",r.socialCount]}),c.jsxs("span",{className:"ml-auto flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-0.5 rounded font-medium border border-border/50",children:[c.jsx(Vr,{size:10,className:x>6.5?"text-red-500":"text-amber-500"}),c.jsx("span",{className:"text-muted-foreground",children:"Downside:"}),c.jsx("span",{className:x>6.5?"text-red-500 font-bold":"text-amber-500 font-bold",children:r.potentialDownside!==null&&r.potentialDownside!==void 0?`${r.potentialDownside.toFixed(1)}%`:"-0.0%"})]})]})]})]},i)})}),c.jsx("div",{className:"absolute inset-y-0 left-0 w-8 bg-gradient-to-r from-background to-transparent pointer-events-none md:hidden"}),c.jsx("div",{className:"absolute inset-y-0 right-0 w-8 bg-gradient-to-l from-background to-transparent pointer-events-none md:hidden"})]})}function xD(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const yD=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vD=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bD={};function nS(t,e){return(bD.jsx?vD:yD).test(t)}const wD=/[ \t\n\f\r]/g;function SD(t){return typeof t=="object"?t.type==="text"?rS(t.value):!1:rS(t)}function rS(t){return t.replace(wD,"")===""}class Ic{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Ic.prototype.normal={};Ic.prototype.property={};Ic.prototype.space=void 0;function r2(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ic(n,r,e)}function Zg(t){return t.toLowerCase()}class Xn{constructor(e,n){this.attribute=n,this.property=e}}Xn.prototype.attribute="";Xn.prototype.booleanish=!1;Xn.prototype.boolean=!1;Xn.prototype.commaOrSpaceSeparated=!1;Xn.prototype.commaSeparated=!1;Xn.prototype.defined=!1;Xn.prototype.mustUseProperty=!1;Xn.prototype.number=!1;Xn.prototype.overloadedBoolean=!1;Xn.prototype.property="";Xn.prototype.spaceSeparated=!1;Xn.prototype.space=void 0;let ND=0;const He=_a(),It=_a(),ex=_a(),he=_a(),ht=_a(),_l=_a(),lr=_a();function _a(){return 2**++ND}const tx=Object.freeze(Object.defineProperty({__proto__:null,boolean:He,booleanish:It,commaOrSpaceSeparated:lr,commaSeparated:_l,number:he,overloadedBoolean:ex,spaceSeparated:ht},Symbol.toStringTag,{value:"Module"})),Lp=Object.keys(tx);class a0 extends Xn{constructor(e,n,r,i){let a=-1;if(super(e,n),iS(this,"space",i),typeof r=="number")for(;++a<Lp.length;){const o=Lp[a];iS(this,Lp[a],(r&tx[o])===tx[o])}}}a0.prototype.defined=!0;function iS(t,e,n){n&&(t[e]=n)}function eo(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new a0(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Zg(r)]=r,n[Zg(a.attribute)]=r}return new Ic(e,n,t.space)}const i2=eo({properties:{ariaActiveDescendant:null,ariaAtomic:It,ariaAutoComplete:null,ariaBusy:It,ariaChecked:It,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:ht,ariaCurrent:null,ariaDescribedBy:ht,ariaDetails:null,ariaDisabled:It,ariaDropEffect:ht,ariaErrorMessage:null,ariaExpanded:It,ariaFlowTo:ht,ariaGrabbed:It,ariaHasPopup:null,ariaHidden:It,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ht,ariaLevel:he,ariaLive:null,ariaModal:It,ariaMultiLine:It,ariaMultiSelectable:It,ariaOrientation:null,ariaOwns:ht,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:It,ariaReadOnly:It,ariaRelevant:null,ariaRequired:It,ariaRoleDescription:ht,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:It,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function s2(t,e){return e in t?t[e]:e}function a2(t,e){return s2(t,e.toLowerCase())}const jD=eo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_l,acceptCharset:ht,accessKey:ht,action:null,allow:null,allowFullScreen:He,allowPaymentRequest:He,allowUserMedia:He,alt:null,as:null,async:He,autoCapitalize:null,autoComplete:ht,autoFocus:He,autoPlay:He,blocking:ht,capture:null,charSet:null,checked:He,cite:null,className:ht,cols:he,colSpan:null,content:null,contentEditable:It,controls:He,controlsList:ht,coords:he|_l,crossOrigin:null,data:null,dateTime:null,decoding:null,default:He,defer:He,dir:null,dirName:null,disabled:He,download:ex,draggable:It,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:He,formTarget:null,headers:ht,height:he,hidden:ex,high:he,href:null,hrefLang:null,htmlFor:ht,httpEquiv:ht,id:null,imageSizes:null,imageSrcSet:null,inert:He,inputMode:null,integrity:null,is:null,isMap:He,itemId:null,itemProp:ht,itemRef:ht,itemScope:He,itemType:ht,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:He,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:He,muted:He,name:null,nonce:null,noModule:He,noValidate:He,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:He,optimum:he,pattern:null,ping:ht,placeholder:null,playsInline:He,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:He,referrerPolicy:null,rel:ht,required:He,reversed:He,rows:he,rowSpan:he,sandbox:ht,scope:null,scoped:He,seamless:He,selected:He,shadowRootClonable:He,shadowRootDelegatesFocus:He,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:It,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:He,useMap:null,value:It,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ht,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:He,declare:He,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:He,noHref:He,noShade:He,noWrap:He,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:It,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:He,disableRemotePlayback:He,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:a2}),CD=eo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:lr,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:ht,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:He,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_l,g2:_l,glyphName:_l,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:lr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ht,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lr,rev:lr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lr,requiredFeatures:lr,requiredFonts:lr,requiredFormats:lr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:lr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lr,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:s2}),l2=eo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),o2=eo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:a2}),c2=eo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),kD={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ED=/[A-Z]/g,sS=/-[a-z]/g,_D=/^data[-\w.:]+$/i;function RD(t,e){const n=Zg(e);let r=e,i=Xn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_D.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(sS,AD);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!sS.test(a)){let o=a.replace(ED,MD);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=a0}return new i(r,e)}function MD(t){return"-"+t.toLowerCase()}function AD(t){return t.charAt(1).toUpperCase()}const TD=r2([i2,jD,l2,o2,c2],"html"),l0=r2([i2,CD,l2,o2,c2],"svg");function zD(t){return t.join(" ").trim()}var yl={},Fp,aS;function OD(){if(aS)return Fp;aS=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,u=/^\s+|\s+$/g,h=`
`,f="/",p="*",g="",x="comment",v="declaration";function w(C,j){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];j=j||{};var E=1,_=1;function A(se){var te=se.match(e);te&&(E+=te.length);var B=se.lastIndexOf(h);_=~B?se.length-B:_+se.length}function O(){var se={line:E,column:_};return function(te){return te.position=new z(se),$(),te}}function z(se){this.start=se,this.end={line:E,column:_},this.source=j.source}z.prototype.content=C;function F(se){var te=new Error(j.source+":"+E+":"+_+": "+se);if(te.reason=se,te.filename=j.source,te.line=E,te.column=_,te.source=C,!j.silent)throw te}function P(se){var te=se.exec(C);if(te){var B=te[0];return A(B),C=C.slice(B.length),te}}function $(){P(n)}function L(se){var te;for(se=se||[];te=q();)te!==!1&&se.push(te);return se}function q(){var se=O();if(!(f!=C.charAt(0)||p!=C.charAt(1))){for(var te=2;g!=C.charAt(te)&&(p!=C.charAt(te)||f!=C.charAt(te+1));)++te;if(te+=2,g===C.charAt(te-1))return F("End of comment missing");var B=C.slice(2,te-2);return _+=2,A(B),C=C.slice(te),_+=2,se({type:x,comment:B})}}function J(){var se=O(),te=P(r);if(te){if(q(),!P(i))return F("property missing ':'");var B=P(a),Y=se({type:v,property:S(te[0].replace(t,g)),value:B?S(B[0].replace(t,g)):g});return P(o),Y}}function de(){var se=[];L(se);for(var te;te=J();)te!==!1&&(se.push(te),L(se));return se}return $(),de()}function S(C){return C?C.replace(u,g):g}return Fp=w,Fp}var lS;function DD(){if(lS)return yl;lS=1;var t=yl&&yl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yl,"__esModule",{value:!0}),yl.default=n;const e=t(OD());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,e.default)(r),u=typeof i=="function";return o.forEach(h=>{if(h.type!=="declaration")return;const{property:f,value:p}=h;u?i(f,p,h):p&&(a=a||{},a[f]=p)}),a}return yl}var ec={},oS;function PD(){if(oS)return ec;oS=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(f){return!f||n.test(f)||t.test(f)},o=function(f,p){return p.toUpperCase()},u=function(f,p){return"".concat(p,"-")},h=function(f,p){return p===void 0&&(p={}),a(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(e,o))};return ec.camelCase=h,ec}var tc,cS;function LD(){if(cS)return tc;cS=1;var t=tc&&tc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(DD()),n=PD();function r(i,a){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(u,h){u&&h&&(o[(0,n.camelCase)(u,a)]=h)}),o}return r.default=r,tc=r,tc}var FD=LD();const BD=kh(FD),u2=d2("end"),o0=d2("start");function d2(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ID(t){const e=o0(t),n=u2(t);if(e&&n)return{start:e,end:n}}function mc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?uS(t.position):"start"in t||"end"in t?uS(t):"line"in t||"column"in t?nx(t):""}function nx(t){return dS(t&&t.line)+":"+dS(t&&t.column)}function uS(t){return nx(t&&t.start)+"-"+nx(t&&t.end)}function dS(t){return t&&typeof t=="number"?t:1}class jn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?a.ruleId=r:(a.source=r.slice(0,h),a.ruleId=r.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const u=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=mc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}jn.prototype.file="";jn.prototype.name="";jn.prototype.reason="";jn.prototype.message="";jn.prototype.stack="";jn.prototype.column=void 0;jn.prototype.line=void 0;jn.prototype.ancestors=void 0;jn.prototype.cause=void 0;jn.prototype.fatal=void 0;jn.prototype.place=void 0;jn.prototype.ruleId=void 0;jn.prototype.source=void 0;const c0={}.hasOwnProperty,UD=new Map,HD=/[A-Z]/g,VD=new Set(["table","tbody","thead","tfoot","tr"]),$D=new Set(["td","th"]),h2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qD(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ZD(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=JD(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?l0:TD,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=f2(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function f2(t,e,n){if(e.type==="element")return GD(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return YD(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return WD(t,e,n);if(e.type==="mdxjsEsm")return QD(t,e);if(e.type==="root")return KD(t,e,n);if(e.type==="text")return XD(t,e)}function GD(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=l0,t.schema=i),t.ancestors.push(e);const a=p2(t,e.tagName,!1),o=eP(t,e);let u=d0(t,e);return VD.has(e.tagName)&&(u=u.filter(function(h){return typeof h=="string"?!SD(h):!0})),m2(t,o,a,e),u0(o,u),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function YD(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Cc(t,e.position)}function QD(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Cc(t,e.position)}function WD(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=l0,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:p2(t,e.name,!0),o=tP(t,e),u=d0(t,e);return m2(t,o,a,e),u0(o,u),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function KD(t,e,n){const r={};return u0(r,d0(t,e)),t.create(e,t.Fragment,r,n)}function XD(t,e){return e.value}function m2(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function u0(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function JD(t,e,n){return r;function r(i,a,o,u){const f=Array.isArray(o.children)?n:e;return u?f(a,o,u):f(a,o)}}function ZD(t,e){return n;function n(r,i,a,o){const u=Array.isArray(a.children),h=o0(r);return e(i,a,o,u,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function eP(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&c0.call(e.properties,i)){const a=nP(t,i,e.properties[i]);if(a){const[o,u]=a;t.tableCellAlignToStyle&&o==="align"&&typeof u=="string"&&$D.has(e.tagName)?r=u:n[o]=u}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function tP(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const u=o.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else Cc(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const u=r.value.data.estree.body[0];u.type,a=t.evaluater.evaluateExpression(u.expression)}else Cc(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function d0(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:UD;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const f=i.get(h)||0;o=h+"-"+f,i.set(h,f+1)}}const u=f2(t,a,o);u!==void 0&&n.push(u)}return n}function nP(t,e,n){const r=RD(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?xD(n):zD(n)),r.property==="style"){let i=typeof n=="object"?n:rP(t,String(n));return t.stylePropertyNameCase==="css"&&(i=iP(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?kD[r.property]||r.property:r.attribute,n]}}function rP(t,e){try{return BD(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new jn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=h2+"#cannot-parse-style-attribute",i}}function p2(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,o;for(;++a<i.length;){const u=nS(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:u,computed:!!(a&&u.type==="Literal"),optional:!1}:u}r=o}else r=nS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return c0.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Cc(t)}function Cc(t,e){const n=new jn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=h2+"#cannot-handle-mdx-estrees-without-createevaluater",n}function iP(t){const e={};let n;for(n in t)c0.call(t,n)&&(e[sP(n)]=t[n]);return e}function sP(t){let e=t.replace(HD,aP);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function aP(t){return"-"+t.toLowerCase()}const Bp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},lP={};function h0(t,e){const n=lP,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return g2(t,r,i)}function g2(t,e,n){if(oP(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return hS(t.children,e,n)}return Array.isArray(t)?hS(t,e,n):""}function hS(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=g2(t[i],e,n);return r.join("")}function oP(t){return!!(t&&typeof t=="object")}const fS=document.createElement("i");function f0(t){const e="&"+t+";";fS.innerHTML=e;const n=fS.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function cr(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function Mr(t,e){return t.length>0?(cr(t,t.length,0,e),t):e}const mS={}.hasOwnProperty;function x2(t){const e={};let n=-1;for(;++n<t.length;)cP(e,t[n]);return e}function cP(t,e){let n;for(n in e){const i=(mS.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){mS.call(i,o)||(i[o]=[]);const u=a[o];uP(i[o],Array.isArray(u)?u:u?[u]:[])}}}function uP(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);cr(t,0,0,r)}function y2(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ur(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Rn=Fs(/[A-Za-z]/),Sn=Fs(/[\dA-Za-z]/),dP=Fs(/[#-'*+\--9=?A-Z^-~]/);function oh(t){return t!==null&&(t<32||t===127)}const rx=Fs(/\d/),hP=Fs(/[\dA-Fa-f]/),fP=Fs(/[!-/:-@[-`{-~]/);function Re(t){return t!==null&&t<-2}function ut(t){return t!==null&&(t<0||t===32)}function Ye(t){return t===-2||t===-1||t===32}const Ih=Fs(new RegExp("\\p{P}|\\p{S}","u")),wa=Fs(/\s/);function Fs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function to(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&Sn(t.charCodeAt(n+1))&&Sn(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const u=t.charCodeAt(n+1);a<56320&&u>56319&&u<57344?(o=String.fromCharCode(a,u),i=1):o=""}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Xe(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(h){return Ye(h)?(t.enter(n),u(h)):e(h)}function u(h){return Ye(h)&&a++<i?(t.consume(h),u):(t.exit(n),e(h))}}const mP={tokenize:pP};function pP(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Xe(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),a(u)}function a(u){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,o(u)}function o(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return Re(u)?(t.consume(u),t.exit("chunkText"),a):(t.consume(u),o)}}const gP={tokenize:xP},pS={tokenize:yP};function xP(t){const e=this,n=[];let r=0,i,a,o;return u;function u(_){if(r<n.length){const A=n[r];return e.containerState=A[1],t.attempt(A[0].continuation,h,f)(_)}return f(_)}function h(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const A=e.events.length;let O=A,z;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){z=e.events[O][1].end;break}j(r);let F=A;for(;F<e.events.length;)e.events[F][1].end={...z},F++;return cr(e.events,O+1,0,e.events.slice(A)),e.events.length=F,f(_)}return u(_)}function f(_){if(r===n.length){if(!i)return x(_);if(i.currentConstruct&&i.currentConstruct.concrete)return w(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(pS,p,g)(_)}function p(_){return i&&E(),j(r),x(_)}function g(_){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,w(_)}function x(_){return e.containerState={},t.attempt(pS,v,w)(_)}function v(_){return r++,n.push([e.currentConstruct,e.containerState]),x(_)}function w(_){if(_===null){i&&E(),j(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),S(_)}function S(_){if(_===null){C(t.exit("chunkFlow"),!0),j(0),t.consume(_);return}return Re(_)?(t.consume(_),C(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(_),S)}function C(_,A){const O=e.sliceStream(_);if(A&&O.push(null),_.previous=a,a&&(a.next=_),a=_,i.defineSkip(_.start),i.write(O),e.parser.lazy[_.start.line]){let z=i.events.length;for(;z--;)if(i.events[z][1].start.offset<o&&(!i.events[z][1].end||i.events[z][1].end.offset>o))return;const F=e.events.length;let P=F,$,L;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if($){L=e.events[P][1].end;break}$=!0}for(j(r),z=F;z<e.events.length;)e.events[z][1].end={...L},z++;cr(e.events,P+1,0,e.events.slice(F)),e.events.length=z}}function j(_){let A=n.length;for(;A-- >_;){const O=n[A];e.containerState=O[1],O[0].exit.call(e,t)}n.length=_}function E(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function yP(t,e,n){return Xe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Dl(t){if(t===null||ut(t)||wa(t))return 1;if(Ih(t))return 2}function Uh(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const ix={name:"attention",resolveAll:vP,tokenize:bP};function vP(t,e){let n=-1,r,i,a,o,u,h,f,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},x={...t[n][1].start};gS(g,-h),gS(x,h),o={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},u={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:x},a={type:h>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:h>1?"strong":"emphasis",start:{...o.start},end:{...u.end}},t[r][1].end={...o.start},t[n][1].start={...u.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=Mr(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=Mr(f,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),f=Mr(f,Uh(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=Mr(f,[["exit",a,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,f=Mr(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,cr(t,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function bP(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Dl(r);let a;return o;function o(h){return a=h,t.enter("attentionSequence"),u(h)}function u(h){if(h===a)return t.consume(h),u;const f=t.exit("attentionSequence"),p=Dl(h),g=!p||p===2&&i||n.includes(h),x=!i||i===2&&p||n.includes(r);return f._open=!!(a===42?g:g&&(i||!x)),f._close=!!(a===42?x:x&&(p||!g)),e(h)}}function gS(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const wP={name:"autolink",tokenize:SP};function SP(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(v){return Rn(v)?(t.consume(v),o):v===64?n(v):f(v)}function o(v){return v===43||v===45||v===46||Sn(v)?(r=1,u(v)):f(v)}function u(v){return v===58?(t.consume(v),r=0,h):(v===43||v===45||v===46||Sn(v))&&r++<32?(t.consume(v),u):(r=0,f(v))}function h(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||oh(v)?n(v):(t.consume(v),h)}function f(v){return v===64?(t.consume(v),p):dP(v)?(t.consume(v),f):n(v)}function p(v){return Sn(v)?g(v):n(v)}function g(v){return v===46?(t.consume(v),r=0,p):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):x(v)}function x(v){if((v===45||Sn(v))&&r++<63){const w=v===45?x:g;return t.consume(v),w}return n(v)}}const Uc={partial:!0,tokenize:NP};function NP(t,e,n){return r;function r(a){return Ye(a)?Xe(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Re(a)?e(a):n(a)}}const v2={continuation:{tokenize:CP},exit:kP,name:"blockQuote",tokenize:jP};function jP(t,e,n){const r=this;return i;function i(o){if(o===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Ye(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function CP(t,e,n){const r=this;return i;function i(o){return Ye(o)?Xe(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(v2,e,n)(o)}}function kP(t){t.exit("blockQuote")}const b2={name:"characterEscape",tokenize:EP};function EP(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return fP(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const w2={name:"characterReference",tokenize:_P};function _P(t,e,n){const r=this;let i=0,a,o;return u;function u(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),h}function h(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),a=31,o=Sn,p(g))}function f(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=hP,p):(t.enter("characterReferenceValue"),a=7,o=rx,p(g))}function p(g){if(g===59&&i){const x=t.exit("characterReferenceValue");return o===Sn&&!f0(r.sliceSerialize(x))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(g)&&i++<a?(t.consume(g),p):n(g)}}const xS={partial:!0,tokenize:MP},yS={concrete:!0,name:"codeFenced",tokenize:RP};function RP(t,e,n){const r=this,i={partial:!0,tokenize:O};let a=0,o=0,u;return h;function h(z){return f(z)}function f(z){const F=r.events[r.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,u=z,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(z)}function p(z){return z===u?(o++,t.consume(z),p):o<3?n(z):(t.exit("codeFencedFenceSequence"),Ye(z)?Xe(t,g,"whitespace")(z):g(z))}function g(z){return z===null||Re(z)?(t.exit("codeFencedFence"),r.interrupt?e(z):t.check(xS,S,A)(z)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),x(z))}function x(z){return z===null||Re(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(z)):Ye(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Xe(t,v,"whitespace")(z)):z===96&&z===u?n(z):(t.consume(z),x)}function v(z){return z===null||Re(z)?g(z):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(z))}function w(z){return z===null||Re(z)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(z)):z===96&&z===u?n(z):(t.consume(z),w)}function S(z){return t.attempt(i,A,C)(z)}function C(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),j}function j(z){return a>0&&Ye(z)?Xe(t,E,"linePrefix",a+1)(z):E(z)}function E(z){return z===null||Re(z)?t.check(xS,S,A)(z):(t.enter("codeFlowValue"),_(z))}function _(z){return z===null||Re(z)?(t.exit("codeFlowValue"),E(z)):(t.consume(z),_)}function A(z){return t.exit("codeFenced"),e(z)}function O(z,F,P){let $=0;return L;function L(te){return z.enter("lineEnding"),z.consume(te),z.exit("lineEnding"),q}function q(te){return z.enter("codeFencedFence"),Ye(te)?Xe(z,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):J(te)}function J(te){return te===u?(z.enter("codeFencedFenceSequence"),de(te)):P(te)}function de(te){return te===u?($++,z.consume(te),de):$>=o?(z.exit("codeFencedFenceSequence"),Ye(te)?Xe(z,se,"whitespace")(te):se(te)):P(te)}function se(te){return te===null||Re(te)?(z.exit("codeFencedFence"),F(te)):P(te)}}}function MP(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Ip={name:"codeIndented",tokenize:TP},AP={partial:!0,tokenize:zP};function TP(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),Xe(t,a,"linePrefix",5)(f)}function a(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(f):n(f)}function o(f){return f===null?h(f):Re(f)?t.attempt(AP,o,h)(f):(t.enter("codeFlowValue"),u(f))}function u(f){return f===null||Re(f)?(t.exit("codeFlowValue"),o(f)):(t.consume(f),u)}function h(f){return t.exit("codeIndented"),e(f)}}function zP(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Re(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Xe(t,a,"linePrefix",5)(o)}function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(o):Re(o)?i(o):n(o)}}const OP={name:"codeText",previous:PP,resolve:DP,tokenize:LP};function DP(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function PP(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function LP(t,e,n){let r=0,i,a;return o;function o(g){return t.enter("codeText"),t.enter("codeTextSequence"),u(g)}function u(g){return g===96?(t.consume(g),r++,u):(t.exit("codeTextSequence"),h(g))}function h(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),h):g===96?(a=t.enter("codeTextSequence"),i=0,p(g)):Re(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),h):(t.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||Re(g)?(t.exit("codeTextData"),h(g)):(t.consume(g),f)}function p(g){return g===96?(t.consume(g),i++,p):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(a.type="codeTextData",f(g))}}class FP{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&nc(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),nc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),nc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);nc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);nc(this.left,n.reverse())}}}function nc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function S2(t){const e={};let n=-1,r,i,a,o,u,h,f;const p=new FP(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,BP(p,n)),n=e[n],f=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=p.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},u=p.slice(i,n),u.unshift(r),p.splice(i,n-i+1,u))}}return cr(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function BP(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const u=o.events,h=[],f={};let p,g,x=-1,v=n,w=0,S=0;const C=[S];for(;v;){for(;t.get(++i)[1]!==v;);a.push(i),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),g&&o.defineSkip(v.start),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),g=v,v=v.next}for(v=n;++x<u.length;)u[x][0]==="exit"&&u[x-1][0]==="enter"&&u[x][1].type===u[x-1][1].type&&u[x][1].start.line!==u[x][1].end.line&&(S=x+1,C.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(o.events=[],v?(v._tokenizer=void 0,v.previous=void 0):C.pop(),x=C.length;x--;){const j=u.slice(C[x],C[x+1]),E=a.pop();h.push([E,E+j.length-1]),t.splice(E,2,j)}for(h.reverse(),x=-1;++x<h.length;)f[w+h[x][0]]=w+h[x][1],w+=h[x][1]-h[x][0]-1;return f}const IP={resolve:HP,tokenize:VP},UP={partial:!0,tokenize:$P};function HP(t){return S2(t),t}function VP(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?a(u):Re(u)?t.check(UP,o,a)(u):(t.consume(u),i)}function a(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function o(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function $P(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Xe(t,a,"linePrefix")}function a(o){if(o===null||Re(o))return n(o);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function N2(t,e,n,r,i,a,o,u,h){const f=h||Number.POSITIVE_INFINITY;let p=0;return g;function g(j){return j===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(j),t.exit(a),x):j===null||j===32||j===41||oh(j)?n(j):(t.enter(r),t.enter(o),t.enter(u),t.enter("chunkString",{contentType:"string"}),S(j))}function x(j){return j===62?(t.enter(a),t.consume(j),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===62?(t.exit("chunkString"),t.exit(u),x(j)):j===null||j===60||Re(j)?n(j):(t.consume(j),j===92?w:v)}function w(j){return j===60||j===62||j===92?(t.consume(j),v):v(j)}function S(j){return!p&&(j===null||j===41||ut(j))?(t.exit("chunkString"),t.exit(u),t.exit(o),t.exit(r),e(j)):p<f&&j===40?(t.consume(j),p++,S):j===41?(t.consume(j),p--,S):j===null||j===32||j===40||oh(j)?n(j):(t.consume(j),j===92?C:S)}function C(j){return j===40||j===41||j===92?(t.consume(j),S):S(j)}}function j2(t,e,n,r,i,a){const o=this;let u=0,h;return f;function f(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(a),p}function p(v){return u>999||v===null||v===91||v===93&&!h||v===94&&!u&&"_hiddenFootnoteSupport"in o.parser.constructs?n(v):v===93?(t.exit(a),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):Re(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||v===91||v===93||Re(v)||u++>999?(t.exit("chunkString"),p(v)):(t.consume(v),h||(h=!Ye(v)),v===92?x:g)}function x(v){return v===91||v===92||v===93?(t.consume(v),u++,g):g(v)}}function C2(t,e,n,r,i,a){let o;return u;function u(x){return x===34||x===39||x===40?(t.enter(r),t.enter(i),t.consume(x),t.exit(i),o=x===40?41:x,h):n(x)}function h(x){return x===o?(t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):(t.enter(a),f(x))}function f(x){return x===o?(t.exit(a),h(o)):x===null?n(x):Re(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),Xe(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===o||x===null||Re(x)?(t.exit("chunkString"),f(x)):(t.consume(x),x===92?g:p)}function g(x){return x===o||x===92?(t.consume(x),p):p(x)}}function pc(t,e){let n;return r;function r(i){return Re(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ye(i)?Xe(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const qP={name:"definition",tokenize:YP},GP={partial:!0,tokenize:QP};function YP(t,e,n){const r=this;let i;return a;function a(v){return t.enter("definition"),o(v)}function o(v){return j2.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return i=Ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),h):n(v)}function h(v){return ut(v)?pc(t,f)(v):f(v)}function f(v){return N2(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return t.attempt(GP,g,g)(v)}function g(v){return Ye(v)?Xe(t,x,"whitespace")(v):x(v)}function x(v){return v===null||Re(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function QP(t,e,n){return r;function r(u){return ut(u)?pc(t,i)(u):n(u)}function i(u){return C2(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function a(u){return Ye(u)?Xe(t,o,"whitespace")(u):o(u)}function o(u){return u===null||Re(u)?e(u):n(u)}}const WP={name:"hardBreakEscape",tokenize:KP};function KP(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Re(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const XP={name:"headingAtx",resolve:JP,tokenize:ZP};function JP(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},cr(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function ZP(t,e,n){let r=0;return i;function i(p){return t.enter("atxHeading"),a(p)}function a(p){return t.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&r++<6?(t.consume(p),o):p===null||ut(p)?(t.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(t.enter("atxHeadingSequence"),h(p)):p===null||Re(p)?(t.exit("atxHeading"),e(p)):Ye(p)?Xe(t,u,"whitespace")(p):(t.enter("atxHeadingText"),f(p))}function h(p){return p===35?(t.consume(p),h):(t.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||ut(p)?(t.exit("atxHeadingText"),u(p)):(t.consume(p),f)}}const eL=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vS=["pre","script","style","textarea"],tL={concrete:!0,name:"htmlFlow",resolveTo:iL,tokenize:sL},nL={partial:!0,tokenize:lL},rL={partial:!0,tokenize:aL};function iL(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function sL(t,e,n){const r=this;let i,a,o,u,h;return f;function f(M){return p(M)}function p(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),g}function g(M){return M===33?(t.consume(M),x):M===47?(t.consume(M),a=!0,S):M===63?(t.consume(M),i=3,r.interrupt?e:T):Rn(M)?(t.consume(M),o=String.fromCharCode(M),C):n(M)}function x(M){return M===45?(t.consume(M),i=2,v):M===91?(t.consume(M),i=5,u=0,w):Rn(M)?(t.consume(M),i=4,r.interrupt?e:T):n(M)}function v(M){return M===45?(t.consume(M),r.interrupt?e:T):n(M)}function w(M){const ne="CDATA[";return M===ne.charCodeAt(u++)?(t.consume(M),u===ne.length?r.interrupt?e:J:w):n(M)}function S(M){return Rn(M)?(t.consume(M),o=String.fromCharCode(M),C):n(M)}function C(M){if(M===null||M===47||M===62||ut(M)){const ne=M===47,ue=o.toLowerCase();return!ne&&!a&&vS.includes(ue)?(i=1,r.interrupt?e(M):J(M)):eL.includes(o.toLowerCase())?(i=6,ne?(t.consume(M),j):r.interrupt?e(M):J(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):a?E(M):_(M))}return M===45||Sn(M)?(t.consume(M),o+=String.fromCharCode(M),C):n(M)}function j(M){return M===62?(t.consume(M),r.interrupt?e:J):n(M)}function E(M){return Ye(M)?(t.consume(M),E):L(M)}function _(M){return M===47?(t.consume(M),L):M===58||M===95||Rn(M)?(t.consume(M),A):Ye(M)?(t.consume(M),_):L(M)}function A(M){return M===45||M===46||M===58||M===95||Sn(M)?(t.consume(M),A):O(M)}function O(M){return M===61?(t.consume(M),z):Ye(M)?(t.consume(M),O):_(M)}function z(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),h=M,F):Ye(M)?(t.consume(M),z):P(M)}function F(M){return M===h?(t.consume(M),h=null,$):M===null||Re(M)?n(M):(t.consume(M),F)}function P(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||ut(M)?O(M):(t.consume(M),P)}function $(M){return M===47||M===62||Ye(M)?_(M):n(M)}function L(M){return M===62?(t.consume(M),q):n(M)}function q(M){return M===null||Re(M)?J(M):Ye(M)?(t.consume(M),q):n(M)}function J(M){return M===45&&i===2?(t.consume(M),B):M===60&&i===1?(t.consume(M),Y):M===62&&i===4?(t.consume(M),D):M===63&&i===3?(t.consume(M),T):M===93&&i===5?(t.consume(M),ge):Re(M)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(nL,Q,de)(M)):M===null||Re(M)?(t.exit("htmlFlowData"),de(M)):(t.consume(M),J)}function de(M){return t.check(rL,se,Q)(M)}function se(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),te}function te(M){return M===null||Re(M)?de(M):(t.enter("htmlFlowData"),J(M))}function B(M){return M===45?(t.consume(M),T):J(M)}function Y(M){return M===47?(t.consume(M),o="",V):J(M)}function V(M){if(M===62){const ne=o.toLowerCase();return vS.includes(ne)?(t.consume(M),D):J(M)}return Rn(M)&&o.length<8?(t.consume(M),o+=String.fromCharCode(M),V):J(M)}function ge(M){return M===93?(t.consume(M),T):J(M)}function T(M){return M===62?(t.consume(M),D):M===45&&i===2?(t.consume(M),T):J(M)}function D(M){return M===null||Re(M)?(t.exit("htmlFlowData"),Q(M)):(t.consume(M),D)}function Q(M){return t.exit("htmlFlow"),e(M)}}function aL(t,e,n){const r=this;return i;function i(o){return Re(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function lL(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Uc,e,n)}}const oL={name:"htmlText",tokenize:cL};function cL(t,e,n){const r=this;let i,a,o;return u;function u(T){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(T),h}function h(T){return T===33?(t.consume(T),f):T===47?(t.consume(T),O):T===63?(t.consume(T),_):Rn(T)?(t.consume(T),P):n(T)}function f(T){return T===45?(t.consume(T),p):T===91?(t.consume(T),a=0,w):Rn(T)?(t.consume(T),E):n(T)}function p(T){return T===45?(t.consume(T),v):n(T)}function g(T){return T===null?n(T):T===45?(t.consume(T),x):Re(T)?(o=g,Y(T)):(t.consume(T),g)}function x(T){return T===45?(t.consume(T),v):g(T)}function v(T){return T===62?B(T):T===45?x(T):g(T)}function w(T){const D="CDATA[";return T===D.charCodeAt(a++)?(t.consume(T),a===D.length?S:w):n(T)}function S(T){return T===null?n(T):T===93?(t.consume(T),C):Re(T)?(o=S,Y(T)):(t.consume(T),S)}function C(T){return T===93?(t.consume(T),j):S(T)}function j(T){return T===62?B(T):T===93?(t.consume(T),j):S(T)}function E(T){return T===null||T===62?B(T):Re(T)?(o=E,Y(T)):(t.consume(T),E)}function _(T){return T===null?n(T):T===63?(t.consume(T),A):Re(T)?(o=_,Y(T)):(t.consume(T),_)}function A(T){return T===62?B(T):_(T)}function O(T){return Rn(T)?(t.consume(T),z):n(T)}function z(T){return T===45||Sn(T)?(t.consume(T),z):F(T)}function F(T){return Re(T)?(o=F,Y(T)):Ye(T)?(t.consume(T),F):B(T)}function P(T){return T===45||Sn(T)?(t.consume(T),P):T===47||T===62||ut(T)?$(T):n(T)}function $(T){return T===47?(t.consume(T),B):T===58||T===95||Rn(T)?(t.consume(T),L):Re(T)?(o=$,Y(T)):Ye(T)?(t.consume(T),$):B(T)}function L(T){return T===45||T===46||T===58||T===95||Sn(T)?(t.consume(T),L):q(T)}function q(T){return T===61?(t.consume(T),J):Re(T)?(o=q,Y(T)):Ye(T)?(t.consume(T),q):$(T)}function J(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),i=T,de):Re(T)?(o=J,Y(T)):Ye(T)?(t.consume(T),J):(t.consume(T),se)}function de(T){return T===i?(t.consume(T),i=void 0,te):T===null?n(T):Re(T)?(o=de,Y(T)):(t.consume(T),de)}function se(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||ut(T)?$(T):(t.consume(T),se)}function te(T){return T===47||T===62||ut(T)?$(T):n(T)}function B(T){return T===62?(t.consume(T),t.exit("htmlTextData"),t.exit("htmlText"),e):n(T)}function Y(T){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),V}function V(T){return Ye(T)?Xe(t,ge,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):ge(T)}function ge(T){return t.enter("htmlTextData"),o(T)}}const m0={name:"labelEnd",resolveAll:fL,resolveTo:mL,tokenize:pL},uL={tokenize:gL},dL={tokenize:xL},hL={tokenize:yL};function fL(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&cr(t,0,t.length,n),t}function mL(t,e){let n=t.length,r=0,i,a,o,u;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const h={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},p={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[o-2][1].start}};return u=[["enter",h,e],["enter",f,e]],u=Mr(u,t.slice(a+1,a+r+3)),u=Mr(u,[["enter",p,e]]),u=Mr(u,Uh(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),u=Mr(u,[["exit",p,e],t[o-2],t[o-1],["exit",f,e]]),u=Mr(u,t.slice(o+1)),u=Mr(u,[["exit",h,e]]),cr(t,a,t.length,u),t}function pL(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return u;function u(x){return a?a._inactive?g(x):(o=r.parser.defined.includes(Ur(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(x),t.exit("labelMarker"),t.exit("labelEnd"),h):n(x)}function h(x){return x===40?t.attempt(uL,p,o?p:g)(x):x===91?t.attempt(dL,p,o?f:g)(x):o?p(x):g(x)}function f(x){return t.attempt(hL,p,g)(x)}function p(x){return e(x)}function g(x){return a._balanced=!0,n(x)}}function gL(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return ut(g)?pc(t,a)(g):a(g)}function a(g){return g===41?p(g):N2(t,o,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function o(g){return ut(g)?pc(t,h)(g):p(g)}function u(g){return n(g)}function h(g){return g===34||g===39||g===40?C2(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function f(g){return ut(g)?pc(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function xL(t,e,n){const r=this;return i;function i(u){return j2.call(r,t,a,o,"reference","referenceMarker","referenceString")(u)}function a(u){return r.parser.defined.includes(Ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function o(u){return n(u)}}function yL(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const vL={name:"labelStartImage",resolveAll:m0.resolveAll,tokenize:bL};function bL(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),a}function a(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),o):n(u)}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const wL={name:"labelStartLink",resolveAll:m0.resolveAll,tokenize:SL};function SL(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Up={name:"lineEnding",tokenize:NL};function NL(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Xe(t,e,"linePrefix")}}const Yd={name:"thematicBreak",tokenize:jL};function jL(t,e,n){let r=0,i;return a;function a(f){return t.enter("thematicBreak"),o(f)}function o(f){return i=f,u(f)}function u(f){return f===i?(t.enter("thematicBreakSequence"),h(f)):r>=3&&(f===null||Re(f))?(t.exit("thematicBreak"),e(f)):n(f)}function h(f){return f===i?(t.consume(f),r++,h):(t.exit("thematicBreakSequence"),Ye(f)?Xe(t,u,"whitespace")(f):u(f))}}const Hn={continuation:{tokenize:_L},exit:ML,name:"list",tokenize:EL},CL={partial:!0,tokenize:AL},kL={partial:!0,tokenize:RL};function EL(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return u;function u(v){const w=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:rx(v)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(Yd,n,f)(v):f(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(v)}return n(v)}function h(v){return rx(v)&&++o<10?(t.consume(v),h):(!r.interrupt||o<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),f(v)):n(v)}function f(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(Uc,r.interrupt?n:p,t.attempt(CL,x,g))}function p(v){return r.containerState.initialBlankLine=!0,a++,x(v)}function g(v){return Ye(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),x):n(v)}function x(v){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function _L(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Uc,i,a);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Xe(t,e,"listItemIndent",r.containerState.size+1)(u)}function a(u){return r.containerState.furtherBlankLines||!Ye(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(kL,e,o)(u))}function o(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Xe(t,t.attempt(Hn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function RL(t,e,n){const r=this;return Xe(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function ML(t){t.exit(this.containerState.type)}function AL(t,e,n){const r=this;return Xe(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Ye(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const bS={name:"setextUnderline",resolveTo:TL,tokenize:zL};function TL(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function zL(t,e,n){const r=this;let i;return a;function a(f){let p=r.events.length,g;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){g=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=f,o(f)):n(f)}function o(f){return t.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(t.consume(f),u):(t.exit("setextHeadingLineSequence"),Ye(f)?Xe(t,h,"lineSuffix")(f):h(f))}function h(f){return f===null||Re(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const OL={tokenize:DL};function DL(t){const e=this,n=t.attempt(Uc,r,t.attempt(this.parser.constructs.flowInitial,i,Xe(t,t.attempt(this.parser.constructs.flow,i,t.attempt(IP,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const PL={resolveAll:E2()},LL=k2("string"),FL=k2("text");function k2(t){return{resolveAll:E2(t==="text"?BL:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,u);return o;function o(p){return f(p)?a(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),h}function h(p){return f(p)?(n.exit("data"),a(p)):(n.consume(p),h)}function f(p){if(p===null)return!0;const g=i[p];let x=-1;if(g)for(;++x<g.length;){const v=g[x];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function E2(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function BL(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,u=0,h;for(;a--;){const f=i[a];if(typeof f=="string"){for(o=f.length;f.charCodeAt(o-1)===32;)u++,o--;if(o)break;o=-1}else if(f===-2)h=!0,u++;else if(f!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const f={type:n===t.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const IL={42:Hn,43:Hn,45:Hn,48:Hn,49:Hn,50:Hn,51:Hn,52:Hn,53:Hn,54:Hn,55:Hn,56:Hn,57:Hn,62:v2},UL={91:qP},HL={[-2]:Ip,[-1]:Ip,32:Ip},VL={35:XP,42:Yd,45:[bS,Yd],60:tL,61:bS,95:Yd,96:yS,126:yS},$L={38:w2,92:b2},qL={[-5]:Up,[-4]:Up,[-3]:Up,33:vL,38:w2,42:ix,60:[wP,oL],91:wL,92:[WP,b2],93:m0,95:ix,96:OP},GL={null:[ix,PL]},YL={null:[42,95]},QL={null:[]},WL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YL,contentInitial:UL,disable:QL,document:IL,flow:VL,flowInitial:HL,insideSpan:GL,string:$L,text:qL},Symbol.toStringTag,{value:"Module"}));function KL(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],u=[];const h={attempt:F(O),check:F(z),consume:E,enter:_,exit:A,interrupt:F(z,{interrupt:!0})},f={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:t,previous:null,sliceSerialize:x,sliceStream:v,write:g};let p=e.tokenize.call(f,h);return e.resolveAll&&a.push(e),f;function g(q){return o=Mr(o,q),C(),o[o.length-1]!==null?[]:(P(e,0),f.events=Uh(a,f.events,f),f.events)}function x(q,J){return JL(v(q),J)}function v(q){return XL(o,q)}function w(){const{_bufferIndex:q,_index:J,line:de,column:se,offset:te}=r;return{_bufferIndex:q,_index:J,line:de,column:se,offset:te}}function S(q){i[q.line]=q.column,L()}function C(){let q;for(;r._index<o.length;){const J=o[r._index];if(typeof J=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<J.length;)j(J.charCodeAt(r._bufferIndex));else j(J)}}function j(q){p=p(q)}function E(q){Re(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,L()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=q}function _(q,J){const de=J||{};return de.type=q,de.start=w(),f.events.push(["enter",de,f]),u.push(de),de}function A(q){const J=u.pop();return J.end=w(),f.events.push(["exit",J,f]),J}function O(q,J){P(q,J.from)}function z(q,J){J.restore()}function F(q,J){return de;function de(se,te,B){let Y,V,ge,T;return Array.isArray(se)?Q(se):"tokenize"in se?Q([se]):D(se);function D(H){return ce;function ce(ve){const Ae=ve!==null&&H[ve],tt=ve!==null&&H.null,dt=[...Array.isArray(Ae)?Ae:Ae?[Ae]:[],...Array.isArray(tt)?tt:tt?[tt]:[]];return Q(dt)(ve)}}function Q(H){return Y=H,V=0,H.length===0?B:M(H[V])}function M(H){return ce;function ce(ve){return T=$(),ge=H,H.partial||(f.currentConstruct=H),H.name&&f.parser.constructs.disable.null.includes(H.name)?ue():H.tokenize.call(J?Object.assign(Object.create(f),J):f,h,ne,ue)(ve)}}function ne(H){return q(ge,T),te}function ue(H){return T.restore(),++V<Y.length?M(Y[V]):B}}}function P(q,J){q.resolveAll&&!a.includes(q)&&a.push(q),q.resolve&&cr(f.events,J,f.events.length-J,q.resolve(f.events.slice(J),f)),q.resolveTo&&(f.events=q.resolveTo(f.events,f))}function $(){const q=w(),J=f.previous,de=f.currentConstruct,se=f.events.length,te=Array.from(u);return{from:se,restore:B};function B(){r=q,f.previous=J,f.currentConstruct=de,f.events.length=se,u=te,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function XL(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const u=o[0];typeof u=="string"?o[0]=u.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function JL(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function ZL(t){const r={constructs:x2([WL,...(t||{}).extensions||[]]),content:i(mP),defined:[],document:i(gP),flow:i(OL),lazy:{},string:i(LL),text:i(FL)};return r;function i(a){return o;function o(u){return KL(r,a,u)}}}function eF(t){for(;!S2(t););return t}const wS=/[\0\t\n\r]/g;function tF(){let t=1,e="",n=!0,r;return i;function i(a,o,u){const h=[];let f,p,g,x,v;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(wS.lastIndex=g,f=wS.exec(a),x=f&&f.index!==void 0?f.index:a.length,v=a.charCodeAt(x),!f){e=a.slice(g);break}if(v===10&&g===x&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),g<x&&(h.push(a.slice(g,x)),t+=x-g),v){case 0:{h.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,h.push(-2);t++<p;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:r=!0,t=1}g=x+1}return u&&(r&&h.push(-5),e&&h.push(e),h.push(null)),h}}const nF=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rF(t){return t.replace(nF,iF)}function iF(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return y2(n.slice(a?2:1),a?16:10)}return f0(n)||t}const _2={}.hasOwnProperty;function sF(t,e,n){return typeof e!="string"&&(n=e,e=void 0),aF(n)(eF(ZL(n).document().write(tF()(t,e,!0))))}function aF(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Rt),autolinkProtocol:$,autolinkEmail:$,atxHeading:a(oe),blockQuote:a(tt),characterEscape:$,characterReference:$,codeFenced:a(dt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(dt,o),codeText:a(Nt,o),codeTextData:$,data:$,codeFlowValue:$,definition:a(Jn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(rn),hardBreakEscape:a(ke),hardBreakTrailing:a(ke),htmlFlow:a(vt,o),htmlFlowData:$,htmlText:a(vt,o),htmlTextData:$,image:a(Zn),label:o,link:a(Rt),listItem:a(Wr),listItemValue:x,listOrdered:a(gr,g),listUnordered:a(gr),paragraph:a(ft),reference:M,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(oe),strong:a(An),thematicBreak:a(Zi)},exit:{atxHeading:h(),atxHeadingSequence:O,autolink:h(),autolinkEmail:Ae,autolinkProtocol:ve,blockQuote:h(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:H,characterReference:ce,codeFenced:h(C),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:w,codeFlowValue:L,codeIndented:h(j),codeText:h(te),codeTextData:L,data:L,definition:h(),definitionDestinationString:A,definitionLabelString:E,definitionTitleString:_,emphasis:h(),hardBreakEscape:h(J),hardBreakTrailing:h(J),htmlFlow:h(de),htmlFlowData:L,htmlText:h(se),htmlTextData:L,image:h(Y),label:ge,labelText:V,lineEnding:q,link:h(B),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ne,resourceDestinationString:T,resourceTitleString:D,resource:Q,setextHeading:h(P),setextHeadingLineSequence:F,setextHeadingText:z,strong:h(),thematicBreak:h()}};R2(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(re){let fe={type:"root",children:[]};const Ee={stack:[fe],tokenStack:[],config:e,enter:u,exit:f,buffer:o,resume:p,data:n},Pe=[];let Ve=-1;for(;++Ve<re.length;)if(re[Ve][1].type==="listOrdered"||re[Ve][1].type==="listUnordered")if(re[Ve][0]==="enter")Pe.push(Ve);else{const gn=Pe.pop();Ve=i(re,gn,Ve)}for(Ve=-1;++Ve<re.length;){const gn=e[re[Ve][0]];_2.call(gn,re[Ve][1].type)&&gn[re[Ve][1].type].call(Object.assign({sliceSerialize:re[Ve][2].sliceSerialize},Ee),re[Ve][1])}if(Ee.tokenStack.length>0){const gn=Ee.tokenStack[Ee.tokenStack.length-1];(gn[1]||SS).call(Ee,void 0,gn[0])}for(fe.position={start:ks(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:ks(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},Ve=-1;++Ve<e.transforms.length;)fe=e.transforms[Ve](fe)||fe;return fe}function i(re,fe,Ee){let Pe=fe-1,Ve=-1,gn=!1,xn,sn,Mt,an;for(;++Pe<=Ee;){const nt=re[Pe];switch(nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{nt[0]==="enter"?Ve++:Ve--,an=void 0;break}case"lineEndingBlank":{nt[0]==="enter"&&(xn&&!an&&!Ve&&!Mt&&(Mt=Pe),an=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:an=void 0}if(!Ve&&nt[0]==="enter"&&nt[1].type==="listItemPrefix"||Ve===-1&&nt[0]==="exit"&&(nt[1].type==="listUnordered"||nt[1].type==="listOrdered")){if(xn){let Kr=Pe;for(sn=void 0;Kr--;){const kn=re[Kr];if(kn[1].type==="lineEnding"||kn[1].type==="lineEndingBlank"){if(kn[0]==="exit")continue;sn&&(re[sn][1].type="lineEndingBlank",gn=!0),kn[1].type="lineEnding",sn=Kr}else if(!(kn[1].type==="linePrefix"||kn[1].type==="blockQuotePrefix"||kn[1].type==="blockQuotePrefixWhitespace"||kn[1].type==="blockQuoteMarker"||kn[1].type==="listItemIndent"))break}Mt&&(!sn||Mt<sn)&&(xn._spread=!0),xn.end=Object.assign({},sn?re[sn][1].start:nt[1].end),re.splice(sn||Pe,0,["exit",xn,nt[2]]),Pe++,Ee++}if(nt[1].type==="listItemPrefix"){const Kr={type:"listItem",_spread:!1,start:Object.assign({},nt[1].start),end:void 0};xn=Kr,re.splice(Pe,0,["enter",Kr,nt[2]]),Pe++,Ee++,Mt=void 0,an=!0}}}return re[fe][1]._spread=gn,Ee}function a(re,fe){return Ee;function Ee(Pe){u.call(this,re(Pe),Pe),fe&&fe.call(this,Pe)}}function o(){this.stack.push({type:"fragment",children:[]})}function u(re,fe,Ee){this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([fe,Ee||void 0]),re.position={start:ks(fe.start),end:void 0}}function h(re){return fe;function fe(Ee){re&&re.call(this,Ee),f.call(this,Ee)}}function f(re,fe){const Ee=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==re.type&&(fe?fe.call(this,re,Pe[0]):(Pe[1]||SS).call(this,re,Pe[0]));else throw new Error("Cannot close `"+re.type+"` ("+mc({start:re.start,end:re.end})+"): its not open");Ee.position.end=ks(re.end)}function p(){return h0(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function x(re){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(re),10),this.data.expectingFirstListItemValue=void 0}}function v(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=re}function w(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=re}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.value=re.replace(/(\r?\n|\r)$/g,"")}function E(re){const fe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=fe,Ee.identifier=Ur(this.sliceSerialize(re)).toLowerCase()}function _(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.title=re}function A(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.url=re}function O(re){const fe=this.stack[this.stack.length-1];if(!fe.depth){const Ee=this.sliceSerialize(re).length;fe.depth=Ee}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function F(re){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(re).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function $(re){const Ee=this.stack[this.stack.length-1].children;let Pe=Ee[Ee.length-1];(!Pe||Pe.type!=="text")&&(Pe=Vt(),Pe.position={start:ks(re.start),end:void 0},Ee.push(Pe)),this.stack.push(Pe)}function L(re){const fe=this.stack.pop();fe.value+=this.sliceSerialize(re),fe.position.end=ks(re.end)}function q(re){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ee=fe.children[fe.children.length-1];Ee.position.end=ks(re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(fe.type)&&($.call(this,re),L.call(this,re))}function J(){this.data.atHardBreak=!0}function de(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.value=re}function se(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.value=re}function te(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.value=re}function B(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=fe,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function Y(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=fe,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function V(re){const fe=this.sliceSerialize(re),Ee=this.stack[this.stack.length-2];Ee.label=rF(fe),Ee.identifier=Ur(fe).toLowerCase()}function ge(){const re=this.stack[this.stack.length-1],fe=this.resume(),Ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ee.type==="link"){const Pe=re.children;Ee.children=Pe}else Ee.alt=fe}function T(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.url=re}function D(){const re=this.resume(),fe=this.stack[this.stack.length-1];fe.title=re}function Q(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function ne(re){const fe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=fe,Ee.identifier=Ur(this.sliceSerialize(re)).toLowerCase(),this.data.referenceType="full"}function ue(re){this.data.characterReferenceType=re.type}function H(re){const fe=this.sliceSerialize(re),Ee=this.data.characterReferenceType;let Pe;Ee?(Pe=y2(fe,Ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=f0(fe);const Ve=this.stack[this.stack.length-1];Ve.value+=Pe}function ce(re){const fe=this.stack.pop();fe.position.end=ks(re.end)}function ve(re){L.call(this,re);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(re)}function Ae(re){L.call(this,re);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(re)}function tt(){return{type:"blockquote",children:[]}}function dt(){return{type:"code",lang:null,meta:null,value:""}}function Nt(){return{type:"inlineCode",value:""}}function Jn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rn(){return{type:"emphasis",children:[]}}function oe(){return{type:"heading",depth:0,children:[]}}function ke(){return{type:"break"}}function vt(){return{type:"html",value:""}}function Zn(){return{type:"image",title:null,url:"",alt:null}}function Rt(){return{type:"link",title:null,url:"",children:[]}}function gr(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function Wr(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function ft(){return{type:"paragraph",children:[]}}function An(){return{type:"strong",children:[]}}function Vt(){return{type:"text",value:""}}function Zi(){return{type:"thematicBreak"}}}function ks(t){return{line:t.line,column:t.column,offset:t.offset}}function R2(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?R2(t,r):lF(t,r)}}function lF(t,e){let n;for(n in e)if(_2.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function SS(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+mc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+mc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+mc({start:e.start,end:e.end})+") is still open")}function oF(t){const e=this;e.parser=n;function n(r){return sF(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function cF(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function uF(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function dF(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function hF(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fF(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mF(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=to(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,u=t.footnoteCounts.get(r);u===void 0?(u=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,u+=1,t.footnoteCounts.set(r,u);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,h);const f={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,f),t.applyData(e,f)}function pF(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gF(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function M2(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function xF(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return M2(t,e);const i={src:to(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function yF(t,e){const n={src:to(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function vF(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function bF(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return M2(t,e);const i={href:to(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function wF(t,e){const n={href:to(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function SF(t,e,n){const r=t.all(e),i=n?NF(n):A2(e),a={},o=[];if(typeof e.checked=="boolean"){const p=r[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const p=r[u];(i||u!==0||p.type!=="element"||p.tagName!=="p")&&o.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?o.push(...p.children):o.push(p)}const h=r[r.length-1];h&&(i||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,f),t.applyData(e,f)}function NF(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=A2(n[r])}return e}function A2(t){const e=t.spread;return e??t.children.length>1}function jF(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function CF(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function kF(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function EF(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _F(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=o0(e.children[1]),h=u2(e.children[e.children.length-1]);u&&h&&(o.position={start:u,end:h}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function RF(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,u=o?o.length:e.children.length;let h=-1;const f=[];for(;++h<u;){const g=e.children[h],x={},v=o?o[h]:void 0;v&&(x.align=v);let w={type:"element",tagName:a,properties:x,children:[]};g&&(w.children=t.all(g),t.patch(g,w),w=t.applyData(g,w)),f.push(w)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,p),t.applyData(e,p)}function MF(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const NS=9,jS=32;function AF(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(CS(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(CS(e.slice(i),i>0,!1)),a.join("")}function CS(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===NS||a===jS;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===NS||a===jS;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function TF(t,e){const n={type:"text",value:AF(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function zF(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const OF={blockquote:cF,break:uF,code:dF,delete:hF,emphasis:fF,footnoteReference:mF,heading:pF,html:gF,imageReference:xF,image:yF,inlineCode:vF,linkReference:bF,link:wF,listItem:SF,list:jF,paragraph:CF,root:kF,strong:EF,table:_F,tableCell:MF,tableRow:RF,text:TF,thematicBreak:zF,toml:hd,yaml:hd,definition:hd,footnoteDefinition:hd};function hd(){}const T2=-1,Hh=0,gc=1,ch=2,p0=3,g0=4,x0=5,y0=6,z2=7,O2=8,kS=typeof self=="object"?self:globalThis,DF=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case Hh:case T2:return n(o,i);case gc:{const u=n([],i);for(const h of o)u.push(r(h));return u}case ch:{const u=n({},i);for(const[h,f]of o)u[r(h)]=r(f);return u}case p0:return n(new Date(o),i);case g0:{const{source:u,flags:h}=o;return n(new RegExp(u,h),i)}case x0:{const u=n(new Map,i);for(const[h,f]of o)u.set(r(h),r(f));return u}case y0:{const u=n(new Set,i);for(const h of o)u.add(r(h));return u}case z2:{const{name:u,message:h}=o;return n(new kS[u](h),i)}case O2:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:u}=new Uint8Array(o);return n(new DataView(u),o)}}return n(new kS[a](o),i)};return r},ES=t=>DF(new Map,t)(0),vl="",{toString:PF}={},{keys:LF}=Object,rc=t=>{const e=typeof t;if(e!=="object"||!t)return[Hh,e];const n=PF.call(t).slice(8,-1);switch(n){case"Array":return[gc,vl];case"Object":return[ch,vl];case"Date":return[p0,vl];case"RegExp":return[g0,vl];case"Map":return[x0,vl];case"Set":return[y0,vl];case"DataView":return[gc,n]}return n.includes("Array")?[gc,n]:n.includes("Error")?[z2,n]:[ch,n]},fd=([t,e])=>t===Hh&&(e==="function"||e==="symbol"),FF=(t,e,n,r)=>{const i=(o,u)=>{const h=r.push(o)-1;return n.set(u,h),h},a=o=>{if(n.has(o))return n.get(o);let[u,h]=rc(o);switch(u){case Hh:{let p=o;switch(h){case"bigint":u=O2,p=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);p=null;break;case"undefined":return i([T2],o)}return i([u,p],o)}case gc:{if(h){let x=o;return h==="DataView"?x=new Uint8Array(o.buffer):h==="ArrayBuffer"&&(x=new Uint8Array(o)),i([h,[...x]],o)}const p=[],g=i([u,p],o);for(const x of o)p.push(a(x));return g}case ch:{if(h)switch(h){case"BigInt":return i([h,o.toString()],o);case"Boolean":case"Number":case"String":return i([h,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const p=[],g=i([u,p],o);for(const x of LF(o))(t||!fd(rc(o[x])))&&p.push([a(x),a(o[x])]);return g}case p0:return i([u,o.toISOString()],o);case g0:{const{source:p,flags:g}=o;return i([u,{source:p,flags:g}],o)}case x0:{const p=[],g=i([u,p],o);for(const[x,v]of o)(t||!(fd(rc(x))||fd(rc(v))))&&p.push([a(x),a(v)]);return g}case y0:{const p=[],g=i([u,p],o);for(const x of o)(t||!fd(rc(x)))&&p.push(a(x));return g}}const{message:f}=o;return i([u,{name:h,message:f}],o)};return a},_S=(t,{json:e,lossy:n}={})=>{const r=[];return FF(!(e||n),!!e,new Map,r)(t),r},uh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ES(_S(t,e)):structuredClone(t):(t,e)=>ES(_S(t,e));function BF(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function IF(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function UF(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||BF,r=t.options.footnoteBackLabel||IF,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let h=-1;for(;++h<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[h]);if(!f)continue;const p=t.all(f),g=String(f.identifier).toUpperCase(),x=to(g.toLowerCase());let v=0;const w=[],S=t.footnoteCounts.get(g);for(;S!==void 0&&++v<=S;){w.length>0&&w.push({type:"text",value:" "});let E=typeof n=="string"?n:n(h,v);typeof E=="string"&&(E={type:"text",value:E}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+x+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,v),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const C=p[p.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const E=C.children[C.children.length-1];E&&E.type==="text"?E.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...w)}else p.push(...w);const j={type:"element",tagName:"li",properties:{id:e+"fn-"+x},children:t.wrap(p,!0)};t.patch(f,j),u.push(j)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...uh(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const Vh=(function(t){if(t==null)return qF;if(typeof t=="function")return $h(t);if(typeof t=="object")return Array.isArray(t)?HF(t):VF(t);if(typeof t=="string")return $F(t);throw new Error("Expected function, string, or object as test")});function HF(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Vh(t[n]);return $h(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function VF(t){const e=t;return $h(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function $F(t){return $h(e);function e(n){return n&&n.type===t}}function $h(t){return e;function e(n,r,i){return!!(GF(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function qF(){return!0}function GF(t){return t!==null&&typeof t=="object"&&"type"in t}const D2=[],YF=!0,sx=!1,QF="skip";function P2(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=Vh(i),o=r?-1:1;u(t,void 0,[])();function u(h,f,p){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const v=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(h.type+(v?"<"+v+">":""))+")"})}return x;function x(){let v=D2,w,S,C;if((!e||a(h,f,p[p.length-1]||void 0))&&(v=WF(n(h,p)),v[0]===sx))return v;if("children"in h&&h.children){const j=h;if(j.children&&v[0]!==QF)for(S=(r?j.children.length:-1)+o,C=p.concat(j);S>-1&&S<j.children.length;){const E=j.children[S];if(w=u(E,S,C)(),w[0]===sx)return w;S=typeof w[1]=="number"?w[1]:S+o}}return v}}}function WF(t){return Array.isArray(t)?t:typeof t=="number"?[YF,t]:t==null?D2:[t]}function v0(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),P2(t,a,u,i);function u(h,f){const p=f[f.length-1],g=p?p.children.indexOf(h):void 0;return o(h,g,p)}}const ax={}.hasOwnProperty,KF={};function XF(t,e){const n=e||KF,r=new Map,i=new Map,a=new Map,o={...OF,...n.handlers},u={all:f,applyData:ZF,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:h,options:n,patch:JF,wrap:t6};return v0(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?r:i,x=String(p.identifier).toUpperCase();g.has(x)||g.set(x,p)}}),u;function h(p,g){const x=p.type,v=u.handlers[x];if(ax.call(u.handlers,x)&&v)return v(u,p,g);if(u.options.passThrough&&u.options.passThrough.includes(x)){if("children"in p){const{children:S,...C}=p,j=uh(C);return j.children=u.all(p),j}return uh(p)}return(u.options.unknownHandler||e6)(u,p,g)}function f(p){const g=[];if("children"in p){const x=p.children;let v=-1;for(;++v<x.length;){const w=u.one(x[v],p);if(w){if(v&&x[v-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=RS(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=RS(S.value))}Array.isArray(w)?g.push(...w):g.push(w)}}}return g}}function JF(t,e){t.position&&(e.position=ID(t))}function ZF(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,uh(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function e6(t,e){const n=e.data||{},r="value"in e&&!(ax.call(n,"hProperties")||ax.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function t6(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function RS(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function MS(t,e){const n=XF(t,e),r=n.one(t,void 0),i=UF(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function n6(t,e){return t&&"run"in t?async function(n,r){const i=MS(n,{file:r,...e});await t.run(i,r)}:function(n,r){return MS(n,{file:r,...t||e})}}function AS(t){if(t)throw t}var Hp,TS;function r6(){if(TS)return Hp;TS=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var p=t.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!g)return!1;var x;for(x in f);return typeof x>"u"||t.call(f,x)},o=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},u=function(f,p){if(p==="__proto__")if(t.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return Hp=function h(){var f,p,g,x,v,w,S=arguments[0],C=1,j=arguments.length,E=!1;for(typeof S=="boolean"&&(E=S,S=arguments[1]||{},C=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});C<j;++C)if(f=arguments[C],f!=null)for(p in f)g=u(S,p),x=u(f,p),S!==x&&(E&&x&&(a(x)||(v=i(x)))?(v?(v=!1,w=g&&i(g)?g:[]):w=g&&a(g)?g:{},o(S,{name:p,newValue:h(E,w,x)})):typeof x<"u"&&o(S,{name:p,newValue:x}));return S},Hp}var i6=r6();const Vp=kh(i6);function lx(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function s6(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);u(null,...i);function u(h,...f){const p=t[++a];let g=-1;if(h){o(h);return}for(;++g<i.length;)(f[g]===null||f[g]===void 0)&&(f[g]=i[g]);i=f,p?a6(p,u)(...f):o(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function a6(t,e){let n;return r;function r(...o){const u=t.length>o.length;let h;u&&o.push(i);try{h=t.apply(this,o)}catch(f){const p=f;if(u&&n)throw p;return i(p)}u||(h&&h.then&&typeof h.then=="function"?h.then(a,i):h instanceof Error?i(h):a(h))}function i(o,...u){n||(n=!0,e(o,...u))}function a(o){i(null,o)}}const ai={basename:l6,dirname:o6,extname:c6,join:u6,sep:"/"};function l6(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Hc(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,u=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),u>-1&&(t.codePointAt(i)===e.codePointAt(u--)?u<0&&(r=i):(u=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function o6(t){if(Hc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function c6(t){Hc(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const u=t.codePointAt(e);if(u===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),u===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function u6(...t){let e=-1,n;for(;++e<t.length;)Hc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":d6(n)}function d6(t){Hc(t);const e=t.codePointAt(0)===47;let n=h6(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function h6(t,e){let n="",r=0,i=-1,a=0,o=-1,u,h;for(;++o<=t.length;){if(o<t.length)u=t.codePointAt(o);else{if(u===47)break;u=47}if(u===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else u===46&&a>-1?a++:a=-1}return n}function Hc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const f6={cwd:m6};function m6(){return"/"}function ox(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function p6(t){if(typeof t=="string")t=new URL(t);else if(!ox(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return g6(t)}function g6(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const $p=["history","path","basename","stem","extname","dirname"];class L2{constructor(e){let n;e?ox(e)?n={path:e}:typeof e=="string"||x6(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":f6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$p.length;){const a=$p[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)$p.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ai.basename(this.path):void 0}set basename(e){Gp(e,"basename"),qp(e,"basename"),this.path=ai.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ai.dirname(this.path):void 0}set dirname(e){zS(this.basename,"dirname"),this.path=ai.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ai.extname(this.path):void 0}set extname(e){if(qp(e,"extname"),zS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ai.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ox(e)&&(e=p6(e)),Gp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ai.basename(this.path,this.extname):void 0}set stem(e){Gp(e,"stem"),qp(e,"stem"),this.path=ai.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new jn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function qp(t,e){if(t&&t.includes(ai.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ai.sep+"`")}function Gp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function zS(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function x6(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const y6=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),v6={}.hasOwnProperty;class b0 extends y6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=s6()}copy(){const e=new b0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Vp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Wp("data",this.frozen),this.namespace[e]=n,this):v6.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Wp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=md(e),r=this.parser||this.Parser;return Yp("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Yp("process",this.parser||this.Parser),Qp("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const u=md(e),h=r.parse(u);r.run(h,u,function(p,g,x){if(p||!g||!x)return f(p);const v=g,w=r.stringify(v,x);S6(w)?x.value=w:x.result=w,f(p,x)});function f(p,g){p||!g?o(p):a?a(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),Yp("processSync",this.parser||this.Parser),Qp("processSync",this.compiler||this.Compiler),this.process(e,i),DS("processSync","process",n),r;function i(a,o){n=!0,AS(a),r=o}}run(e,n,r){OS(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,u){const h=md(n);i.run(e,h,f);function f(p,g,x){const v=g||e;p?u(p):o?o(v):r(void 0,v,x)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),DS("runSync","run",r),i;function a(o,u){AS(o),i=u,r=!0}}stringify(e,n){this.freeze();const r=md(n),i=this.compiler||this.Compiler;return Qp("stringify",i),OS(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Wp("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")h(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...g]=f;h(p,g)}else o(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function o(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=Vp(!0,i.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const g=f[p];a(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function h(f,p){let g=-1,x=-1;for(;++g<r.length;)if(r[g][0]===f){x=g;break}if(x===-1)r.push([f,...p]);else if(p.length>0){let[v,...w]=p;const S=r[x][1];lx(S)&&lx(v)&&(v=Vp(!0,S,v)),r[x]=[f,v,...w]}}}}const b6=new b0().freeze();function Yp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Qp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Wp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function OS(t){if(!lx(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function DS(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function md(t){return w6(t)?t:new L2(t)}function w6(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function S6(t){return typeof t=="string"||N6(t)}function N6(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const j6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",PS=[],LS={allowDangerousHtml:!0},C6=/^(https?|ircs?|mailto|xmpp)$/i,k6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function w0(t){const e=E6(t),n=_6(t);return R6(e.runSync(e.parse(n),n),t)}function E6(t){const e=t.rehypePlugins||PS,n=t.remarkPlugins||PS,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...LS}:LS;return b6().use(oF).use(n).use(n6,r).use(e)}function _6(t){const e=t.children||"",n=new L2;return typeof e=="string"&&(n.value=e),n}function R6(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,o=e.skipHtml,u=e.unwrapDisallowed,h=e.urlTransform||M6;for(const p of k6)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+j6+p.id,void 0);return v0(t,f),qD(t,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function f(p,g,x){if(p.type==="raw"&&x&&typeof g=="number")return o?x.children.splice(g,1):x.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let v;for(v in Bp)if(Object.hasOwn(Bp,v)&&Object.hasOwn(p.properties,v)){const w=p.properties[v],S=Bp[v];(S===null||S.includes(p.tagName))&&(p.properties[v]=h(String(w||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):a?a.includes(p.tagName):!1;if(!v&&r&&typeof g=="number"&&(v=!r(p,g,x)),v&&x&&typeof g=="number")return u&&p.children?x.children.splice(g,1,...p.children):x.children.splice(g,1),g}}}function M6(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||C6.test(t.slice(0,e))?t:""}function FS(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function A6(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function F2(t,e,n){const i=Vh((n||{}).ignore||[]),a=T6(e);let o=-1;for(;++o<a.length;)P2(t,"text",u);function u(f,p){let g=-1,x;for(;++g<p.length;){const v=p[g],w=x?x.children:void 0;if(i(v,w?w.indexOf(v):void 0,x))return;x=v}if(x)return h(f,p)}function h(f,p){const g=p[p.length-1],x=a[o][0],v=a[o][1];let w=0;const C=g.children.indexOf(f);let j=!1,E=[];x.lastIndex=0;let _=x.exec(f.value);for(;_;){const A=_.index,O={index:_.index,input:_.input,stack:[...p,f]};let z=v(..._,O);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?x.lastIndex=A+1:(w!==A&&E.push({type:"text",value:f.value.slice(w,A)}),Array.isArray(z)?E.push(...z):z&&E.push(z),w=A+_[0].length,j=!0),!x.global)break;_=x.exec(f.value)}return j?(w<f.value.length&&E.push({type:"text",value:f.value.slice(w)}),g.children.splice(C,1,...E)):E=[f],C+E.length}}function T6(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([z6(i[0]),O6(i[1])])}return e}function z6(t){return typeof t=="string"?new RegExp(A6(t),"g"):t}function O6(t){return typeof t=="function"?t:function(){return t}}const Kp="phrasing",Xp=["autolink","link","image","label"];function D6(){return{transforms:[H6],enter:{literalAutolink:L6,literalAutolinkEmail:Jp,literalAutolinkHttp:Jp,literalAutolinkWww:Jp},exit:{literalAutolink:U6,literalAutolinkEmail:I6,literalAutolinkHttp:F6,literalAutolinkWww:B6}}}function P6(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Kp,notInConstruct:Xp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Kp,notInConstruct:Xp},{character:":",before:"[ps]",after:"\\/",inConstruct:Kp,notInConstruct:Xp}]}}function L6(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Jp(t){this.config.enter.autolinkProtocol.call(this,t)}function F6(t){this.config.exit.autolinkProtocol.call(this,t)}function B6(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function I6(t){this.config.exit.autolinkEmail.call(this,t)}function U6(t){this.exit(t)}function H6(t){F2(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,V6],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$6]],{ignore:["link","linkReference"]})}function V6(t,e,n,r,i){let a="";if(!B2(i)||(/^w/i.test(e)&&(n=e+n,e="",a="http://"),!q6(n)))return!1;const o=G6(n+r);if(!o[0])return!1;const u={type:"link",title:null,url:a+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[u,{type:"text",value:o[1]}]:u}function $6(t,e,n,r){return!B2(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function q6(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function G6(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=FS(t,"(");let a=FS(t,")");for(;r!==-1&&i>a;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[t,n]}function B2(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||wa(n)||Ih(n))&&(!e||n!==47)}I2.peek=tB;function Y6(){this.buffer()}function Q6(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function W6(){this.buffer()}function K6(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function X6(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ur(this.sliceSerialize(t)).toLowerCase(),n.label=e}function J6(t){this.exit(t)}function Z6(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ur(this.sliceSerialize(t)).toLowerCase(),n.label=e}function eB(t){this.exit(t)}function tB(){return"["}function I2(t,e,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),u=n.enter("reference");return a+=i.move(n.safe(n.associationId(t),{after:"]",before:a})),u(),o(),a+=i.move("]"),a}function nB(){return{enter:{gfmFootnoteCallString:Y6,gfmFootnoteCall:Q6,gfmFootnoteDefinitionLabelString:W6,gfmFootnoteDefinition:K6},exit:{gfmFootnoteCallString:X6,gfmFootnoteCall:J6,gfmFootnoteDefinitionLabelString:Z6,gfmFootnoteDefinition:eB}}}function rB(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:I2},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const u=a.createTracker(o);let h=u.move("[^");const f=a.enter("footnoteDefinition"),p=a.enter("label");return h+=u.move(a.safe(a.associationId(r),{before:h,after:"]"})),p(),h+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),h+=u.move((e?`
`:" ")+a.indentLines(a.containerFlow(r,u.current()),e?U2:iB))),f(),h}}function iB(t,e,n){return e===0?t:U2(t,e,n)}function U2(t,e,n){return(n?"":"    ")+t}const sB=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];H2.peek=uB;function aB(){return{canContainEols:["delete"],enter:{strikethrough:oB},exit:{strikethrough:cB}}}function lB(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:sB}],handlers:{delete:H2}}}function oB(t){this.enter({type:"delete",children:[]},t)}function cB(t){this.exit(t)}function H2(t,e,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function uB(){return"~"}function dB(t){return t.length}function hB(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||dB,a=[],o=[],u=[],h=[];let f=0,p=-1;for(;++p<t.length;){const S=[],C=[];let j=-1;for(t[p].length>f&&(f=t[p].length);++j<t[p].length;){const E=fB(t[p][j]);if(n.alignDelimiters!==!1){const _=i(E);C[j]=_,(h[j]===void 0||_>h[j])&&(h[j]=_)}S.push(E)}o[p]=S,u[p]=C}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<f;)a[g]=BS(r[g]);else{const S=BS(r);for(;++g<f;)a[g]=S}g=-1;const x=[],v=[];for(;++g<f;){const S=a[g];let C="",j="";S===99?(C=":",j=":"):S===108?C=":":S===114&&(j=":");let E=n.alignDelimiters===!1?1:Math.max(1,h[g]-C.length-j.length);const _=C+"-".repeat(E)+j;n.alignDelimiters!==!1&&(E=C.length+E+j.length,E>h[g]&&(h[g]=E),v[g]=E),x[g]=_}o.splice(1,0,x),u.splice(1,0,v),p=-1;const w=[];for(;++p<o.length;){const S=o[p],C=u[p];g=-1;const j=[];for(;++g<f;){const E=S[g]||"";let _="",A="";if(n.alignDelimiters!==!1){const O=h[g]-(C[g]||0),z=a[g];z===114?_=" ".repeat(O):z===99?O%2?(_=" ".repeat(O/2+.5),A=" ".repeat(O/2-.5)):(_=" ".repeat(O/2),A=_):A=" ".repeat(O)}n.delimiterStart!==!1&&!g&&j.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||g)&&j.push(" "),n.alignDelimiters!==!1&&j.push(_),j.push(E),n.alignDelimiters!==!1&&j.push(A),n.padding!==!1&&j.push(" "),(n.delimiterEnd!==!1||g!==f-1)&&j.push("|")}w.push(n.delimiterEnd===!1?j.join("").replace(/ +$/,""):j.join(""))}return w.join(`
`)}function fB(t){return t==null?"":String(t)}function BS(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function mB(t,e,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(t,a.current()),pB);return i(),o}function pB(t,e,n){return">"+(n?"":" ")+t}function gB(t,e){return IS(t,e.inConstruct,!0)&&!IS(t,e.notInConstruct,!1)}function IS(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function US(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&gB(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function xB(t,e){const n=String(t);let r=n.indexOf(e),i=r,a=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+e.length,r=n.indexOf(e,i);return o}function yB(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function vB(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function bB(t,e,n,r){const i=vB(n),a=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(yB(t,n)){const g=n.enter("codeIndented"),x=n.indentLines(a,wB);return g(),x}const u=n.createTracker(r),h=i.repeat(Math.max(xB(a,i)+1,3)),f=n.enter("codeFenced");let p=u.move(h);if(t.lang){const g=n.enter(`codeFencedLang${o}`);p+=u.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...u.current()})),g()}if(t.lang&&t.meta){const g=n.enter(`codeFencedMeta${o}`);p+=u.move(" "),p+=u.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...u.current()})),g()}return p+=u.move(`
`),a&&(p+=u.move(a+`
`)),p+=u.move(h),f(),p}function wB(t,e,n){return(n?"":"    ")+t}function S0(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function SB(t,e,n,r){const i=S0(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let u=n.enter("label");const h=n.createTracker(r);let f=h.move("[");return f+=h.move(n.safe(n.associationId(t),{before:f,after:"]",...h.current()})),f+=h.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),f+=h.move("<"),f+=h.move(n.safe(t.url,{before:f,after:">",...h.current()})),f+=h.move(">")):(u=n.enter("destinationRaw"),f+=h.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...h.current()}))),u(),t.title&&(u=n.enter(`title${a}`),f+=h.move(" "+i),f+=h.move(n.safe(t.title,{before:f,after:i,...h.current()})),f+=h.move(i),u()),o(),f}function NB(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function kc(t){return"&#x"+t.toString(16).toUpperCase()+";"}function dh(t,e,n){const r=Dl(t),i=Dl(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}V2.peek=jB;function V2(t,e,n,r){const i=NB(n),a=n.enter("emphasis"),o=n.createTracker(r),u=o.move(i);let h=o.move(n.containerPhrasing(t,{after:i,before:u,...o.current()}));const f=h.charCodeAt(0),p=dh(r.before.charCodeAt(r.before.length-1),f,i);p.inside&&(h=kc(f)+h.slice(1));const g=h.charCodeAt(h.length-1),x=dh(r.after.charCodeAt(0),g,i);x.inside&&(h=h.slice(0,-1)+kc(g));const v=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:x.outside,before:p.outside},u+h+v}function jB(t,e,n){return n.options.emphasis||"*"}function CB(t,e){let n=!1;return v0(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,sx}),!!((!t.depth||t.depth<3)&&h0(t)&&(e.options.setext||n))}function kB(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(r);if(CB(t,n)){const p=n.enter("headingSetext"),g=n.enter("phrasing"),x=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return g(),p(),x+`
`+(i===1?"=":"-").repeat(x.length-(Math.max(x.lastIndexOf("\r"),x.lastIndexOf(`
`))+1))}const o="#".repeat(i),u=n.enter("headingAtx"),h=n.enter("phrasing");a.move(o+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(f)&&(f=kc(f.charCodeAt(0))+f.slice(1)),f=f?o+" "+f:o,n.options.closeAtx&&(f+=" "+o),h(),u(),f}$2.peek=EB;function $2(t){return t.value||""}function EB(){return"<"}q2.peek=_B;function q2(t,e,n,r){const i=S0(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let u=n.enter("label");const h=n.createTracker(r);let f=h.move("![");return f+=h.move(n.safe(t.alt,{before:f,after:"]",...h.current()})),f+=h.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),f+=h.move("<"),f+=h.move(n.safe(t.url,{before:f,after:">",...h.current()})),f+=h.move(">")):(u=n.enter("destinationRaw"),f+=h.move(n.safe(t.url,{before:f,after:t.title?" ":")",...h.current()}))),u(),t.title&&(u=n.enter(`title${a}`),f+=h.move(" "+i),f+=h.move(n.safe(t.title,{before:f,after:i,...h.current()})),f+=h.move(i),u()),f+=h.move(")"),o(),f}function _B(){return"!"}G2.peek=RB;function G2(t,e,n,r){const i=t.referenceType,a=n.enter("imageReference");let o=n.enter("label");const u=n.createTracker(r);let h=u.move("![");const f=n.safe(t.alt,{before:h,after:"]",...u.current()});h+=u.move(f+"]["),o();const p=n.stack;n.stack=[],o=n.enter("reference");const g=n.safe(n.associationId(t),{before:h,after:"]",...u.current()});return o(),n.stack=p,a(),i==="full"||!f||f!==g?h+=u.move(g+"]"):i==="shortcut"?h=h.slice(0,-1):h+=u.move("]"),h}function RB(){return"!"}Y2.peek=MB;function Y2(t,e,n){let r=t.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],u=n.compilePattern(o);let h;if(o.atBreak)for(;h=u.exec(r);){let f=h.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(h.index+1)}}return i+r+i}function MB(){return"`"}function Q2(t,e){const n=h0(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}W2.peek=AB;function W2(t,e,n,r){const i=S0(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let u,h;if(Q2(t,n)){const p=n.stack;n.stack=[],u=n.enter("autolink");let g=o.move("<");return g+=o.move(n.containerPhrasing(t,{before:g,after:">",...o.current()})),g+=o.move(">"),u(),n.stack=p,g}u=n.enter("link"),h=n.enter("label");let f=o.move("[");return f+=o.move(n.containerPhrasing(t,{before:f,after:"](",...o.current()})),f+=o.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),f+=o.move("<"),f+=o.move(n.safe(t.url,{before:f,after:">",...o.current()})),f+=o.move(">")):(h=n.enter("destinationRaw"),f+=o.move(n.safe(t.url,{before:f,after:t.title?" ":")",...o.current()}))),h(),t.title&&(h=n.enter(`title${a}`),f+=o.move(" "+i),f+=o.move(n.safe(t.title,{before:f,after:i,...o.current()})),f+=o.move(i),h()),f+=o.move(")"),u(),f}function AB(t,e,n){return Q2(t,n)?"<":"["}K2.peek=TB;function K2(t,e,n,r){const i=t.referenceType,a=n.enter("linkReference");let o=n.enter("label");const u=n.createTracker(r);let h=u.move("[");const f=n.containerPhrasing(t,{before:h,after:"]",...u.current()});h+=u.move(f+"]["),o();const p=n.stack;n.stack=[],o=n.enter("reference");const g=n.safe(n.associationId(t),{before:h,after:"]",...u.current()});return o(),n.stack=p,a(),i==="full"||!f||f!==g?h+=u.move(g+"]"):i==="shortcut"?h=h.slice(0,-1):h+=u.move("]"),h}function TB(){return"["}function N0(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function zB(t){const e=N0(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function OB(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function X2(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function DB(t,e,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=t.ordered?OB(n):N0(n);const u=t.ordered?o==="."?")":".":zB(n);let h=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const p=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),X2(n)===o&&p){let g=-1;for(;++g<t.children.length;){const x=t.children[g];if(x&&x.type==="listItem"&&x.children&&x.children[0]&&x.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(o=u),n.bulletCurrent=o;const f=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),f}function PB(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function LB(t,e,n,r){const i=PB(n);let a=n.bulletCurrent||N0(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const u=n.createTracker(r);u.move(a+" ".repeat(o-a.length)),u.shift(o);const h=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,u.current()),p);return h(),f;function p(g,x,v){return x?(v?"":" ".repeat(o))+g:(v?a:a+" ".repeat(o-a.length))+g}}function FB(t,e,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(t,r);return a(),i(),o}const BB=Vh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function IB(t,e,n,r){return(t.children.some(function(o){return BB(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function UB(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}J2.peek=HB;function J2(t,e,n,r){const i=UB(n),a=n.enter("strong"),o=n.createTracker(r),u=o.move(i+i);let h=o.move(n.containerPhrasing(t,{after:i,before:u,...o.current()}));const f=h.charCodeAt(0),p=dh(r.before.charCodeAt(r.before.length-1),f,i);p.inside&&(h=kc(f)+h.slice(1));const g=h.charCodeAt(h.length-1),x=dh(r.after.charCodeAt(0),g,i);x.inside&&(h=h.slice(0,-1)+kc(g));const v=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:x.outside,before:p.outside},u+h+v}function HB(t,e,n){return n.options.strong||"*"}function VB(t,e,n,r){return n.safe(t.value,r)}function $B(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function qB(t,e,n){const r=(X2(n)+(n.options.ruleSpaces?" ":"")).repeat($B(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Z2={blockquote:mB,break:US,code:bB,definition:SB,emphasis:V2,hardBreak:US,heading:kB,html:$2,image:q2,imageReference:G2,inlineCode:Y2,link:W2,linkReference:K2,list:DB,listItem:LB,paragraph:FB,root:IB,strong:J2,text:VB,thematicBreak:qB};function GB(){return{enter:{table:YB,tableData:HS,tableHeader:HS,tableRow:WB},exit:{codeText:KB,table:QB,tableData:Zp,tableHeader:Zp,tableRow:Zp}}}function YB(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function QB(t){this.exit(t),this.data.inTable=void 0}function WB(t){this.enter({type:"tableRow",children:[]},t)}function Zp(t){this.exit(t)}function HS(t){this.enter({type:"tableCell",children:[]},t)}function KB(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,XB));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function XB(t,e){return e==="|"?e:t}function JB(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:x,table:o,tableCell:h,tableRow:u}};function o(v,w,S,C){return f(p(v,S,C),v.align)}function u(v,w,S,C){const j=g(v,S,C),E=f([j]);return E.slice(0,E.indexOf(`
`))}function h(v,w,S,C){const j=S.enter("tableCell"),E=S.enter("phrasing"),_=S.containerPhrasing(v,{...C,before:a,after:a});return E(),j(),_}function f(v,w){return hB(v,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function p(v,w,S){const C=v.children;let j=-1;const E=[],_=w.enter("table");for(;++j<C.length;)E[j]=g(C[j],w,S);return _(),E}function g(v,w,S){const C=v.children;let j=-1;const E=[],_=w.enter("tableRow");for(;++j<C.length;)E[j]=h(C[j],v,w,S);return _(),E}function x(v,w,S){let C=Z2.inlineCode(v,w,S);return S.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function ZB(){return{exit:{taskListCheckValueChecked:VS,taskListCheckValueUnchecked:VS,paragraph:tI}}}function eI(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:nI}}}function VS(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function tI(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let a=-1,o;for(;++a<i.length;){const u=i[a];if(u.type==="paragraph"){o=u;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function nI(t,e,n,r){const i=t.children[0],a=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",u=n.createTracker(r);a&&u.move(o);let h=Z2.listItem(t,e,n,{...r,...u.current()});return a&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),h;function f(p){return p+o}}function rI(){return[D6(),nB(),aB(),GB(),ZB()]}function iI(t){return{extensions:[P6(),rB(t),lB(),JB(t),eI()]}}const sI={tokenize:dI,partial:!0},ek={tokenize:hI,partial:!0},tk={tokenize:fI,partial:!0},nk={tokenize:mI,partial:!0},aI={tokenize:pI,partial:!0},rk={name:"wwwAutolink",tokenize:cI,previous:sk},ik={name:"protocolAutolink",tokenize:uI,previous:ak},Xi={name:"emailAutolink",tokenize:oI,previous:lk},wi={};function lI(){return{text:wi}}let la=48;for(;la<123;)wi[la]=Xi,la++,la===58?la=65:la===91&&(la=97);wi[43]=Xi;wi[45]=Xi;wi[46]=Xi;wi[95]=Xi;wi[72]=[Xi,ik];wi[104]=[Xi,ik];wi[87]=[Xi,rk];wi[119]=[Xi,rk];function oI(t,e,n){const r=this;let i,a;return o;function o(g){return!cx(g)||!lk.call(r,r.previous)||j0(r.events)?n(g):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),u(g))}function u(g){return cx(g)?(t.consume(g),u):g===64?(t.consume(g),h):n(g)}function h(g){return g===46?t.check(aI,p,f)(g):g===45||g===95||Sn(g)?(a=!0,t.consume(g),h):p(g)}function f(g){return t.consume(g),i=!0,h}function p(g){return a&&i&&Rn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(g)):n(g)}}function cI(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!sk.call(r,r.previous)||j0(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(sI,t.attempt(ek,t.attempt(tk,a),n),n)(o))}function a(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function uI(t,e,n){const r=this;let i="",a=!1;return o;function o(g){return(g===72||g===104)&&ak.call(r,r.previous)&&!j0(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(g),t.consume(g),u):n(g)}function u(g){if(Rn(g)&&i.length<5)return i+=String.fromCodePoint(g),t.consume(g),u;if(g===58){const x=i.toLowerCase();if(x==="http"||x==="https")return t.consume(g),h}return n(g)}function h(g){return g===47?(t.consume(g),a?f:(a=!0,h)):n(g)}function f(g){return g===null||oh(g)||ut(g)||wa(g)||Ih(g)?n(g):t.attempt(ek,t.attempt(tk,p),n)(g)}function p(g){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(g)}}function dI(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),a):n(o)}function a(o){return o===null?n(o):e(o)}}function hI(t,e,n){let r,i,a;return o;function o(f){return f===46||f===95?t.check(nk,h,u)(f):f===null||ut(f)||wa(f)||f!==45&&Ih(f)?h(f):(a=!0,t.consume(f),o)}function u(f){return f===95?r=!0:(i=r,r=void 0),t.consume(f),o}function h(f){return i||r||!a?n(f):e(f)}}function fI(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(nk,e,a)(o):o===null||ut(o)||wa(o)?e(o):(t.consume(o),i)}function a(o){return o===41&&r++,t.consume(o),i}}function mI(t,e,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(t.consume(u),r):u===38?(t.consume(u),a):u===93?(t.consume(u),i):u===60||u===null||ut(u)||wa(u)?e(u):n(u)}function i(u){return u===null||u===40||u===91||ut(u)||wa(u)?e(u):r(u)}function a(u){return Rn(u)?o(u):n(u)}function o(u){return u===59?(t.consume(u),r):Rn(u)?(t.consume(u),o):n(u)}}function pI(t,e,n){return r;function r(a){return t.consume(a),i}function i(a){return Sn(a)?n(a):e(a)}}function sk(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||ut(t)}function ak(t){return!Rn(t)}function lk(t){return!(t===47||cx(t))}function cx(t){return t===43||t===45||t===46||t===95||Sn(t)}function j0(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const gI={tokenize:jI,partial:!0};function xI(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:wI,continuation:{tokenize:SI},exit:NI}},text:{91:{name:"gfmFootnoteCall",tokenize:bI},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:yI,resolveTo:vI}}}}function yI(t,e,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const h=r.events[i][1];if(h.type==="labelImage"){o=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return u;function u(h){if(!o||!o._balanced)return n(h);const f=Ur(r.sliceSerialize({start:o.end,end:r.now()}));return f.codePointAt(0)!==94||!a.includes(f.slice(1))?n(h):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),e(h))}}function vI(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},u=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...u),t}function bI(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return u;function u(g){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),h}function h(g){return g!==94?n(g):(t.enter("gfmFootnoteCallMarker"),t.consume(g),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(g){if(a>999||g===93&&!o||g===null||g===91||ut(g))return n(g);if(g===93){t.exit("chunkString");const x=t.exit("gfmFootnoteCallString");return i.includes(Ur(r.sliceSerialize(x)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(g)}return ut(g)||(o=!0),a++,t.consume(g),g===92?p:f}function p(g){return g===91||g===92||g===93?(t.consume(g),a++,f):f(g)}}function wI(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,u;return h;function h(w){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(w){return w===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",p):n(w)}function p(w){if(o>999||w===93&&!u||w===null||w===91||ut(w))return n(w);if(w===93){t.exit("chunkString");const S=t.exit("gfmFootnoteDefinitionLabelString");return a=Ur(r.sliceSerialize(S)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),x}return ut(w)||(u=!0),o++,t.consume(w),w===92?g:p}function g(w){return w===91||w===92||w===93?(t.consume(w),o++,p):p(w)}function x(w){return w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),i.includes(a)||i.push(a),Xe(t,v,"gfmFootnoteDefinitionWhitespace")):n(w)}function v(w){return e(w)}}function SI(t,e,n){return t.check(Uc,e,t.attempt(gI,e,n))}function NI(t){t.exit("gfmFootnoteDefinition")}function jI(t,e,n){const r=this;return Xe(t,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(a):n(a)}}function CI(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,u){let h=-1;for(;++h<o.length;)if(o[h][0]==="enter"&&o[h][1].type==="strikethroughSequenceTemporary"&&o[h][1]._close){let f=h;for(;f--;)if(o[f][0]==="exit"&&o[f][1].type==="strikethroughSequenceTemporary"&&o[f][1]._open&&o[h][1].end.offset-o[h][1].start.offset===o[f][1].end.offset-o[f][1].start.offset){o[h][1].type="strikethroughSequence",o[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},o[f][1].start),end:Object.assign({},o[h][1].end)},g={type:"strikethroughText",start:Object.assign({},o[f][1].end),end:Object.assign({},o[h][1].start)},x=[["enter",p,u],["enter",o[f][1],u],["exit",o[f][1],u],["enter",g,u]],v=u.parser.constructs.insideSpan.null;v&&cr(x,x.length,0,Uh(v,o.slice(f+1,h),u)),cr(x,x.length,0,[["exit",g,u],["enter",o[h][1],u],["exit",o[h][1],u],["exit",p,u]]),cr(o,f-1,h-f+3,x),h=f+x.length-2;break}}for(h=-1;++h<o.length;)o[h][1].type==="strikethroughSequenceTemporary"&&(o[h][1].type="data");return o}function a(o,u,h){const f=this.previous,p=this.events;let g=0;return x;function x(w){return f===126&&p[p.length-1][1].type!=="characterEscape"?h(w):(o.enter("strikethroughSequenceTemporary"),v(w))}function v(w){const S=Dl(f);if(w===126)return g>1?h(w):(o.consume(w),g++,v);if(g<2&&!n)return h(w);const C=o.exit("strikethroughSequenceTemporary"),j=Dl(w);return C._open=!j||j===2&&!!S,C._close=!S||S===2&&!!j,u(w)}}}class kI{constructor(){this.map=[]}add(e,n,r){EI(this,e,n,r)}consume(e){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const a of i)e.push(a);i=r.pop()}this.map.length=0}}function EI(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function _I(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function RI(){return{flow:{null:{name:"table",tokenize:MI,resolveAll:AI}}}}function MI(t,e,n){const r=this;let i=0,a=0,o;return u;function u(L){let q=r.events.length-1;for(;q>-1;){const se=r.events[q][1].type;if(se==="lineEnding"||se==="linePrefix")q--;else break}const J=q>-1?r.events[q][1].type:null,de=J==="tableHead"||J==="tableRow"?z:h;return de===z&&r.parser.lazy[r.now().line]?n(L):de(L)}function h(L){return t.enter("tableHead"),t.enter("tableRow"),f(L)}function f(L){return L===124||(o=!0,a+=1),p(L)}function p(L){return L===null?n(L):Re(L)?a>1?(a=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),v):n(L):Ye(L)?Xe(t,p,"whitespace")(L):(a+=1,o&&(o=!1,i+=1),L===124?(t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),o=!0,p):(t.enter("data"),g(L)))}function g(L){return L===null||L===124||ut(L)?(t.exit("data"),p(L)):(t.consume(L),L===92?x:g)}function x(L){return L===92||L===124?(t.consume(L),g):g(L)}function v(L){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(L):(t.enter("tableDelimiterRow"),o=!1,Ye(L)?Xe(t,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):w(L))}function w(L){return L===45||L===58?C(L):L===124?(o=!0,t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),S):O(L)}function S(L){return Ye(L)?Xe(t,C,"whitespace")(L):C(L)}function C(L){return L===58?(a+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(L),t.exit("tableDelimiterMarker"),j):L===45?(a+=1,j(L)):L===null||Re(L)?A(L):O(L)}function j(L){return L===45?(t.enter("tableDelimiterFiller"),E(L)):O(L)}function E(L){return L===45?(t.consume(L),E):L===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(L),t.exit("tableDelimiterMarker"),_):(t.exit("tableDelimiterFiller"),_(L))}function _(L){return Ye(L)?Xe(t,A,"whitespace")(L):A(L)}function A(L){return L===124?w(L):L===null||Re(L)?!o||i!==a?O(L):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(L)):O(L)}function O(L){return n(L)}function z(L){return t.enter("tableRow"),F(L)}function F(L){return L===124?(t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),F):L===null||Re(L)?(t.exit("tableRow"),e(L)):Ye(L)?Xe(t,F,"whitespace")(L):(t.enter("data"),P(L))}function P(L){return L===null||L===124||ut(L)?(t.exit("data"),F(L)):(t.consume(L),L===92?$:P)}function $(L){return L===92||L===124?(t.consume(L),P):P(L)}}function AI(t,e){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],u=!1,h=0,f,p,g;const x=new kI;for(;++n<t.length;){const v=t[n],w=v[1];v[0]==="enter"?w.type==="tableHead"?(u=!1,h!==0&&($S(x,e,h,f,p),p=void 0,h=0),f={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},x.add(n,0,[["enter",f,e]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,g=void 0,a=[0,0,0,0],o=[0,n+1,0,0],u&&(u=!1,p={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},x.add(n,0,[["enter",p,e]])),i=w.type==="tableDelimiterRow"?2:p?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],g=pd(x,e,a,i,void 0,g),a=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],g=pd(x,e,a,i,void 0,g)),a=o,o=[a[1],n,0,0])):w.type==="tableHead"?(u=!0,h=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(h=n,a[1]!==0?(o[0]=o[1],g=pd(x,e,a,i,n,g)):o[1]!==0&&(g=pd(x,e,o,i,n,g)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(h!==0&&$S(x,e,h,f,p),x.consume(e.events),n=-1;++n<e.events.length;){const v=e.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=_I(e.events,n))}return t}function pd(t,e,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(a.end=Object.assign({},Cl(e.events,n[0])),t.add(n[0],0,[["exit",a,e]]));const h=Cl(e.events,n[1]);if(a={type:o,start:Object.assign({},h),end:Object.assign({},h)},t.add(n[1],0,[["enter",a,e]]),n[2]!==0){const f=Cl(e.events,n[2]),p=Cl(e.events,n[3]),g={type:u,start:Object.assign({},f),end:Object.assign({},p)};if(t.add(n[2],0,[["enter",g,e]]),r!==2){const x=e.events[n[2]],v=e.events[n[3]];if(x[1].end=Object.assign({},v[1].end),x[1].type="chunkText",x[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,S=n[3]-n[2]-1;t.add(w,S,[])}}t.add(n[3]+1,0,[["exit",g,e]])}return i!==void 0&&(a.end=Object.assign({},Cl(e.events,i)),t.add(i,0,[["exit",a,e]]),a=void 0),a}function $S(t,e,n,r,i){const a=[],o=Cl(e.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,e])),r.end=Object.assign({},o),a.push(["exit",r,e]),t.add(n+1,0,a)}function Cl(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const TI={name:"tasklistCheck",tokenize:OI};function zI(){return{text:{91:TI}}}function OI(t,e,n){const r=this;return i;function i(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(h):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),a)}function a(h){return ut(h)?(t.enter("taskListCheckValueUnchecked"),t.consume(h),t.exit("taskListCheckValueUnchecked"),o):h===88||h===120?(t.enter("taskListCheckValueChecked"),t.consume(h),t.exit("taskListCheckValueChecked"),o):n(h)}function o(h){return h===93?(t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),u):n(h)}function u(h){return Re(h)?e(h):Ye(h)?t.check({tokenize:DI},e,n)(h):n(h)}}function DI(t,e,n){return Xe(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function PI(t){return x2([lI(),xI(),CI(t),RI(),zI()])}const LI={};function ok(t){const e=this,n=t||LI,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(PI(n)),a.push(rI()),o.push(iI(n))}function FI({symbol:t,company:e,price:n,change:r,riskScore:i,href:a}){return c.jsxs("a",{href:a,className:"flex flex-col p-3 rounded-lg bg-card/40 hover:bg-card/60 border border-border/40 hover:border-primary/30 transition-all group backdrop-blur-md",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-sm block group-hover:text-primary transition-colors",children:t}),e&&c.jsx("span",{className:"text-[10px] text-muted-foreground line-clamp-1",children:e})]}),c.jsxs(Oe,{variant:r>=0?"outline":"destructive",className:Fe("text-[10px] px-1.5 h-5 font-mono",r>=0?"text-emerald-500 border-emerald-500/20 bg-emerald-500/5":"text-red-500 border-red-500/20 bg-red-500/5"),children:[r>=0?"+":"",r.toFixed(2),"%"]})]}),c.jsxs("div",{className:"flex justify-between items-end mt-auto",children:[c.jsxs("span",{className:"text-xs font-semibold font-mono",children:["$",n.toFixed(2)]}),c.jsxs("span",{className:Fe("text-[10px] font-bold px-1.5 py-0.5 rounded-sm",i<=3?"text-emerald-500 bg-emerald-500/10":i<=6?"text-yellow-500 bg-yellow-500/10":"text-red-500 bg-red-500/10"),children:["R",i]})]})]})}const BI=t=>{const e={White:"Common",Green:"Uncommon",Blue:"Rare",Purple:"Epic",Gold:"Legendary"},n=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();return e[n]||n};function hh({model:t,rarity:e,className:n,showIcon:r=!0}){if(!t)return null;const i=e?BI(e):"Common",a=o=>{switch(o){case"Legendary":return"bg-yellow-500/15 text-yellow-500 border-yellow-500/30";case"Epic":return"bg-purple-500/15 text-purple-400 border-purple-500/30";case"Rare":return"bg-blue-500/15 text-blue-400 border-blue-500/30";case"Uncommon":return"bg-green-500/15 text-green-400 border-green-500/30";default:return"bg-white/5 text-white/70 border-white/10"}};return c.jsx(Oe,{variant:"outline",className:Fe("px-1.5 py-0 h-4 md:h-5 text-[10px] font-bold lowercase border tracking-tight transition-all duration-300 whitespace-nowrap",a(i),n),children:c.jsxs("div",{className:"flex items-center gap-1.5",children:[r&&c.jsx(Nn,{className:Fe("w-2.5 h-2.5",i==="Common"?"text-primary":"text-current")}),c.jsx("span",{children:t})]})})}function II(){const[t,e]=N.useState(null),[n,r]=N.useState([]),[i,a]=N.useState(!0),[o,u]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const g=await je.get("/news/digest");g.data&&g.data.id&&e(g.data)}catch{console.error("Failed to load news")}finally{a(!1)}try{const g=await je.get("/news/general");Array.isArray(g.data)&&r(g.data.slice(0,20))}catch(g){console.error("Failed to fetch general news",g)}finally{u(!1)}})()},[]);const h=p=>{if(!p)return"Recently";try{const g=typeof p=="string"&&!isNaN(parseFloat(p))?parseFloat(p):p;let x;return typeof g=="number"?x=new Date(g>1e10?g:g*1e3):x=new Date(g),isNaN(x.getTime())?"Recently":x.toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Recently"}},f=p=>(Array.isArray(p)?p:[p]).map((x,v)=>typeof x=="string"?x.split(/(\((?:BULLISH|BEARISH|MIXED|NEUTRAL)\))/gi).map((S,C)=>{const j=S.toUpperCase();return j==="(BULLISH)"?c.jsx("span",{className:"text-green-500 dark:text-green-400 font-bold",children:S},`s-${v}-${C}`):j==="(BEARISH)"?c.jsx("span",{className:"text-red-500 dark:text-red-400 font-bold",children:S},`s-${v}-${C}`):j==="(MIXED)"||j==="(NEUTRAL)"?c.jsx("span",{className:"text-yellow-500 dark:text-yellow-400 font-bold",children:S},`s-${v}-${C}`):S}):x);return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 h-full",children:[c.jsxs(xt,{className:"lg:col-span-3 flex flex-col overflow-hidden border-border/50 shadow-sm bg-transparent min-h-[50vh] md:min-h-0",children:[c.jsx(Ut,{className:"py-4 border-b border-border/50 bg-transparent",children:c.jsxs(Ht,{className:"text-base font-bold flex items-center justify-between w-full",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Gd,{className:"w-5 h-5 text-primary"}),"AI Market Digest"]}),t&&t.models_used&&c.jsxs("div",{className:"flex items-center gap-2",children:[t.models_used.map(p=>c.jsx(hh,{model:p},p)),t.tokens_out&&c.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal",children:[t.tokens_out+(t.tokens_in||0)," tokens"]})]})]})}),c.jsx(yt,{className:"flex-1 overflow-y-auto p-6 min-h-[80vh] md:min-h-0",children:i?c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Wt,{className:"w-3 h-3 animate-spin"})," Generated just now..."]}):t?c.jsxs("div",{className:"space-y-4",children:[t.relatedTickers&&t.relatedTickers.length>0&&c.jsx("div",{className:"mb-6 pb-4 border-b border-border/50",children:c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-3",children:t.relatedTickers.map(p=>c.jsx(FI,{symbol:p.symbol,company:p.name,price:Number(p.latestPrice?.close||0),change:Number(p.latestPrice?.changePercent||0),riskScore:p.riskAnalysis?.financial_risk??p.riskAnalysis?.overall_score??0,href:`/ticker/${p.symbol}`},p.id))})}),c.jsx("h3",{className:"font-semibold text-xl leading-tight tracking-tight text-foreground",children:t.title}),c.jsx("article",{className:"prose prose-sm dark:prose-invert max-w-none prose-headings:font-bold prose-headings:tracking-tight prose-a:text-blue-400 prose-img:rounded-lg prose-strong:text-foreground prose-blockquote:border-l-primary/50 prose-blockquote:bg-muted/20 prose-blockquote:py-1 prose-blockquote:px-4 prose-hr:border-border prose-code:bg-muted prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:text-xs prose-pre:bg-muted prose-pre:border prose-pre:border-border",children:c.jsx(w0,{components:{a:({...p})=>c.jsx("a",{...p,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-300 transition-colors"}),strong:({...p})=>c.jsx("strong",{className:"font-bold",children:f(p.children)}),em:({...p})=>c.jsx("em",{className:"italic",children:f(p.children)}),p:({...p})=>c.jsx("p",{children:f(p.children)}),li:({...p})=>c.jsx("li",{children:f(p.children)}),h1:({...p})=>c.jsx("h1",{children:f(p.children)}),h2:({...p})=>c.jsx("h2",{children:f(p.children)}),h3:({...p})=>c.jsx("h3",{children:f(p.children)}),h4:({...p})=>c.jsx("h4",{children:f(p.children)}),h5:({...p})=>c.jsx("h5",{children:f(p.children)}),h6:({...p})=>c.jsx("h6",{children:f(p.children)})},remarkPlugins:[ok],children:t.answer_markdown||"No content available."})}),c.jsx("div",{className:"pt-4 flex justify-between items-center border-t border-border/50 mt-4",children:c.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-medium",children:new Date(t.created_at).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})})]}):c.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Digest arriving soon..."})})]}),c.jsxs(xt,{className:"hidden lg:flex lg:col-span-2 flex-col border-border/50 shadow-sm overflow-hidden bg-transparent",children:[c.jsx(Ut,{className:"py-4 border-b border-border/50 bg-transparent",children:c.jsxs(Ht,{className:"text-sm font-bold flex items-center gap-2",children:[c.jsx(fi,{className:"w-4 h-4 text-primary"}),"Live Market News"]})}),c.jsx(yt,{className:"flex-1 overflow-y-auto p-0 hover:scrollbar-thumb-muted/50 scrollbar-thin scrollbar-track-transparent",children:o?c.jsx("div",{className:"p-8 flex justify-center",children:c.jsx(Wt,{className:"animate-spin text-muted-foreground"})}):n.length>0?c.jsx("div",{className:"divide-y divide-border/40",children:n.map(p=>c.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors group",children:c.jsxs("div",{className:"flex gap-4",children:[p.image&&c.jsx("div",{className:"shrink-0 w-32 h-24 rounded-md overflow-hidden bg-muted relative border border-border/50",children:c.jsx("img",{src:p.image,alt:"News",className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:g=>{g.target.style.display="none"}})}),c.jsx("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Oe,{variant:"outline",className:"text-[10px] h-5 px-1.5 font-normal text-muted-foreground border-border/50 bg-background/50",children:p.source}),c.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[c.jsx(Bc,{className:"w-3 h-3"}),h(p.datetime)]})]}),c.jsx("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"text-base font-semibold leading-snug hover:text-primary transition-colors block line-clamp-2",children:p.headline}),c.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:p.summary})]})})]})},p.id))}):c.jsx("div",{className:"p-12 text-center text-muted-foreground text-sm",children:"No recent news found."})})]})]})}function Sa(t,e,n){return typeof e=="number"&&t>0?(e-t)/t*100:Number(n??0)}function Ra(t,e,n){return t>=8&&(n&&n>=7.5||e>=100)?{rating:"Speculative Buy",variant:"speculativeBuy"}:e<0||t>=8?{rating:"Sell",variant:"sell"}:e>20&&t<=6?{rating:"Strong Buy",variant:"strongBuy"}:e>10&&t<=7?{rating:"Buy",variant:"buy"}:{rating:"Hold",variant:"hold"}}function gd({icon:t,label:e,value:n,tone:r="muted"}){const i={primary:"linear-gradient(90deg, #22d3ee, #2563eb)",muted:"linear-gradient(90deg, #a855f7, #6366f1)",accent:"linear-gradient(90deg, #6366f1, #a855f7)",emerald:"linear-gradient(90deg, #22c55e, #14b8a6)",rose:"linear-gradient(90deg, #f472b6, #e11d48)"},a={primary:"text-blue-600 dark:text-blue-400",muted:"text-purple-600 dark:text-purple-300",accent:"text-indigo-600 dark:text-indigo-300",emerald:"text-emerald-600 dark:text-emerald-300",rose:"text-rose-600 dark:text-rose-300"};return c.jsxs("div",{className:Fe("style-kpi relative overflow-hidden rounded-md border px-3 py-2 sm:px-4 sm:py-3"),style:{background:`linear-gradient(rgb(var(--card)), rgb(var(--card))) padding-box, ${i[r]||i.primary} border-box`},children:[c.jsx("div",{className:"style-kpi-grid absolute inset-0 opacity-25 pointer-events-none",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.2) 1px, transparent 1px)",backgroundSize:"18px 18px"},"aria-hidden":!0}),c.jsxs("div",{className:"relative z-10 flex items-start justify-between gap-2 sm:gap-3",children:[c.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:e}),c.jsx("p",{className:"text-lg sm:text-2xl font-bold text-foreground leading-tight",children:n})]}),c.jsx(t,{className:Fe("w-4 h-4 sm:w-5 sm:h-5",a[r])})]})]})}function UI(t){let e="-";const n=t.aiAnalysis?.financial_risk,r=typeof n=="number"?n:Number(n||0),i=Number(t.latestPrice?.close??0);let a=null,o=null;if(t.aiAnalysis){const{base_price:h,overall_score:f,upside_percent:p}=t.aiAnalysis;a=Sa(i,h,p);const{rating:g}=Ra(r,a,f);e=g}const u=t.aiAnalysis?.bear_price;return typeof u=="number"&&i>0?o=(u-i)/i*100:r>=8?o=-100:r>0&&(o=-(r*2.5)),{symbol:t.ticker.symbol,company:t.ticker.name,logo:t.ticker.logo_url,sector:t.ticker.industry||t.ticker.sector||t.fundamentals?.sector||"Unknown",price:i,change:Number(t.latestPrice?.change??0),pe:Number(t.fundamentals?.pe_ratio??0)||null,marketCap:Number(t.fundamentals?.market_cap??0)||null,potentialUpside:a,potentialDownside:o,riskScore:r,rating:t.fundamentals?.consensus_rating||"-",aiRating:e,analystCount:t.counts?.analysts||0,newsCount:t.counts?.news||0,researchCount:t.counts?.research||0,socialCount:t.counts?.social||0,overallScore:t.aiAnalysis?.overall_score??null,itemId:t.ticker.id}}function qS(){const t=_t(),{data:e}=nn({queryKey:["dashboard-stats"],queryFn:async()=>{const[n,r,i,a]=await Promise.all([je.get("/tickers/count").catch(()=>({data:{count:0}})),je.get("/stats/strong-buy").catch(()=>({data:{count:0}})),je.get("/stats/sell").catch(()=>({data:{count:0}})),je.get("/research",{params:{since:24,limit:1}}).catch(()=>({data:{total:0}}))]);return{tickers:n.data.count,strongBuy:r.data.count,sell:i.data.count,research:a.data.total||0}}});return c.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/30",children:[c.jsx(Ar,{}),c.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-[90rem] space-y-8 animate-in fade-in duration-500",children:[c.jsxs("section",{className:"style-hero rgb-border relative overflow-hidden rounded-lg border border-border bg-card p-8",children:[c.jsx("div",{className:"style-hero-grid absolute inset-0 pointer-events-none","aria-hidden":!0}),c.jsx("div",{className:"absolute inset-x-8 bottom-6 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent opacity-70"}),c.jsx("div",{className:"relative flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between z-30",children:c.jsx("div",{className:"space-y-4 max-w-3xl",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Nn,{className:"w-10 h-10 text-primary"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"AI assisted stock analyzer"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Stocks, risks, news, chat ..."})]})]})})}),c.jsxs("div",{className:"relative mt-6 grid grid-cols-2 gap-2 sm:gap-4 sm:mt-8 lg:grid-cols-4",children:[c.jsx("div",{className:"cursor-pointer transition-transform hover:scale-[1.02]",onClick:()=>t("/analyzer"),children:c.jsx(gd,{icon:Jx,label:"Tickers Tracked",value:e?.tickers?String(e.tickers):"...",tone:"primary"})}),c.jsx("div",{className:"cursor-pointer transition-transform hover:scale-[1.02]",onClick:()=>t("/analyzer?filter=strong_buy"),children:c.jsx(gd,{icon:Rs,label:"Strong Buy",value:e?.strongBuy?String(e.strongBuy):"...",tone:"emerald"})}),c.jsx("div",{className:"cursor-pointer transition-transform hover:scale-[1.02]",onClick:()=>t("/research?filter=recent"),children:c.jsx(gd,{icon:Nn,label:"AI Reports (24h)",value:e?.research!==void 0?String(e.research):"...",tone:"muted"})}),c.jsx("div",{className:"cursor-pointer transition-transform hover:scale-[1.02]",onClick:()=>t("/analyzer?filter=sell"),children:c.jsx(gd,{icon:ba,label:"Sell",value:e?.sell?String(e.sell):"...",tone:"rose"})})]})]}),c.jsx("div",{className:"space-y-4",children:c.jsx(HI,{})}),c.jsx("div",{className:"h-[950px]",children:c.jsx(II,{})})]})]})}function HI(){const[t,e]=N.useState("yolo"),n=_t(),r={page:1,limit:4,search:"",sortBy:"upside_percent",sortDir:"DESC"};t==="yolo"?(r.sortBy="upside_percent",r.sortDir="DESC"):t==="conservative"?(r.aiRating=["Strong Buy","Buy"],r.sortBy="market_cap",r.sortDir="DESC"):t==="shorts"&&(r.aiRating=["Sell"],r.sortBy="upside_percent",r.sortDir="ASC");const{data:i,isLoading:a}=n2(r);let u=(i?.items||[]).map(UI);return t==="conservative"?u=u.filter(h=>["Strong Buy","Buy"].includes(h.aiRating)):t==="shorts"?u=u.filter(h=>h.aiRating==="Sell"):t==="yolo"&&(u=u.filter(h=>["Strong Buy","Buy","Speculative Buy"].includes(h.aiRating))),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(mi,{className:Fe("w-5 h-5",t==="shorts"?"text-red-500":"text-emerald-500")}),t==="yolo"?"Top Opportunities":t==="conservative"?"Conservative Picks":"Short Candidates"]}),c.jsx("div",{className:"flex items-center bg-muted/50 p-1 rounded-lg border border-border/50",children:["yolo","conservative","shorts"].map(h=>c.jsx("button",{onClick:()=>e(h),className:Fe("px-3 py-1 text-xs font-medium rounded-md transition-all",t===h?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:h==="yolo"?" YOLO":h==="conservative"?" Classic":" Shorts"},h))})]}),c.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>n("/analyzer"),className:"hidden sm:flex",children:["View Analyzer ",c.jsx(e0,{className:"ml-1 w-4 h-4"})]})]}),c.jsx(gD,{data:u,isLoading:a})]})}function C0(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Ms(t,e){return typeof t=="function"?t(e):t}function pr(t,e){return n=>{e.setState(r=>({...r,[t]:Ms(n,r[t])}))}}function qh(t){return t instanceof Function}function VI(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function $I(t,e){const n=[],r=i=>{i.forEach(a=>{n.push(a);const o=e(a);o!=null&&o.length&&r(o)})};return r(t),n}function Te(t,e,n){let r=[],i;return a=>{let o;n.key&&n.debug&&(o=Date.now());const u=t(a);if(!(u.length!==r.length||u.some((p,g)=>r[g]!==p)))return i;r=u;let f;if(n.key&&n.debug&&(f=Date.now()),i=e(...u),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-o)*100)/100,g=Math.round((Date.now()-f)*100)/100,x=g/16,v=(w,S)=>{for(w=String(w);w.length<S;)w=" "+w;return w};console.info(`%c ${v(g,5)} /${v(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n?.key)}return i}}function ze(t,e,n,r){return{debug:()=>{var i;return(i=t?.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function qI(t,e,n,r){const i=()=>{var o;return(o=a.getValue())!=null?o:t.options.renderFallbackValue},a={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Te(()=>[t,n,e,a],(o,u,h,f)=>({table:o,column:u,row:h,cell:f,getValue:f.getValue,renderValue:f.renderValue}),ze(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(a,n,e,t)},{}),a}function GI(t,e,n,r){var i,a;const u={...t._getDefaultColumnDef(),...e},h=u.accessorKey;let f=(i=(a=u.id)!=null?a:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?i:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:h&&(h.includes(".")?p=x=>{let v=x;for(const S of h.split(".")){var w;v=(w=v)==null?void 0:w[S]}return v}:p=x=>x[u.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:p,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:Te(()=>[!0],()=>{var x;return[g,...(x=g.columns)==null?void 0:x.flatMap(v=>v.getFlatColumns())]},ze(t.options,"debugColumns")),getLeafColumns:Te(()=>[t._getOrderColumnsFn()],x=>{var v;if((v=g.columns)!=null&&v.length){let w=g.columns.flatMap(S=>S.getLeafColumns());return x(w)}return[g]},ze(t.options,"debugColumns"))};for(const x of t._features)x.createColumn==null||x.createColumn(g,t);return g}const bn="debugHeaders";function GS(t,e,n){var r;let a={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],u=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(u),o.push(h)};return u(a),o},getContext:()=>({table:t,header:a,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(a,t)}),a}const YI={createTable:t=>{t.getHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var a,o;const u=(a=r?.map(g=>n.find(x=>x.id===g)).filter(Boolean))!=null?a:[],h=(o=i?.map(g=>n.find(x=>x.id===g)).filter(Boolean))!=null?o:[],f=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(i!=null&&i.includes(g.id)));return xd(e,[...u,...f,...h],t)},ze(t.options,bn)),t.getCenterHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(i!=null&&i.includes(a.id))),xd(e,n,t,"center")),ze(t.options,bn)),t.getLeftHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const a=(i=r?.map(o=>n.find(u=>u.id===o)).filter(Boolean))!=null?i:[];return xd(e,a,t,"left")},ze(t.options,bn)),t.getRightHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const a=(i=r?.map(o=>n.find(u=>u.id===o)).filter(Boolean))!=null?i:[];return xd(e,a,t,"right")},ze(t.options,bn)),t.getFooterGroups=Te(()=>[t.getHeaderGroups()],e=>[...e].reverse(),ze(t.options,bn)),t.getLeftFooterGroups=Te(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),ze(t.options,bn)),t.getCenterFooterGroups=Te(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),ze(t.options,bn)),t.getRightFooterGroups=Te(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),ze(t.options,bn)),t.getFlatHeaders=Te(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),ze(t.options,bn)),t.getLeftFlatHeaders=Te(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),ze(t.options,bn)),t.getCenterFlatHeaders=Te(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),ze(t.options,bn)),t.getRightFlatHeaders=Te(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),ze(t.options,bn)),t.getCenterLeafHeaders=Te(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ze(t.options,bn)),t.getLeftLeafHeaders=Te(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ze(t.options,bn)),t.getRightLeafHeaders=Te(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ze(t.options,bn)),t.getLeafHeaders=Te(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,a,o,u,h,f;return[...(i=(a=e[0])==null?void 0:a.headers)!=null?i:[],...(o=(u=n[0])==null?void 0:u.headers)!=null?o:[],...(h=(f=r[0])==null?void 0:f.headers)!=null?h:[]].map(p=>p.getLeafHeaders()).flat()},ze(t.options,bn))}};function xd(t,e,n,r){var i,a;let o=0;const u=function(x,v){v===void 0&&(v=1),o=Math.max(o,v),x.filter(w=>w.getIsVisible()).forEach(w=>{var S;(S=w.columns)!=null&&S.length&&u(w.columns,v+1)},0)};u(t);let h=[];const f=(x,v)=>{const w={depth:v,id:[r,`${v}`].filter(Boolean).join("_"),headers:[]},S=[];x.forEach(C=>{const j=[...S].reverse()[0],E=C.column.depth===w.depth;let _,A=!1;if(E&&C.column.parent?_=C.column.parent:(_=C.column,A=!0),j&&j?.column===_)j.subHeaders.push(C);else{const O=GS(n,_,{id:[r,v,_.id,C?.id].filter(Boolean).join("_"),isPlaceholder:A,placeholderId:A?`${S.filter(z=>z.column===_).length}`:void 0,depth:v,index:S.length});O.subHeaders.push(C),S.push(O)}w.headers.push(C),C.headerGroup=w}),h.push(w),v>0&&f(S,v-1)},p=e.map((x,v)=>GS(n,x,{depth:o,index:v}));f(p,o-1),h.reverse();const g=x=>x.filter(w=>w.column.getIsVisible()).map(w=>{let S=0,C=0,j=[0];w.subHeaders&&w.subHeaders.length?(j=[],g(w.subHeaders).forEach(_=>{let{colSpan:A,rowSpan:O}=_;S+=A,j.push(O)})):S=1;const E=Math.min(...j);return C=C+E,w.colSpan=S,w.rowSpan=C,{colSpan:S,rowSpan:C}});return g((i=(a=h[0])==null?void 0:a.headers)!=null?i:[]),h}const k0=(t,e,n,r,i,a,o)=>{let u={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(u._valuesCache.hasOwnProperty(h))return u._valuesCache[h];const f=t.getColumn(h);if(f!=null&&f.accessorFn)return u._valuesCache[h]=f.accessorFn(u.original,r),u._valuesCache[h]},getUniqueValues:h=>{if(u._uniqueValuesCache.hasOwnProperty(h))return u._uniqueValuesCache[h];const f=t.getColumn(h);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(u._uniqueValuesCache[h]=f.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[h]):(u._uniqueValuesCache[h]=[u.getValue(h)],u._uniqueValuesCache[h])},renderValue:h=>{var f;return(f=u.getValue(h))!=null?f:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>$I(u.subRows,h=>h.subRows),getParentRow:()=>u.parentId?t.getRow(u.parentId,!0):void 0,getParentRows:()=>{let h=[],f=u;for(;;){const p=f.getParentRow();if(!p)break;h.push(p),f=p}return h.reverse()},getAllCells:Te(()=>[t.getAllLeafColumns()],h=>h.map(f=>qI(t,u,f,f.id)),ze(t.options,"debugRows")),_getAllCellsByColumnId:Te(()=>[u.getAllCells()],h=>h.reduce((f,p)=>(f[p.column.id]=p,f),{}),ze(t.options,"debugRows"))};for(let h=0;h<t._features.length;h++){const f=t._features[h];f==null||f.createRow==null||f.createRow(u,t)}return u},QI={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},ck=(t,e,n)=>{var r,i;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(a))};ck.autoRemove=t=>Hr(t);const uk=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};uk.autoRemove=t=>Hr(t);const dk=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};dk.autoRemove=t=>Hr(t);const hk=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};hk.autoRemove=t=>Hr(t);const fk=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});fk.autoRemove=t=>Hr(t)||!(t!=null&&t.length);const mk=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});mk.autoRemove=t=>Hr(t)||!(t!=null&&t.length);const pk=(t,e,n)=>t.getValue(e)===n;pk.autoRemove=t=>Hr(t);const gk=(t,e,n)=>t.getValue(e)==n;gk.autoRemove=t=>Hr(t);const E0=(t,e,n)=>{let[r,i]=n;const a=t.getValue(e);return a>=r&&a<=i};E0.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,a=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(a>o){const u=a;a=o,o=u}return[a,o]};E0.autoRemove=t=>Hr(t)||Hr(t[0])&&Hr(t[1]);const Vi={includesString:ck,includesStringSensitive:uk,equalsString:dk,arrIncludes:hk,arrIncludesAll:fk,arrIncludesSome:mk,equals:pk,weakEquals:gk,inNumberRange:E0};function Hr(t){return t==null||t===""}const WI={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:pr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?Vi.includesString:typeof r=="number"?Vi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Vi.equals:Array.isArray(r)?Vi.arrIncludes:Vi.weakEquals},t.getFilterFn=()=>{var n,r;return qh(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:Vi[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),a=r?.find(p=>p.id===t.id),o=Ms(n,a?a.value:void 0);if(YS(i,o,t)){var u;return(u=r?.filter(p=>p.id!==t.id))!=null?u:[]}const h={id:t.id,value:o};if(a){var f;return(f=r?.map(p=>p.id===t.id?h:p))!=null?f:[]}return r!=null&&r.length?[...r,h]:[h]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var a;return(a=Ms(e,i))==null?void 0:a.filter(o=>{const u=n.find(h=>h.id===o.id);if(u){const h=u.getFilterFn();if(YS(h,o.value,u))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function YS(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const KI=(t,e,n)=>n.reduce((r,i)=>{const a=i.getValue(t);return r+(typeof a=="number"?a:0)},0),XI=(t,e,n)=>{let r;return n.forEach(i=>{const a=i.getValue(t);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},JI=(t,e,n)=>{let r;return n.forEach(i=>{const a=i.getValue(t);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},ZI=(t,e,n)=>{let r,i;return n.forEach(a=>{const o=a.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},e8=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let a=i.getValue(t);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},t8=(t,e)=>{if(!e.length)return;const n=e.map(a=>a.getValue(t));if(!VI(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((a,o)=>a-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},n8=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),r8=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,i8=(t,e)=>e.length,eg={sum:KI,min:XI,max:JI,extent:ZI,mean:e8,median:t8,unique:n8,uniqueCount:r8,count:i8},s8={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:pr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return eg.sum;if(Object.prototype.toString.call(r)==="[object Date]")return eg.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return qh(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:eg[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function a8(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(a=>!e.includes(a.id));return n==="remove"?r:[...e.map(a=>t.find(o=>o.id===a)).filter(Boolean),...r]}const l8={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:pr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Te(n=>[xc(e,n)],n=>n.findIndex(r=>r.id===t.id),ze(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=xc(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=xc(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Te(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let a=[];if(!(e!=null&&e.length))a=i;else{const o=[...e],u=[...i];for(;u.length&&o.length;){const h=o.shift(),f=u.findIndex(p=>p.id===h);f>-1&&a.push(u.splice(f,1)[0])}a=[...a,...u]}return a8(a,n,r)},ze(t.options,"debugTable"))}},tg=()=>({left:[],right:[]}),o8={getInitialState:t=>({columnPinning:tg(),...t}),getDefaultOptions:t=>({onColumnPinningChange:pr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var a,o;if(n==="right"){var u,h;return{left:((u=i?.left)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((h=i?.right)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var f,p;return{left:[...((f=i?.left)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((p=i?.right)!=null?p:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((a=i?.left)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g))),right:((o=i?.right)!=null?o:[]).filter(g=>!(r!=null&&r.includes(g)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,a,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((a=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?a:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(u=>u.id),{left:r,right:i}=e.getState().columnPinning,a=n.some(u=>r?.includes(u)),o=n.some(u=>i?.includes(u));return a?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Te(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const a=[...r??[],...i??[]];return n.filter(o=>!a.includes(o.column.id))},ze(e.options,"debugRows")),t.getLeftVisibleCells=Te(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),ze(e.options,"debugRows")),t.getRightVisibleCells=Te(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),ze(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?tg():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:tg())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,a;return!!((i=r.left)!=null&&i.length||(a=r.right)!=null&&a.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Te(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),ze(t.options,"debugColumns")),t.getRightLeafColumns=Te(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),ze(t.options,"debugColumns")),t.getCenterLeafColumns=Te(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(a=>!i.includes(a.id))},ze(t.options,"debugColumns"))}};function c8(t){return t||(typeof document<"u"?document:null)}const yd={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ng=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),u8={getDefaultColumnDef:()=>yd,getInitialState:t=>({columnSizing:{},columnSizingInfo:ng(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:pr("columnSizing",t),onColumnSizingInfoChange:pr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const a=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:yd.minSize,(r=a??t.columnDef.size)!=null?r:yd.size),(i=t.columnDef.maxSize)!=null?i:yd.maxSize)},t.getStart=Te(n=>[n,xc(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,a)=>i+a.getSize(),0),ze(e.options,"debugColumns")),t.getAfter=Te(n=>[n,xc(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,a)=>i+a.getSize(),0),ze(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var a;n+=(a=i.column.getSize())!=null?a:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r?.getCanResize();return a=>{if(!r||!i||(a.persist==null||a.persist(),rg(a)&&a.touches&&a.touches.length>1))return;const o=t.getSize(),u=t?t.getLeafHeaders().map(j=>[j.column.id,j.column.getSize()]):[[r.id,r.getSize()]],h=rg(a)?Math.round(a.touches[0].clientX):a.clientX,f={},p=(j,E)=>{typeof E=="number"&&(e.setColumnSizingInfo(_=>{var A,O;const z=e.options.columnResizeDirection==="rtl"?-1:1,F=(E-((A=_?.startOffset)!=null?A:0))*z,P=Math.max(F/((O=_?.startSize)!=null?O:0),-.999999);return _.columnSizingStart.forEach($=>{let[L,q]=$;f[L]=Math.round(Math.max(q+q*P,0)*100)/100}),{..._,deltaOffset:F,deltaPercentage:P}}),(e.options.columnResizeMode==="onChange"||j==="end")&&e.setColumnSizing(_=>({..._,...f})))},g=j=>p("move",j),x=j=>{p("end",j),e.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=c8(n),w={moveHandler:j=>g(j.clientX),upHandler:j=>{v?.removeEventListener("mousemove",w.moveHandler),v?.removeEventListener("mouseup",w.upHandler),x(j.clientX)}},S={moveHandler:j=>(j.cancelable&&(j.preventDefault(),j.stopPropagation()),g(j.touches[0].clientX),!1),upHandler:j=>{var E;v?.removeEventListener("touchmove",S.moveHandler),v?.removeEventListener("touchend",S.upHandler),j.cancelable&&(j.preventDefault(),j.stopPropagation()),x((E=j.touches[0])==null?void 0:E.clientX)}},C=d8()?{passive:!1}:!1;rg(a)?(v?.addEventListener("touchmove",S.moveHandler,C),v?.addEventListener("touchend",S.upHandler,C)):(v?.addEventListener("mousemove",w.moveHandler,C),v?.addEventListener("mouseup",w.upHandler,C)),e.setColumnSizingInfo(j=>({...j,startOffset:h,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?ng():(n=t.initialState.columnSizingInfo)!=null?n:ng())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let vd=null;function d8(){if(typeof vd=="boolean")return vd;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return vd=t,vd}function rg(t){return t.type==="touchstart"}const h8={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:pr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(a=>a.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Te(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),ze(e.options,"debugRows")),t.getVisibleCells=Te(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],ze(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Te(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),ze(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,a)=>({...i,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function xc(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const f8={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},m8={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:pr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,a;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((a=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?a:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Vi.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return qh(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:Vi[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},p8={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:pr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,a;t.setExpanded(r?{}:(i=(a=t.initialState)==null?void 0:a.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(a=>{const o=a.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const a=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(u=>{o[u]=!0}):o=r,n=(i=n)!=null?i:!a,!a&&n)return{...o,[t.id]:!0};if(a&&!n){const{[t.id]:u,...h}=o;return h}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},ux=0,dx=10,ig=()=>({pageIndex:ux,pageSize:dx}),g8={getInitialState:t=>({...t,pagination:{...ig(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:pr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=a=>Ms(r,a);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?ig():(i=t.initialState.pagination)!=null?i:ig())},t.setPageIndex=r=>{t.setPagination(i=>{let a=Ms(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return a=Math.max(0,Math.min(a,o)),{...i,pageIndex:a}})},t.resetPageIndex=r=>{var i,a;t.setPageIndex(r?ux:(i=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?i:ux)},t.resetPageSize=r=>{var i,a;t.setPageSize(r?dx:(i=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?i:dx)},t.setPageSize=r=>{t.setPagination(i=>{const a=Math.max(1,Ms(r,i.pageSize)),o=i.pageSize*i.pageIndex,u=Math.floor(o/a);return{...i,pageIndex:u,pageSize:a}})},t.setPageCount=r=>t.setPagination(i=>{var a;let o=Ms(r,(a=t.options.pageCount)!=null?a:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=Te(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((a,o)=>o)),i},ze(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},sg=()=>({top:[],bottom:[]}),x8={getInitialState:t=>({rowPinning:sg(),...t}),getDefaultOptions:t=>({onRowPinningChange:pr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const a=r?t.getLeafRows().map(h=>{let{id:f}=h;return f}):[],o=i?t.getParentRows().map(h=>{let{id:f}=h;return f}):[],u=new Set([...o,t.id,...a]);e.setRowPinning(h=>{var f,p;if(n==="bottom"){var g,x;return{top:((g=h?.top)!=null?g:[]).filter(S=>!(u!=null&&u.has(S))),bottom:[...((x=h?.bottom)!=null?x:[]).filter(S=>!(u!=null&&u.has(S))),...Array.from(u)]}}if(n==="top"){var v,w;return{top:[...((v=h?.top)!=null?v:[]).filter(S=>!(u!=null&&u.has(S))),...Array.from(u)],bottom:((w=h?.bottom)!=null?w:[]).filter(S=>!(u!=null&&u.has(S)))}}return{top:((f=h?.top)!=null?f:[]).filter(S=>!(u!=null&&u.has(S))),bottom:((p=h?.bottom)!=null?p:[]).filter(S=>!(u!=null&&u.has(S)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,a=n.some(u=>r?.includes(u)),o=n.some(u=>i?.includes(u));return a?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const a=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:u}=o;return u});return(r=a?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?sg():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:sg())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,a;return!!((i=r.top)!=null&&i.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const u=t.getRow(o,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(o=>e.find(u=>u.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=Te(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),ze(t.options,"debugRows")),t.getBottomRows=Te(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),ze(t.options,"debugRows")),t.getCenterRows=Te(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(a=>!i.has(a.id))},ze(t.options,"debugRows"))}},y8={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:pr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):i.forEach(a=>{delete r[a.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(a=>{hx(i,a.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Te(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?ag(t,n):{rows:[],flatRows:[],rowsById:{}},ze(t.options,"debugTable")),t.getFilteredSelectedRowModel=Te(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?ag(t,n):{rows:[],flatRows:[],rowsById:{}},ze(t.options,"debugTable")),t.getGroupedSelectedRowModel=Te(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?ag(t,n):{rows:[],flatRows:[],rowsById:{}},ze(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(a=>{var o;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return a;const u={...a};return hx(u,t.id,n,(o=r?.selectChildren)!=null?o:!0,e),u})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return _0(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return fx(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return fx(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},hx=(t,e,n,r,i)=>{var a;const o=i.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(u=>delete t[u]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(a=o.subRows)!=null&&a.length&&o.getCanSelectSubRows()&&o.subRows.forEach(u=>hx(t,u.id,n,r,i))};function ag(t,e){const n=t.getState().rowSelection,r=[],i={},a=function(o,u){return o.map(h=>{var f;const p=_0(h,n);if(p&&(r.push(h),i[h.id]=h),(f=h.subRows)!=null&&f.length&&(h={...h,subRows:a(h.subRows)}),p)return h}).filter(Boolean)};return{rows:a(e.rows),flatRows:r,rowsById:i}}function _0(t,e){var n;return(n=e[t.id])!=null?n:!1}function fx(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,a=!1;return t.subRows.forEach(o=>{if(!(a&&!i)&&(o.getCanSelect()&&(_0(o,e)?a=!0:i=!1),o.subRows&&o.subRows.length)){const u=fx(o,e);u==="all"?a=!0:(u==="some"&&(a=!0),i=!1)}}),i?"all":a?"some":!1}const mx=/([0-9]+)/gm,v8=(t,e,n)=>xk(Os(t.getValue(n)).toLowerCase(),Os(e.getValue(n)).toLowerCase()),b8=(t,e,n)=>xk(Os(t.getValue(n)),Os(e.getValue(n))),w8=(t,e,n)=>R0(Os(t.getValue(n)).toLowerCase(),Os(e.getValue(n)).toLowerCase()),S8=(t,e,n)=>R0(Os(t.getValue(n)),Os(e.getValue(n))),N8=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},j8=(t,e,n)=>R0(t.getValue(n),e.getValue(n));function R0(t,e){return t===e?0:t>e?1:-1}function Os(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function xk(t,e){const n=t.split(mx).filter(Boolean),r=e.split(mx).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),a=r.shift(),o=parseInt(i,10),u=parseInt(a,10),h=[o,u].sort();if(isNaN(h[0])){if(i>a)return 1;if(a>i)return-1;continue}if(isNaN(h[1]))return isNaN(o)?-1:1;if(o>u)return 1;if(u>o)return-1}return n.length-r.length}const ic={alphanumeric:v8,alphanumericCaseSensitive:b8,text:w8,textCaseSensitive:S8,datetime:N8,basic:j8},C8={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:pr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const a=i?.getValue(t.id);if(Object.prototype.toString.call(a)==="[object Date]")return ic.datetime;if(typeof a=="string"&&(r=!0,a.split(mx).length>1))return ic.alphanumeric}return r?ic.text:ic.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return qh(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:ic[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),a=typeof n<"u"&&n!==null;e.setSorting(o=>{const u=o?.find(v=>v.id===t.id),h=o?.findIndex(v=>v.id===t.id);let f=[],p,g=a?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?u?p="toggle":p="add":o!=null&&o.length&&h!==o.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(a||i||(p="remove")),p==="add"){var x;f=[...o,{id:t.id,desc:g}],f.splice(0,f.length-((x=e.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else p==="toggle"?f=o.map(v=>v.id===t.id?{...v,desc:g}:v):p==="remove"?f=o.filter(v=>v.id!==t.id):f=[{id:t.id,desc:g}];return f})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const a=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==a&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":a},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},k8=[YI,h8,l8,o8,QI,WI,f8,m8,C8,s8,p8,g8,x8,y8,u8];function E8(t){var e,n;const r=[...k8,...(e=t._features)!=null?e:[]];let i={_features:r};const a=i._features.reduce((x,v)=>Object.assign(x,v.getDefaultOptions==null?void 0:v.getDefaultOptions(i)),{}),o=x=>i.options.mergeOptions?i.options.mergeOptions(a,x):{...a,...x};let h={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(x=>{var v;h=(v=x.getInitialState==null?void 0:x.getInitialState(h))!=null?v:h});const f=[];let p=!1;const g={_features:r,options:{...a,...t},initialState:h,_queue:x=>{f.push(x),p||(p=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();p=!1}).catch(v=>setTimeout(()=>{throw v})))},reset:()=>{i.setState(i.initialState)},setOptions:x=>{const v=Ms(x,i.options);i.options=o(v)},getState:()=>i.options.state,setState:x=>{i.options.onStateChange==null||i.options.onStateChange(x)},_getRowId:(x,v,w)=>{var S;return(S=i.options.getRowId==null?void 0:i.options.getRowId(x,v,w))!=null?S:`${w?[w.id,v].join("."):v}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(x,v)=>{let w=(v?i.getPrePaginationRowModel():i.getRowModel()).rowsById[x];if(!w&&(w=i.getCoreRowModel().rowsById[x],!w))throw new Error;return w},_getDefaultColumnDef:Te(()=>[i.options.defaultColumn],x=>{var v;return x=(v=x)!=null?v:{},{header:w=>{const S=w.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:w=>{var S,C;return(S=(C=w.renderValue())==null||C.toString==null?void 0:C.toString())!=null?S:null},...i._features.reduce((w,S)=>Object.assign(w,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...x}},ze(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Te(()=>[i._getColumnDefs()],x=>{const v=function(w,S,C){return C===void 0&&(C=0),w.map(j=>{const E=GI(i,j,C,S),_=j;return E.columns=_.columns?v(_.columns,E,C+1):[],E})};return v(x)},ze(t,"debugColumns")),getAllFlatColumns:Te(()=>[i.getAllColumns()],x=>x.flatMap(v=>v.getFlatColumns()),ze(t,"debugColumns")),_getAllFlatColumnsById:Te(()=>[i.getAllFlatColumns()],x=>x.reduce((v,w)=>(v[w.id]=w,v),{}),ze(t,"debugColumns")),getAllLeafColumns:Te(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(x,v)=>{let w=x.flatMap(S=>S.getLeafColumns());return v(w)},ze(t,"debugColumns")),getColumn:x=>i._getAllFlatColumnsById()[x]};Object.assign(i,g);for(let x=0;x<i._features.length;x++){const v=i._features[x];v==null||v.createTable==null||v.createTable(i)}return i}function M0(){return t=>Te(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,a,o){a===void 0&&(a=0);const u=[];for(let f=0;f<i.length;f++){const p=k0(t,t._getRowId(i[f],f,o),i[f],f,a,void 0,o?.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,u.push(p),t.options.getSubRows){var h;p.originalSubRows=t.options.getSubRows(i[f],f),(h=p.originalSubRows)!=null&&h.length&&(p.subRows=r(p.originalSubRows,a+1,p))}}return u};return n.rows=r(e),n},ze(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function _8(t,e,n){return n.options.filterFromLeafRows?R8(t,e,n):M8(t,e,n)}function R8(t,e,n){var r;const i=[],a={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(h,f){f===void 0&&(f=0);const p=[];for(let x=0;x<h.length;x++){var g;let v=h[x];const w=k0(n,v.id,v.original,v.index,v.depth,void 0,v.parentId);if(w.columnFilters=v.columnFilters,(g=v.subRows)!=null&&g.length&&f<o){if(w.subRows=u(v.subRows,f+1),v=w,e(v)&&!w.subRows.length){p.push(v),a[v.id]=v,i.push(v);continue}if(e(v)||w.subRows.length){p.push(v),a[v.id]=v,i.push(v);continue}}else v=w,e(v)&&(p.push(v),a[v.id]=v,i.push(v))}return p};return{rows:u(t),flatRows:i,rowsById:a}}function M8(t,e,n){var r;const i=[],a={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(h,f){f===void 0&&(f=0);const p=[];for(let x=0;x<h.length;x++){let v=h[x];if(e(v)){var g;if((g=v.subRows)!=null&&g.length&&f<o){const S=k0(n,v.id,v.original,v.index,v.depth,void 0,v.parentId);S.subRows=u(v.subRows,f+1),v=S}p.push(v),i.push(v),a[v.id]=v}}return p};return{rows:u(t),flatRows:i,rowsById:a}}function A8(){return t=>Te(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let x=0;x<e.flatRows.length;x++)e.flatRows[x].columnFilters={},e.flatRows[x].columnFiltersMeta={};return e}const i=[],a=[];(n??[]).forEach(x=>{var v;const w=t.getColumn(x.id);if(!w)return;const S=w.getFilterFn();S&&i.push({id:x.id,filterFn:S,resolvedValue:(v=S.resolveFilterValue==null?void 0:S.resolveFilterValue(x.value))!=null?v:x.value})});const o=(n??[]).map(x=>x.id),u=t.getGlobalFilterFn(),h=t.getAllLeafColumns().filter(x=>x.getCanGlobalFilter());r&&u&&h.length&&(o.push("__global__"),h.forEach(x=>{var v;a.push({id:x.id,filterFn:u,resolvedValue:(v=u.resolveFilterValue==null?void 0:u.resolveFilterValue(r))!=null?v:r})}));let f,p;for(let x=0;x<e.flatRows.length;x++){const v=e.flatRows[x];if(v.columnFilters={},i.length)for(let w=0;w<i.length;w++){f=i[w];const S=f.id;v.columnFilters[S]=f.filterFn(v,S,f.resolvedValue,C=>{v.columnFiltersMeta[S]=C})}if(a.length){for(let w=0;w<a.length;w++){p=a[w];const S=p.id;if(p.filterFn(v,S,p.resolvedValue,C=>{v.columnFiltersMeta[S]=C})){v.columnFilters.__global__=!0;break}}v.columnFilters.__global__!==!0&&(v.columnFilters.__global__=!1)}}const g=x=>{for(let v=0;v<o.length;v++)if(x.columnFilters[o[v]]===!1)return!1;return!0};return _8(e.rows,g,t)},ze(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function yk(){return t=>Te(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],a=r.filter(h=>{var f;return(f=t.getColumn(h.id))==null?void 0:f.getCanSort()}),o={};a.forEach(h=>{const f=t.getColumn(h.id);f&&(o[h.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const u=h=>{const f=h.map(p=>({...p}));return f.sort((p,g)=>{for(let v=0;v<a.length;v+=1){var x;const w=a[v],S=o[w.id],C=S.sortUndefined,j=(x=w?.desc)!=null?x:!1;let E=0;if(C){const _=p.getValue(w.id),A=g.getValue(w.id),O=_===void 0,z=A===void 0;if(O||z){if(C==="first")return O?-1:1;if(C==="last")return O?1:-1;E=O&&z?0:O?C:-C}}if(E===0&&(E=S.sortingFn(p,g,w.id)),E!==0)return j&&(E*=-1),S.invertSorting&&(E*=-1),E}return p.index-g.index}),f.forEach(p=>{var g;i.push(p),(g=p.subRows)!=null&&g.length&&(p.subRows=u(p.subRows))}),f};return{rows:u(n.rows),flatRows:i,rowsById:n.rowsById}},ze(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}function Pl(t,e){return t?T8(t)?N.createElement(t,e):t:null}function T8(t){return z8(t)||typeof t=="function"||O8(t)}function z8(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function O8(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function A0(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=N.useState(()=>({current:E8(e)})),[r,i]=N.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}const no={all:["watchlists"]},QS=[];function T0(){return nn({queryKey:no.all,queryFn:async()=>{try{const{data:t}=await je.get("/watchlists");return Array.isArray(t)&&t.length>0?t:QS}catch(t){return console.error("Failed to fetch watchlists:",t),QS}},retry:1,staleTime:1e3*60,refetchOnWindowFocus:!1})}function D8(){const t=Kn();return vi({mutationFn:async e=>{const{data:n}=await je.post("/watchlists",{name:e});return n},onSuccess:()=>{t.invalidateQueries({queryKey:no.all})}})}function P8(){const t=Kn();return vi({mutationFn:async e=>(await je.delete(`/watchlists/${e}`),e),onSuccess:()=>{t.invalidateQueries({queryKey:no.all})}})}function L8(){const t=Kn();return vi({mutationFn:async({id:e,name:n})=>(await je.patch(`/watchlists/${e}`,{name:n}),{id:e,name:n}),onSuccess:()=>{t.invalidateQueries({queryKey:no.all})}})}function F8(){const t=Kn();return vi({mutationFn:async({watchlistId:e,symbol:n})=>{const{data:r}=await je.post(`/watchlists/${e}/items`,{symbol:n});return r},onSuccess:()=>{t.invalidateQueries({queryKey:no.all})}})}function B8(){const t=Kn();return vi({mutationFn:async({watchlistId:e,itemId:n})=>(await je.delete(`/watchlists/${e}/items/${n}`),n),onSuccess:()=>{t.invalidateQueries({queryKey:no.all})}})}const bd=[];function I8(t){return nn({queryKey:["market-data","snapshots",t],queryFn:async()=>{if(t.length===0)return bd;try{const{data:e}=await je.post("/market-data/snapshots",{symbols:t});return Array.isArray(e)&&e.length>0?e:bd}catch(e){return console.error("Failed to fetch market snapshots:",e),bd}},enabled:t.length>0,placeholderData:bd,staleTime:1e3*30,retry:1,refetchOnWindowFocus:!1})}const lg=[];function U8(t){return nn({queryKey:["tickers","search",t],queryFn:async()=>{if(t.trim().length<2)return lg;try{const{data:e}=await je.get(`/tickers?search=${t}`);return Array.isArray(e)&&e.length>0?e:lg}catch(e){return console.error("Failed to search tickers:",e),lg}},enabled:t.trim().length>=2,placeholderData:e=>e,retry:1,refetchOnWindowFocus:!1,staleTime:1e3*10})}function tn({className:t,...e}){return c.jsx("div",{className:Fe("animate-pulse rounded-md bg-muted",t),...e})}function H8({data:t,isLoading:e,onRemove:n,sorting:r,setSorting:i,columnFilters:a,setColumnFilters:o,globalFilter:u,setGlobalFilter:h,tableRef:f}){const p=_t(),g=N.useMemo(()=>{const v=C0();return[v.accessor("symbol",{header:"Asset",cell:w=>{const S=w.row.original.researchCount,C=w.row.original.newsCount,j=w.row.original.socialCount,E=(S||0)+(C||0)+(j||0)>0;return c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"cursor-pointer",onClick:()=>p(`/ticker/${w.getValue()}`),children:c.jsx(mr,{url:w.row.original.logo,symbol:w.getValue(),className:"w-10 h-10 rounded-full"})}),c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-base font-bold text-foreground hover:underline cursor-pointer",onClick:()=>p(`/ticker/${w.getValue()}`),children:w.getValue()}),E&&c.jsxs("div",{className:"flex items-center gap-2",children:[S?c.jsxs("div",{className:"flex items-center gap-0.5 text-purple-400",title:`${S} Reports`,children:[c.jsx(Nn,{size:10}),c.jsx("span",{className:"text-[9px] font-medium",children:S})]}):null,C?c.jsxs("div",{className:"flex items-center gap-0.5 text-sky-400",title:`${C} News`,children:[c.jsx(fi,{size:10}),c.jsx("span",{className:"text-[9px] font-medium",children:C})]}):null,j?c.jsxs("div",{className:"flex items-center gap-0.5 text-blue-400",title:`${j} Social`,children:[c.jsx(Zl,{size:10}),c.jsx("span",{className:"text-[9px] font-medium",children:j})]}):null]})]}),c.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[180px]",title:w.row.original.company,children:w.row.original.company})]})]})}}),v.accessor(w=>w.change,{id:"price_change",header:"Price / Change",cell:w=>{const S=w.getValue(),C=w.row.original.price;if(!C)return"-";const j=(S||0)>=0;return c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsxs("span",{className:"text-sm font-mono font-medium text-foreground/70",children:["$",C.toFixed(2)]}),S!=null?c.jsxs("div",{className:Fe("flex items-center text-xs font-bold",j?"text-emerald-500":"text-red-500"),children:[j?c.jsx(Yn,{size:12,className:"mr-0.5"}):c.jsx(Vr,{size:12,className:"mr-0.5"}),Math.abs(S).toFixed(2),"%"]}):c.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})]})}}),v.accessor(w=>w.marketCap,{id:"market_cap",header:"Mkt Cap",cell:w=>{const S=w.getValue();if(!S||S===0)return c.jsx("span",{className:"text-muted-foreground",children:"-"});const C=j=>j>=1e12?(j/1e12).toFixed(2)+"T":j>=1e9?(j/1e9).toFixed(2)+"B":(j/1e6).toFixed(2)+"M";return c.jsx("span",{className:"font-mono text-muted-foreground text-xs",children:C(S)})}}),v.accessor(w=>w.pe,{id:"pe_ttm",header:"P/E",cell:w=>{const S=w.getValue();return S?c.jsx("span",{className:"font-mono text-muted-foreground text-xs",children:Number(S).toFixed(2)}):"-"}}),v.accessor(w=>w.riskScore,{id:"financial_risk",header:"Risk",cell:w=>{const S=w.getValue();if(S==null)return"-";let C="text-muted-foreground",j=fr;return S<=3.5?(C="text-emerald-500",j=fr):S<=6.5?(C="text-yellow-500",j=mn):(C="text-red-500",j=Jl),c.jsxs("span",{className:Fe("flex items-center gap-1.5 font-bold",C),children:[c.jsx(j,{size:14}),Number(S).toFixed(1)]})}}),v.accessor(w=>w.overallScore,{id:"overall_score",header:"Risk/Reward",cell:w=>{const S=w.getValue();if(S==null)return"-";let C="text-muted-foreground";return S>=7.5?C="text-emerald-500":S>=5?C="text-yellow-500":C="text-red-500",c.jsx("span",{className:Fe("font-bold",C),children:Number(S).toFixed(1)})}}),v.accessor(w=>w.potentialUpside,{id:"upside_percent",header:"Upside",cell:w=>{const S=w.getValue();if(S==null)return"-";const C=Number(S),j=C>0;return c.jsxs("div",{className:Fe("flex items-center font-bold text-xs",j?"text-emerald-500":"text-muted-foreground"),children:[j&&c.jsx(Yn,{size:12,className:"mr-0.5"}),C.toFixed(1),"%"]})}}),v.accessor(w=>w.aiRating,{id:"ai_rating",header:"AI Rating",cell:w=>{const S=w.getValue();if(!S||S==="-")return c.jsx("span",{className:"text-muted-foreground",children:"-"});let C="outline";return S==="Strong Buy"?C="strongBuy":S==="Buy"?C="buy":S==="Hold"?C="hold":S==="Sell"?C="sell":S==="Speculative Buy"&&(C="speculativeBuy"),c.jsxs(Oe,{variant:C,className:"whitespace-nowrap h-6 px-2 gap-1.5 cursor-default",children:[c.jsx(Qn,{size:12,className:"opacity-80"}),S]})}}),v.accessor("rating",{header:"Analyst",cell:w=>{const S=w.getValue();if(!S||S==="-")return c.jsx("span",{className:"text-muted-foreground",children:"-"});const C=S.toLowerCase();let j="Hold",E="hold";C.includes("strong buy")?(j="Strong Buy",E="strongBuy"):C.includes("buy")?(j="Buy",E="buy"):C.includes("sell")?(j="Sell",E="sell"):(j="Hold",E="hold");const _=w.row.original.analystCount,A=_>0?`${j} (${_})`:j;return c.jsx(Oe,{variant:E,className:"whitespace-nowrap h-6 px-2",children:A})}}),v.display({id:"actions",header:"",cell:w=>c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:c.jsx(O3,{className:"h-4 w-4"})}),c.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:S=>{S.stopPropagation(),n(w.row.original.itemId||"",w.row.original.symbol)},title:"Remove from watchlist",children:c.jsx(zs,{className:"h-4 w-4"})})]})})]},[p,n]),x=A0({data:t,columns:g,getCoreRowModel:M0(),getSortedRowModel:yk(),getFilteredRowModel:A8(),onSortingChange:i,onGlobalFilterChange:h,onColumnFiltersChange:o,state:{sorting:r,globalFilter:u,columnFilters:a},initialState:{columnVisibility:{sector:!1}}});return f&&(f.current=x),c.jsx("div",{className:"rounded-md border border-border bg-card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full caption-bottom text-sm",children:[c.jsx("thead",{className:"[&_tr]:border-b",children:x.getHeaderGroups().map(v=>c.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:v.headers.map(w=>c.jsx("th",{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground hover:text-foreground cursor-pointer select-none whitespace-nowrap",onClick:w.column.getToggleSortingHandler(),children:c.jsxs("div",{className:"flex items-center gap-1",children:[Pl(w.column.columnDef.header,w.getContext()),{asc:c.jsx(t0,{className:"ml-1 h-3 w-3"}),desc:c.jsx(Zx,{className:"ml-1 h-3 w-3"})}[w.column.getIsSorted()]??null]})},w.id))},v.id))}),c.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:e?Array.from({length:5}).map((v,w)=>c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(tn,{className:"h-8 w-8 rounded-full"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(tn,{className:"h-4 w-12"}),c.jsx(tn,{className:"h-3 w-20"})]})]})}),x.getVisibleFlatColumns().slice(1).map(S=>c.jsx("td",{className:"p-4",children:c.jsx(tn,{className:"h-4 w-full"})},S.id))]},w)):x.getRowModel().rows.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:g.length,className:"h-24 text-center text-muted-foreground",children:c.jsxs("div",{className:"flex flex-col items-center justify-center max-w-sm mx-auto p-6 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-muted/50 rounded-full flex items-center justify-center mb-4",children:c.jsx(Qi,{className:"w-6 h-6 text-muted-foreground/50"})}),c.jsx("h3",{className:"font-medium text-foreground mb-1",children:"Watchlist is empty"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add your first ticker to track its performance."})]})})}):x.getRowModel().rows.map(v=>c.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted cursor-pointer",onClick:()=>p(`/ticker/${v.original.symbol}`),children:v.getVisibleCells().map(w=>c.jsx("td",{className:"p-4 align-middle whitespace-nowrap",children:Pl(w.column.columnDef.cell,w.getContext())},w.id))},v.id))})]})})})}function V8({data:t,isLoading:e,onRemove:n}){const r=_t(),{data:i}=T0(),a=t2(),o=i?.find(h=>h.name==="Favourites"),u=new Set(o?.items?.map(h=>h.ticker.symbol)||[]);return e?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Array.from({length:8}).map((h,f)=>c.jsx("div",{className:"h-48 rounded-lg border border-border bg-card animate-pulse"},f))}):t.length===0?c.jsx("div",{className:"text-center py-12 text-muted-foreground bg-card/50 rounded-lg border border-border",children:"Watchlist is empty."}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(h=>{const{symbol:f,logo:p,company:g,price:x,change:v,riskScore:w,overallScore:S,potentialUpside:C,aiRating:j,itemId:E}=h,_=w||0,A=C||0,O=u.has(f);let z="text-muted-foreground",F=fr;_<=3.5?(z="text-emerald-500 font-bold",F=fr):_<=6.5?(z="text-yellow-500 font-bold",F=mn):(z="text-red-500 font-bold",F=Jl);let P="outline";return j==="Strong Buy"?P="strongBuy":j==="Buy"?P="buy":j==="Hold"?P="hold":j==="Sell"?P="sell":j==="Speculative Buy"&&(P="speculativeBuy"),c.jsxs("div",{className:"watchlist-tile group flex flex-col p-4 rounded-lg border border-border bg-transparent hover:border-primary/50 transition-all shadow-sm hover:shadow-md h-full relative",children:[n&&c.jsx("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive bg-card/80 backdrop-blur-sm",onClick:$=>{$.stopPropagation(),n(E||"",f)},children:c.jsx(zs,{className:"h-3 w-3"})})}),!n&&c.jsx("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(pe,{variant:"ghost",size:"icon",className:Fe("h-6 w-6 bg-card/80 backdrop-blur-sm transition-colors",O?"text-yellow-500 hover:text-yellow-600":"text-muted-foreground hover:text-yellow-500"),onClick:$=>{$.stopPropagation(),a.mutate(f)},disabled:a.isPending,children:c.jsx(Xg,{className:Fe("h-4 w-4",O&&"fill-current")})})}),c.jsxs("div",{className:"cursor-pointer flex-1",onClick:()=>r(`/ticker/${f}`),children:[c.jsx("div",{className:"flex items-start justify-between mb-3",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(mr,{url:p,symbol:f,className:"w-12 h-12 shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("div",{className:"font-bold text-xl leading-none",children:f}),j&&j!=="-"&&c.jsxs(Oe,{variant:P,className:"text-xs h-6 px-2 whitespace-nowrap gap-1 ml-auto",children:[c.jsx(Qn,{size:12,className:"opacity-80"}),j]})]}),c.jsxs("div",{className:"flex flex-col gap-0.5 mt-1",children:[c.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:g}),c.jsx("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:c.jsx("div",{className:"text-xs text-muted-foreground/70 truncate",children:h.sector})})]})]})]})}),c.jsxs("div",{className:"mt-auto space-y-3",children:[c.jsxs("div",{className:"flex items-end justify-between border-b border-border pb-3",children:[c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsxs("span",{className:"text-lg font-mono font-medium",children:["$",typeof x=="number"?x.toFixed(2):"0.00"]}),h.rating&&h.rating!=="-"&&(()=>{const $=h.rating.toLowerCase();let L="Hold",q="hold";return $.includes("strong buy")?(L="Strong Buy",q="strongBuy"):$.includes("buy")?(L="Buy",q="buy"):$.includes("sell")?(L="Sell",q="sell"):(L="Hold",q="hold"),c.jsxs(Oe,{variant:q,className:"h-4 px-1.5 whitespace-nowrap gap-1",children:[c.jsx("span",{className:"opacity-70 font-normal mr-0.5",children:"Consensus:"}),L," ",h.analystCount>0?`(${h.analystCount})`:""]})})()]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-0.5",children:"Today"}),c.jsxs("div",{className:Fe("flex items-center gap-0.5 text-lg font-mono font-bold",v>=0?"text-emerald-500":"text-red-500"),children:[v>=0?c.jsx(Yn,{size:20}):c.jsx(Vr,{size:20}),typeof v=="number"?Math.abs(v).toFixed(2):"0.00","%"]})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3 mb-1",children:[c.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-1 rounded font-medium border border-border/50",children:[c.jsx(F,{size:12,className:z.replace("text-","text-").split(" ")[0]}),c.jsx("span",{className:"text-muted-foreground",children:"Risk:"}),c.jsx("span",{className:z,children:typeof _=="number"?Math.round(_):"0"})]}),c.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-1 rounded font-medium border border-border/50",children:[c.jsx(Qn,{size:12,className:S&&S>=7.5?"text-emerald-500":S&&S>=5?"text-yellow-500":"text-red-500"}),c.jsx("span",{className:"text-muted-foreground",children:"R/R:"}),c.jsx("span",{className:Fe("font-bold",S&&S>=7.5?"text-emerald-500":S&&S>=5?"text-yellow-500":"text-red-500"),children:Number(S||0).toFixed(1)})]}),c.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-1 rounded font-medium border border-border/50",children:[c.jsx(Yn,{size:12,className:A>0?"text-emerald-500":"text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Upside:"}),c.jsxs("span",{className:A>0?"text-emerald-500 font-bold":"text-muted-foreground font-bold",children:[A>0?"+":"",typeof A=="number"?A.toFixed(1):"0.0","%"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-border/50 text-xs",children:[h.researchCount>0&&c.jsxs("span",{className:"flex items-center gap-1 text-purple-400 font-medium bg-purple-400/10 px-1.5 py-0.5 rounded",children:[c.jsx(Nn,{size:12})," ",h.researchCount]}),h.newsCount>0&&c.jsxs("span",{className:"flex items-center gap-1 text-sky-400 font-medium bg-sky-400/10 px-1.5 py-0.5 rounded",children:[c.jsx(fi,{size:12})," ",h.newsCount]}),h.socialCount>0&&c.jsxs("span",{className:"flex items-center gap-1 text-blue-400 font-medium bg-blue-400/10 px-1.5 py-0.5 rounded",children:[c.jsx(Zl,{size:12})," ",h.socialCount]}),c.jsxs("span",{className:"ml-auto flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-0.5 rounded font-medium border border-border/50",children:[c.jsx(Vr,{size:10,className:_>5?"text-red-500":"text-amber-500"}),c.jsx("span",{className:"text-muted-foreground",children:"Downside:"}),c.jsxs("span",{className:_>5?"text-red-500 font-bold":"text-amber-500 font-bold",children:["-",typeof _=="number"?(_*2.5).toFixed(1):"0.0","%"]})]})]})]})]})]},f)})})}const WS=[],KS=[],$8=[],q8=[];function G8(){const{showToast:t}=eD(),{data:e=[],isLoading:n}=T0(),[r,i]=N.useState(null),[a,o]=N.useState(()=>window.innerWidth<768?"grid":"table"),[u,h]=N.useState([]),[f,p]=N.useState([]),[g,x]=N.useState(""),[v,w]=N.useState(""),[S,C]=N.useState(!1),[j,E]=N.useState(!1),[_,A]=N.useState(!1),[O,z]=N.useState(-1),F=N.useDeferredValue(v),P=N.useRef(null),$=N.useRef(null),L=N.useRef(null),q=D8(),J=P8(),de=L8(),se=F8(),te=B8(),B=U8(F),Y=N.useMemo(()=>!e||e.length===0?null:r&&e.find(oe=>oe.id===r)?r:e[0].id,[e,r]),V=N.useMemo(()=>Y&&e.find(oe=>oe.id===Y)||null,[e,Y]),ge=N.useMemo(()=>!V||!V.items?KS:Array.isArray(V.items)?V.items:KS,[V]),T=N.useMemo(()=>{if(!ge||ge.length===0)return WS;const oe=ge.filter(ke=>ke&&ke.ticker&&ke.ticker.symbol).map(ke=>ke.ticker.symbol);return oe.length===0?WS:oe},[ge]),{data:D,isLoading:Q}=I8(T),M=N.useMemo(()=>!V||!D||!Array.isArray(D)?$8:D.filter(oe=>oe&&oe.ticker&&oe.ticker.symbol).map(oe=>{const ke=Number(oe.latestPrice?.close||0),vt=Number(oe.latestPrice?.prevClose||ke),Zn=vt>0?(ke-vt)/vt*100:0,Rt=oe.fundamentals||{},gr=oe.aiAnalysis?.financial_risk,Wr=typeof gr=="number"?gr:Number(gr),ft=Number.isFinite(Wr)?Wr:null;let An="-";if(oe.aiAnalysis&&ft!==null){const Pe=Number(oe.aiAnalysis.upside_percent||0),{rating:Ve}=Ra(ft,Pe,oe.aiAnalysis?.overall_score);An=Ve}else An="-";const Vt=ge.find(Pe=>Pe.ticker.symbol===oe.ticker?.symbol),Zi=oe.aiAnalysis?.bear_price,re=oe.aiAnalysis?.base_price;let fe=null,Ee=null;return typeof re=="number"&&ke>0?Ee=(re-ke)/ke*100:Ee=oe.aiAnalysis?.upside_percent??null,typeof Zi=="number"&&ke>0?fe=(Zi-ke)/ke*100:ft!==null&&(ft>=8?fe=-100:ft>0&&(fe=-(ft*2.5))),{symbol:oe.ticker?.symbol||"UNKNOWN",logo:oe.ticker?.logo_url,company:oe.ticker?.name||"Unknown",sector:oe.ticker?.industry||oe.ticker?.sector||Rt.sector||"Others",price:ke,change:Zn,pe:Rt.pe_ttm??null,marketCap:Rt.market_cap??null,potentialUpside:Ee,potentialDownside:fe,riskScore:ft,overallScore:oe.aiAnalysis?.overall_score??null,rating:Rt.consensus_rating||"-",aiRating:An,newsCount:oe.counts?.news||0,researchCount:oe.counts?.research||0,analystCount:oe.counts?.analysts||0,socialCount:oe.counts?.social||0,itemId:Vt?.id}}),[D,V,ge]),ne=N.useMemo(()=>{if(!M||M.length===0)return q8;const oe=new Set(M.filter(ke=>ke&&ke.sector).map(ke=>ke.sector));return Array.from(oe).sort()},[M]),ue=n||Q&&T.length>0,H=N.useMemo(()=>f.find(ke=>ke.id==="sector")?.value||null,[f]),ce=N.useCallback(()=>{const oe=prompt("Enter new watchlist name:","New Watchlist");oe&&q.mutate(oe,{onSuccess:ke=>{i(ke.id),t("Watchlist created","success")}})},[q,t]),ve=N.useCallback(()=>{if(!Y||!V)return;const oe=prompt("Rename watchlist:",V.name);oe&&oe!==V.name&&de.mutate({id:Y,name:oe},{onSuccess:()=>t("Watchlist renamed","success")})},[Y,V,de,t]),Ae=N.useCallback(oe=>{const ke=e.find(Zn=>Zn.id===oe);!ke||!window.confirm(`Delete watchlist "${ke.name}"?`)||J.mutate(oe,{onSuccess:()=>t("Watchlist deleted","success")})},[e,J,t]),tt=N.useCallback((oe,ke)=>{Y&&te.mutate({watchlistId:Y,itemId:oe},{onSuccess:()=>t(`${ke} removed`,"success"),onError:()=>t("Failed to remove ticker","error")})},[Y,te,t]),dt=N.useCallback(oe=>{if(!Y){t("No active watchlist","error");return}if(ge&&ge.some(ke=>ke.ticker.symbol===oe)){t(`${oe} is already in the watchlist`,"error"),w(""),A(!1);return}se.mutate({watchlistId:Y,symbol:oe},{onSuccess:()=>{t(`${oe} added`,"success"),w(""),A(!1)},onError:ke=>{const vt=ke?.response?.data?.message||"Failed to add ticker";t(vt,"error")}})},[Y,ge,se,t]);N.useEffect(()=>{const oe=!!(B.data&&B.data.length>0),ke=setTimeout(()=>{A(oe)},0);return()=>clearTimeout(ke)},[B.data]);const Nt=N.useCallback(()=>{C(!1),E(!1),A(!1)},[]),Jn=N.useCallback(oe=>{const ke=B.data||[];if(!_||ke.length===0){oe.key==="Enter"&&v.trim()&&dt(v.toUpperCase());return}oe.key==="ArrowDown"?(oe.preventDefault(),z(vt=>Math.min(vt+1,ke.length-1))):oe.key==="ArrowUp"?(oe.preventDefault(),z(vt=>Math.max(vt-1,-1))):oe.key==="Enter"?(oe.preventDefault(),O>=0&&O<ke.length?dt(ke[O].symbol):v.trim()&&dt(v.toUpperCase())):oe.key==="Escape"&&A(!1)},[B.data,_,v,O,dt]),rn=oe=>{p(ke=>{const vt=ke.filter(Zn=>Zn.id!=="sector");return oe?[...vt,{id:"sector",value:oe}]:vt})};return c.jsxs("div",{className:"w-full space-y-4",children:[c.jsxs("div",{className:"flex flex-col gap-4 p-1",children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:c.jsx("div",{className:"flex items-center gap-3 justify-between sm:justify-start w-full sm:w-auto",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsxs(pe,{variant:"ghost",onClick:()=>C(!S),className:"justify-start px-2 hover:bg-muted/50 gap-2 h-10",children:[c.jsx("span",{className:"truncate font-bold text-xl",children:V?.name||"Select Watchlist"}),c.jsx(Kw,{className:`w-4 h-4 opacity-50 transition-transform duration-200 ${S?"rotate-180":""}`})]}),S&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:Nt}),c.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-popover border border-border rounded-md shadow-xl z-50 py-1 max-h-60 overflow-y-auto animate-in fade-in zoom-in-95 duration-100",children:[e.map(oe=>c.jsxs("button",{onClick:()=>{i(oe.id),C(!1)},className:Fe("w-full text-left px-3 py-2 text-sm flex items-center justify-between transition-colors",Y===oe.id?"bg-accent/50 text-accent-foreground font-medium":"text-foreground hover:bg-muted/50"),children:[c.jsx("span",{className:"truncate",children:oe.name}),Y===oe.id&&c.jsx(dc,{className:"w-3.5 h-3.5 text-primary"})]},oe.id)),c.jsx("div",{className:"border-t border-border mt-1 pt-1 px-1",children:c.jsxs("button",{onClick:()=>{C(!1),ce()},className:"w-full flex items-center gap-2 px-2 py-1.5 text-xs text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded-sm transition-colors",children:[c.jsx(Fh,{className:"w-3 h-3"})," Create New List"]})})]})]})]}),Y&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(pe,{variant:"ghost",size:"icon",onClick:ve,className:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Rename List","aria-label":"Rename watchlist",children:c.jsx(QC,{className:"w-3.5 h-3.5"})}),c.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>Ae(Y),className:"h-8 w-8 text-muted-foreground hover:text-destructive",title:"Delete List","aria-label":"Delete watchlist",children:c.jsx(zs,{className:"w-3.5 h-3.5"})})]})]})})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Qi,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground w-3.5 h-3.5"}),c.jsx("input",{ref:P,type:"text",placeholder:"Add stock...",value:v,onChange:oe=>w(oe.target.value),onKeyDown:Jn,disabled:se.isPending,className:"h-9 w-full bg-transparent border border-border rounded-md pl-9 pr-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary placeholder:text-muted-foreground hover:bg-accent/10 transition-all bg-card/50"}),_&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:Nt}),c.jsx("div",{ref:$,className:"absolute top-full left-0 mt-2 w-full sm:w-[300px] bg-[#09090b] !bg-opacity-100 border border-border rounded-lg shadow-xl z-50 overflow-hidden animate-in slide-in-from-top-1 !opacity-100",children:c.jsx("div",{className:"py-1 max-h-[300px] overflow-y-auto",children:B.data?.map((oe,ke)=>c.jsxs("button",{onClick:()=>dt(oe.symbol),className:Fe("w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-muted/50 transition-colors border-b border-border/50 last:border-0",O===ke&&"bg-muted/50"),children:[c.jsx("div",{className:"bg-background p-1.5 rounded-md border border-border/50 shadow-sm",children:c.jsx(mr,{url:oe.logo_url,symbol:oe.symbol,className:"w-6 h-6"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-bold text-sm text-foreground",children:oe.symbol}),c.jsx(Oe,{variant:"outline",className:"text-[10px] h-5 px-1.5 font-normal text-muted-foreground",children:oe.exchange})]}),c.jsx("span",{className:"text-xs text-muted-foreground truncate block mt-0.5",children:oe.name})]})]},oe.symbol))})})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Qi,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground w-3.5 h-3.5"}),c.jsx("input",{type:"text",placeholder:"Filter watchlist...",value:g??"",onChange:oe=>x(oe.target.value),className:"h-9 w-full bg-transparent border border-border rounded-md pl-9 pr-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary placeholder:text-muted-foreground hover:bg-accent/10 transition-all bg-card/50"})]}),c.jsxs("div",{className:"flex items-center space-x-1 border border-border rounded-md p-1 bg-card shrink-0 h-9",children:[c.jsx("button",{onClick:()=>o("table"),className:`p-1.5 rounded transition-colors ${a==="table"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,title:"Table View",children:c.jsx(i0,{size:16})}),c.jsx("button",{onClick:()=>o("grid"),className:`p-1.5 rounded transition-colors ${a==="grid"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,title:"Grid View",children:c.jsx(r0,{size:16})})]})]}),c.jsxs("div",{className:"relative w-full sm:w-auto",children:[c.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>E(!j),className:Fe("w-full sm:w-auto h-9 gap-2 justify-between sm:justify-center border-border/60",H&&"text-primary border-primary/50 bg-primary/5"),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($3,{className:"w-3.5 h-3.5"}),c.jsx("span",{className:"text-sm",children:H||"Sector"})]}),H?c.jsx("div",{className:"p-0.5 hover:bg-background/20 rounded-full cursor-pointer ml-1",onClick:oe=>{oe.stopPropagation(),rn(void 0)},children:c.jsx(Ea,{className:"w-3 h-3"})}):c.jsx(Kw,{className:"w-3.5 h-3.5 opacity-50 block sm:hidden"})]}),j&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:Nt}),c.jsxs("div",{className:"absolute top-full right-0 mt-1 w-full sm:w-56 bg-popover border border-border rounded-md shadow-lg z-50 py-1 max-h-80 overflow-y-auto animate-in fade-in zoom-in-95",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider border-b border-border mb-1",children:"Filter by Sector"}),c.jsxs("button",{onClick:()=>{rn(void 0),E(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-muted/50 flex items-center justify-between transition-colors",children:[c.jsx("span",{className:"text-muted-foreground",children:"All Sectors"}),!H&&c.jsx(dc,{className:"w-3.5 h-3.5 text-primary"})]}),ne.map(oe=>c.jsxs("button",{onClick:()=>{rn(oe),E(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-muted/50 flex items-center justify-between transition-colors",children:[c.jsx("span",{className:"truncate text-foreground",children:oe}),H===oe&&c.jsx(dc,{className:"w-3.5 h-3.5 text-primary"})]},oe))]})]})]})]})]}),a==="table"?c.jsx(H8,{data:M,isLoading:ue,onRemove:tt,sorting:u,setSorting:h,columnFilters:f,setColumnFilters:p,globalFilter:g,setGlobalFilter:x,tableRef:L}):c.jsx(V8,{data:M.filter(oe=>{if(H&&oe.sector!==H)return!1;if(g){const ke=g.toLowerCase();return oe.symbol.toLowerCase().includes(ke)||oe.company.toLowerCase().includes(ke)||oe.sector.toLowerCase().includes(ke)}return!0}),isLoading:ue,onRemove:tt})]})}class fh extends N.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?c.jsxs("div",{className:"min-h-[50vh] flex flex-col items-center justify-center p-6 text-center",children:[c.jsx("div",{className:"bg-red-500/10 p-4 rounded-full mb-4",children:c.jsx(mn,{className:"w-12 h-12 text-red-500"})}),c.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),c.jsxs("p",{className:"text-muted-foreground max-w-md mb-6",children:["We encountered an unexpected error while rendering this component.",this.state.error?.message&&c.jsx("span",{className:"block mt-2 font-mono text-xs bg-muted p-2 rounded text-red-400",children:this.state.error.message})]}),c.jsxs(pe,{onClick:()=>window.location.reload(),className:"gap-2",children:[c.jsx(s0,{size:16}),"Reload Application"]})]}):this.props.children}}function XS(){return c.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/30",children:[c.jsx(Ar,{}),c.jsx("main",{className:"container mx-auto px-4 py-6 max-w-[80rem] space-y-4 sm:space-y-6 animate-in fade-in duration-500",children:c.jsx(fh,{children:c.jsx(G8,{})})})]})}function Y8({data:t,columns:e,sorting:n,setSorting:r,navigate:i,isLoading:a}){const o=A0({data:t,columns:e,state:{sorting:n},manualPagination:!0,manualSorting:!0,onSortingChange:r,getCoreRowModel:M0()});return c.jsx("div",{className:"rounded-md border border-border bg-card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full caption-bottom text-sm",children:[c.jsx("thead",{className:"[&_tr]:border-b",children:o.getHeaderGroups().map(u=>c.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:u.headers.map(h=>c.jsx("th",{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground hover:text-foreground cursor-pointer select-none whitespace-nowrap",onClick:h.column.getToggleSortingHandler(),children:c.jsxs("div",{className:"flex items-center gap-1",children:[Pl(h.column.columnDef.header,h.getContext()),{asc:c.jsx(t0,{className:"ml-1 h-3 w-3"}),desc:c.jsx(Zx,{className:"ml-1 h-3 w-3"})}[h.column.getIsSorted()]??null]})},h.id))},u.id))}),c.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:a?Array.from({length:5}).map((u,h)=>c.jsx("tr",{className:"border-b",children:o.getVisibleFlatColumns().map(f=>c.jsx("td",{className:"p-4",children:f.id==="ticker_symbol"?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(tn,{className:"h-8 w-8 rounded-full"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(tn,{className:"h-4 w-12"}),c.jsx(tn,{className:"h-3 w-20"})]})]}):c.jsx(tn,{className:"h-4 w-full max-w-[100px]"})},f.id))},h)):t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:e.length,className:"h-24 text-center text-muted-foreground",children:"No stocks found."})}):o.getRowModel().rows.map(u=>c.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted cursor-pointer",onClick:()=>i(`/ticker/${u.original.ticker.symbol}`),children:u.getVisibleCells().map(h=>c.jsx("td",{className:"p-4 align-middle whitespace-nowrap",children:Pl(h.column.columnDef.cell,h.getContext())},h.id))},u.id))})]})})})}function Q8({data:t,isLoading:e}){const n=_t();return e?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Array.from({length:8}).map((r,i)=>c.jsx("div",{className:"h-48 rounded-lg border border-border bg-card animate-pulse"},i))}):t.length===0?c.jsx("div",{className:"text-center py-12 text-muted-foreground bg-card/50 rounded-lg border border-border",children:"No stocks found."}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(r=>{const{ticker:i,latestPrice:a,aiAnalysis:o,fundamentals:u,counts:h}=r,f=a?.close??0,p=a?.change??0,g=o?.financial_risk??0,x=o?.base_price,v=o?.bear_price;let w=0;typeof x=="number"&&f>0?w=(x-f)/f*100:w=Number(o?.upside_percent??0);let S=0;typeof v=="number"&&f>0?S=(v-f)/f*100:g>=8?S=-100:S=-(g*2.5);let C="text-muted-foreground",j=fr;g<=3.5?(C="text-emerald-500 font-bold",j=fr):g<=6.5?(C="text-yellow-500 font-bold",j=mn):(C="text-red-500 font-bold",j=Jl);const E=Sa(f,o?.base_price,o?.upside_percent),{rating:_,variant:A}=Ra(g,E,o?.overall_score),O=u?.consensus_rating;return c.jsxs("div",{onClick:()=>n(`/ticker/${i.symbol}`),className:"group flex flex-col p-4 rounded-lg border border-border bg-transparent hover:border-primary/50 transition-all cursor-pointer shadow-sm hover:shadow-md h-full relative",children:[c.jsx("div",{className:"flex items-start justify-between mb-3",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(mr,{url:i.logo_url,symbol:i.symbol,className:"w-12 h-12 shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("div",{className:"font-bold text-xl leading-none",children:i.symbol}),c.jsxs(Oe,{variant:A,className:"text-xs h-6 px-2 whitespace-nowrap gap-1 ml-auto",children:[c.jsx(Qn,{size:12,className:"opacity-80"}),_]})]}),c.jsxs("div",{className:"flex flex-col gap-0.5 mt-1",children:[c.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:i.name}),c.jsx("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:c.jsx("div",{className:"text-xs text-muted-foreground/70 truncate",children:i.industry||i.sector||u?.sector||"Unknown"})})]})]})]})}),c.jsxs("div",{className:"mt-auto space-y-3",children:[c.jsxs("div",{className:"flex items-end justify-between border-b border-border pb-3",children:[c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsxs("span",{className:"text-lg font-mono font-medium",children:["$",f.toFixed(2)]}),O&&O!=="-"&&(()=>{const F=String(O).toLowerCase();let P="Hold",$="hold";return F.includes("strong buy")?(P="Strong Buy",$="strongBuy"):F.includes("buy")?(P="Buy",$="buy"):F.includes("sell")?(P="Sell",$="sell"):(P="Hold",$="hold"),c.jsxs(Oe,{variant:$,className:"h-4 px-1.5 whitespace-nowrap gap-1",children:[c.jsx("span",{className:"opacity-70 font-normal mr-0.5",children:"Consensus:"}),P," ",h?.analysts?`(${h.analysts})`:""]})})()]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-0.5",children:"Today"}),c.jsxs("div",{className:Fe("flex items-center gap-0.5 text-lg font-mono font-bold",p>=0?"text-emerald-500":"text-red-500"),children:[p>=0?c.jsx(Yn,{size:20}):c.jsx(Vr,{size:20}),Math.abs(p).toFixed(2),"%"]})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3 mb-1",children:[c.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-1 rounded font-medium border border-border/50",children:[c.jsx(j,{size:12,className:C.replace("text-","text-").split(" ")[0]}),c.jsx("span",{className:"text-muted-foreground",children:"Risk:"}),c.jsx("span",{className:C,children:Math.round(g)})]}),c.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-1 rounded font-medium border border-border/50",children:[c.jsx(Qn,{size:12,className:o?.overall_score&&o.overall_score>=7.5?"text-emerald-500":o?.overall_score&&o.overall_score>=5?"text-yellow-500":"text-red-500"}),c.jsx("span",{className:"text-muted-foreground",children:"R/R:"}),c.jsx("span",{className:Fe("font-bold",o?.overall_score&&o.overall_score>=7.5?"text-emerald-500":o?.overall_score&&o.overall_score>=5?"text-yellow-500":"text-red-500"),children:Number(o?.overall_score||0).toFixed(1)})]}),c.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-1 rounded font-medium border border-border/50",children:[c.jsx(Yn,{size:12,className:w>0?"text-emerald-500":"text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Upside:"}),c.jsxs("span",{className:w>0?"text-emerald-500 font-bold":"text-muted-foreground font-bold",children:[w>0?"+":"",w.toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-border/50 text-xs",children:[h?.research?h.research>0&&c.jsxs("span",{className:"flex items-center gap-1 text-purple-400 font-medium bg-purple-400/10 px-1.5 py-0.5 rounded",children:[c.jsx(Nn,{size:12})," ",h.research]}):null,h?.news?h.news>0&&c.jsxs("span",{className:"flex items-center gap-1 text-sky-400 font-medium bg-sky-400/10 px-1.5 py-0.5 rounded",children:[c.jsx(fi,{size:12})," ",h.news]}):null,h?.social?h.social>0&&c.jsxs("span",{className:"flex items-center gap-1 text-blue-400 font-medium bg-blue-400/10 px-1.5 py-0.5 rounded",children:[c.jsx(Zl,{size:12})," ",h.social]}):null,c.jsxs("span",{className:"ml-auto flex items-center gap-1.5 text-[10px] bg-muted/50 px-2 py-0.5 rounded font-medium border border-border/50",children:[c.jsx(Vr,{size:10,className:g>6.5?"text-red-500":"text-amber-500"}),c.jsx("span",{className:"text-muted-foreground",children:"Downside:"}),c.jsxs("span",{className:g>6.5?"text-red-500 font-bold":"text-amber-500 font-bold",children:[S.toFixed(1),"%"]})]})]})]})]},i.symbol)})})}function Ot(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function JS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Qr(...t){return e=>{let n=!1;const r=t.map(i=>{const a=JS(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():JS(t[i],null)}}}}function Cn(...t){return N.useCallback(Qr(...t),t)}function W8(t,e=[]){let n=[];function r(a,o){const u=N.createContext(o),h=n.length;n=[...n,o];const f=g=>{const{scope:x,children:v,...w}=g,S=x?.[t]?.[h]||u,C=N.useMemo(()=>w,Object.values(w));return c.jsx(S.Provider,{value:C,children:v})};f.displayName=a+"Provider";function p(g,x){const v=x?.[t]?.[h]||u,w=N.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>N.createContext(o));return function(u){const h=u?.[t]||a;return N.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[r,K8(i,...e)]}function K8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((u,{useScope:h,scopeName:f})=>{const g=h(a)[`__scope${f}`];return{...u,...g}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function X8(t){const e=J8(t),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,u=N.Children.toArray(a),h=u.find(e9);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function J8(t){const e=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=n9(i),u=t9(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Z8=Symbol("radix.slottable");function e9(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Z8}function t9(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function n9(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var r9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vk=r9.reduce((t,e)=>{const n=X8(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function i9(t,e){t&&Ah.flushSync(()=>t.dispatchEvent(e))}function $n(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function s9(t,e=globalThis?.document){const n=$n(t);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var a9="DismissableLayer",px="dismissableLayer.update",l9="dismissableLayer.pointerDownOutside",o9="dismissableLayer.focusOutside",ZS,bk=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),z0=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:u,...h}=t,f=N.useContext(bk),[p,g]=N.useState(null),x=p?.ownerDocument??globalThis?.document,[,v]=N.useState({}),w=Cn(e,F=>g(F)),S=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=S.indexOf(C),E=p?S.indexOf(p):-1,_=f.layersWithOutsidePointerEventsDisabled.size>0,A=E>=j,O=d9(F=>{const P=F.target,$=[...f.branches].some(L=>L.contains(P));!A||$||(i?.(F),o?.(F),F.defaultPrevented||u?.())},x),z=h9(F=>{const P=F.target;[...f.branches].some(L=>L.contains(P))||(a?.(F),o?.(F),F.defaultPrevented||u?.())},x);return s9(F=>{E===f.layers.size-1&&(r?.(F),!F.defaultPrevented&&u&&(F.preventDefault(),u()))},x),N.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ZS=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),eN(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=ZS)}},[p,x,n,f]),N.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),eN())},[p,f]),N.useEffect(()=>{const F=()=>v({});return document.addEventListener(px,F),()=>document.removeEventListener(px,F)},[]),c.jsx(vk.div,{...h,ref:w,style:{pointerEvents:_?A?"auto":"none":void 0,...t.style},onFocusCapture:Ot(t.onFocusCapture,z.onFocusCapture),onBlurCapture:Ot(t.onBlurCapture,z.onBlurCapture),onPointerDownCapture:Ot(t.onPointerDownCapture,O.onPointerDownCapture)})});z0.displayName=a9;var c9="DismissableLayerBranch",u9=N.forwardRef((t,e)=>{const n=N.useContext(bk),r=N.useRef(null),i=Cn(e,r);return N.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),c.jsx(vk.div,{...t,ref:i})});u9.displayName=c9;function d9(t,e=globalThis?.document){const n=$n(t),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let h=function(){wk(l9,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function h9(t,e=globalThis?.document){const n=$n(t),r=N.useRef(!1);return N.useEffect(()=>{const i=a=>{a.target&&!r.current&&wk(o9,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eN(){const t=new CustomEvent(px);document.dispatchEvent(t)}function wk(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?i9(i,a):i.dispatchEvent(a)}var og=0;function f9(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??tN()),document.body.insertAdjacentElement("beforeend",t[1]??tN()),og++,()=>{og===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),og--}},[])}function tN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function m9(t){const e=p9(t),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,u=N.Children.toArray(a),h=u.find(x9);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function p9(t){const e=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=v9(i),u=y9(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var g9=Symbol("radix.slottable");function x9(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===g9}function y9(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function v9(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var b9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w9=b9.reduce((t,e)=>{const n=m9(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",nN={bubbles:!1,cancelable:!0},S9="FocusScope",Sk=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[u,h]=N.useState(null),f=$n(i),p=$n(a),g=N.useRef(null),x=Cn(e,S=>h(S)),v=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let S=function(_){if(v.paused||!u)return;const A=_.target;u.contains(A)?g.current=A:_s(g.current,{select:!0})},C=function(_){if(v.paused||!u)return;const A=_.relatedTarget;A!==null&&(u.contains(A)||_s(g.current,{select:!0}))},j=function(_){if(document.activeElement===document.body)for(const O of _)O.removedNodes.length>0&&_s(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",C);const E=new MutationObserver(j);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),E.disconnect()}}},[r,u,v.paused]),N.useEffect(()=>{if(u){iN.add(v);const S=document.activeElement;if(!u.contains(S)){const j=new CustomEvent(cg,nN);u.addEventListener(cg,f),u.dispatchEvent(j),j.defaultPrevented||(N9(_9(Nk(u)),{select:!0}),document.activeElement===S&&_s(u))}return()=>{u.removeEventListener(cg,f),setTimeout(()=>{const j=new CustomEvent(ug,nN);u.addEventListener(ug,p),u.dispatchEvent(j),j.defaultPrevented||_s(S??document.body,{select:!0}),u.removeEventListener(ug,p),iN.remove(v)},0)}}},[u,f,p,v]);const w=N.useCallback(S=>{if(!n&&!r||v.paused)return;const C=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,j=document.activeElement;if(C&&j){const E=S.currentTarget,[_,A]=j9(E);_&&A?!S.shiftKey&&j===A?(S.preventDefault(),n&&_s(_,{select:!0})):S.shiftKey&&j===_&&(S.preventDefault(),n&&_s(A,{select:!0})):j===E&&S.preventDefault()}},[n,r,v.paused]);return c.jsx(w9.div,{tabIndex:-1,...o,ref:x,onKeyDown:w})});Sk.displayName=S9;function N9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_s(r,{select:e}),document.activeElement!==n)return}function j9(t){const e=Nk(t),n=rN(e,t),r=rN(e.reverse(),t);return[n,r]}function Nk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rN(t,e){for(const n of t)if(!C9(n,{upTo:e}))return n}function C9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function k9(t){return t instanceof HTMLInputElement&&"select"in t}function _s(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&k9(t)&&e&&t.select()}}var iN=E9();function E9(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=sN(t,e),t.unshift(e)},remove(e){t=sN(t,e),t[0]?.resume()}}}function sN(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _9(t){return t.filter(e=>e.tagName!=="A")}var Tr=globalThis?.document?N.useLayoutEffect:()=>{},R9=Ax[" useId ".trim().toString()]||(()=>{}),M9=0;function jk(t){const[e,n]=N.useState(R9());return Tr(()=>{n(r=>r??String(M9++))},[t]),t||(e?`radix-${e}`:"")}const A9=["top","right","bottom","left"],Ds=Math.min,or=Math.max,mh=Math.round,wd=Math.floor,hi=t=>({x:t,y:t}),T9={left:"right",right:"left",bottom:"top",top:"bottom"},z9={start:"end",end:"start"};function gx(t,e,n){return or(t,Ds(e,n))}function Wi(t,e){return typeof t=="function"?t(e):t}function Ki(t){return t.split("-")[0]}function ro(t){return t.split("-")[1]}function O0(t){return t==="x"?"y":"x"}function D0(t){return t==="y"?"height":"width"}const O9=new Set(["top","bottom"]);function ui(t){return O9.has(Ki(t))?"y":"x"}function P0(t){return O0(ui(t))}function D9(t,e,n){n===void 0&&(n=!1);const r=ro(t),i=P0(t),a=D0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=ph(o)),[o,ph(o)]}function P9(t){const e=ph(t);return[xx(t),e,xx(e)]}function xx(t){return t.replace(/start|end/g,e=>z9[e])}const aN=["left","right"],lN=["right","left"],L9=["top","bottom"],F9=["bottom","top"];function B9(t,e,n){switch(t){case"top":case"bottom":return n?e?lN:aN:e?aN:lN;case"left":case"right":return e?L9:F9;default:return[]}}function I9(t,e,n,r){const i=ro(t);let a=B9(Ki(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(xx)))),a}function ph(t){return t.replace(/left|right|bottom|top/g,e=>T9[e])}function U9(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ck(t){return typeof t!="number"?U9(t):{top:t,right:t,bottom:t,left:t}}function gh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function oN(t,e,n){let{reference:r,floating:i}=t;const a=ui(e),o=P0(e),u=D0(o),h=Ki(e),f=a==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,x=r[u]/2-i[u]/2;let v;switch(h){case"top":v={x:p,y:r.y-i.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-i.width,y:g};break;default:v={x:r.x,y:r.y}}switch(ro(e)){case"start":v[o]-=x*(n&&f?-1:1);break;case"end":v[o]+=x*(n&&f?-1:1);break}return v}const H9=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,u=a.filter(Boolean),h=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:g}=oN(f,r,h),x=r,v={},w=0;for(let S=0;S<u.length;S++){const{name:C,fn:j}=u[S],{x:E,y:_,data:A,reset:O}=await j({x:p,y:g,initialPlacement:r,placement:x,strategy:i,middlewareData:v,rects:f,platform:o,elements:{reference:t,floating:e}});p=E??p,g=_??g,v={...v,[C]:{...v[C],...A}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(x=O.placement),O.rects&&(f=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:p,y:g}=oN(f,x,h)),S=-1)}return{x:p,y:g,placement:x,strategy:i,middlewareData:v}};async function Ec(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:u,strategy:h}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:x=!1,padding:v=0}=Wi(e,t),w=Ck(v),C=u[x?g==="floating"?"reference":"floating":g],j=gh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:h})),E=g==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),A=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},O=gh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:_,strategy:h}):E);return{top:(j.top-O.top+w.top)/A.y,bottom:(O.bottom-j.bottom+w.bottom)/A.y,left:(j.left-O.left+w.left)/A.x,right:(O.right-j.right+w.right)/A.x}}const V9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:u,middlewareData:h}=e,{element:f,padding:p=0}=Wi(t,e)||{};if(f==null)return{};const g=Ck(p),x={x:n,y:r},v=P0(i),w=D0(v),S=await o.getDimensions(f),C=v==="y",j=C?"top":"left",E=C?"bottom":"right",_=C?"clientHeight":"clientWidth",A=a.reference[w]+a.reference[v]-x[v]-a.floating[w],O=x[v]-a.reference[v],z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let F=z?z[_]:0;(!F||!await(o.isElement==null?void 0:o.isElement(z)))&&(F=u.floating[_]||a.floating[w]);const P=A/2-O/2,$=F/2-S[w]/2-1,L=Ds(g[j],$),q=Ds(g[E],$),J=L,de=F-S[w]-q,se=F/2-S[w]/2+P,te=gx(J,se,de),B=!h.arrow&&ro(i)!=null&&se!==te&&a.reference[w]/2-(se<J?L:q)-S[w]/2<0,Y=B?se<J?se-J:se-de:0;return{[v]:x[v]+Y,data:{[v]:te,centerOffset:se-te-Y,...B&&{alignmentOffset:Y}},reset:B}}}),$9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:u,platform:h,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:S=!0,...C}=Wi(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=Ki(i),E=ui(u),_=Ki(u)===u,A=await(h.isRTL==null?void 0:h.isRTL(f.floating)),O=x||(_||!S?[ph(u)]:P9(u)),z=w!=="none";!x&&z&&O.push(...I9(u,S,w,A));const F=[u,...O],P=await Ec(e,C),$=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&$.push(P[j]),g){const se=D9(i,o,A);$.push(P[se[0]],P[se[1]])}if(L=[...L,{placement:i,overflows:$}],!$.every(se=>se<=0)){var q,J;const se=(((q=a.flip)==null?void 0:q.index)||0)+1,te=F[se];if(te&&(!(g==="alignment"?E!==ui(te):!1)||L.every(V=>ui(V.placement)===E?V.overflows[0]>0:!0)))return{data:{index:se,overflows:L},reset:{placement:te}};let B=(J=L.filter(Y=>Y.overflows[0]<=0).sort((Y,V)=>Y.overflows[1]-V.overflows[1])[0])==null?void 0:J.placement;if(!B)switch(v){case"bestFit":{var de;const Y=(de=L.filter(V=>{if(z){const ge=ui(V.placement);return ge===E||ge==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ge=>ge>0).reduce((ge,T)=>ge+T,0)]).sort((V,ge)=>V[1]-ge[1])[0])==null?void 0:de[0];Y&&(B=Y);break}case"initialPlacement":B=u;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function cN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uN(t){return A9.some(e=>t[e]>=0)}const q9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Wi(t,e);switch(r){case"referenceHidden":{const a=await Ec(e,{...i,elementContext:"reference"}),o=cN(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uN(o)}}}case"escaped":{const a=await Ec(e,{...i,altBoundary:!0}),o=cN(a,n.floating);return{data:{escapedOffsets:o,escaped:uN(o)}}}default:return{}}}}},kk=new Set(["left","top"]);async function G9(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ki(n),u=ro(n),h=ui(n)==="y",f=kk.has(o)?-1:1,p=a&&h?-1:1,g=Wi(e,t);let{mainAxis:x,crossAxis:v,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof w=="number"&&(v=u==="end"?w*-1:w),h?{x:v*p,y:x*f}:{x:x*f,y:v*p}}const Y9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:u}=e,h=await G9(e,t);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:o}}}}},Q9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:u={fn:C=>{let{x:j,y:E}=C;return{x:j,y:E}}},...h}=Wi(t,e),f={x:n,y:r},p=await Ec(e,h),g=ui(Ki(i)),x=O0(g);let v=f[x],w=f[g];if(a){const C=x==="y"?"top":"left",j=x==="y"?"bottom":"right",E=v+p[C],_=v-p[j];v=gx(E,v,_)}if(o){const C=g==="y"?"top":"left",j=g==="y"?"bottom":"right",E=w+p[C],_=w-p[j];w=gx(E,w,_)}const S=u.fn({...e,[x]:v,[g]:w});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[x]:a,[g]:o}}}}}},W9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=Wi(t,e),p={x:n,y:r},g=ui(i),x=O0(g);let v=p[x],w=p[g];const S=Wi(u,e),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const _=x==="y"?"height":"width",A=a.reference[x]-a.floating[_]+C.mainAxis,O=a.reference[x]+a.reference[_]-C.mainAxis;v<A?v=A:v>O&&(v=O)}if(f){var j,E;const _=x==="y"?"width":"height",A=kk.has(Ki(i)),O=a.reference[g]-a.floating[_]+(A&&((j=o.offset)==null?void 0:j[g])||0)+(A?0:C.crossAxis),z=a.reference[g]+a.reference[_]+(A?0:((E=o.offset)==null?void 0:E[g])||0)-(A?C.crossAxis:0);w<O?w=O:w>z&&(w=z)}return{[x]:v,[g]:w}}}},K9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:u}=e,{apply:h=()=>{},...f}=Wi(t,e),p=await Ec(e,f),g=Ki(i),x=ro(i),v=ui(i)==="y",{width:w,height:S}=a.floating;let C,j;g==="top"||g==="bottom"?(C=g,j=x===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(j=g,C=x==="end"?"top":"bottom");const E=S-p.top-p.bottom,_=w-p.left-p.right,A=Ds(S-p[C],E),O=Ds(w-p[j],_),z=!e.middlewareData.shift;let F=A,P=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=E),z&&!x){const L=or(p.left,0),q=or(p.right,0),J=or(p.top,0),de=or(p.bottom,0);v?P=w-2*(L!==0||q!==0?L+q:or(p.left,p.right)):F=S-2*(J!==0||de!==0?J+de:or(p.top,p.bottom))}await h({...e,availableWidth:P,availableHeight:F});const $=await o.getDimensions(u.floating);return w!==$.width||S!==$.height?{reset:{rects:!0}}:{}}}};function Gh(){return typeof window<"u"}function io(t){return Ek(t)?(t.nodeName||"").toLowerCase():"#document"}function ur(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Si(t){var e;return(e=(Ek(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ek(t){return Gh()?t instanceof Node||t instanceof ur(t).Node:!1}function $r(t){return Gh()?t instanceof Element||t instanceof ur(t).Element:!1}function pi(t){return Gh()?t instanceof HTMLElement||t instanceof ur(t).HTMLElement:!1}function dN(t){return!Gh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ur(t).ShadowRoot}const X9=new Set(["inline","contents"]);function Vc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!X9.has(i)}const J9=new Set(["table","td","th"]);function Z9(t){return J9.has(io(t))}const eU=[":popover-open",":modal"];function Yh(t){return eU.some(e=>{try{return t.matches(e)}catch{return!1}})}const tU=["transform","translate","scale","rotate","perspective"],nU=["transform","translate","scale","rotate","perspective","filter"],rU=["paint","layout","strict","content"];function L0(t){const e=F0(),n=$r(t)?qr(t):t;return tU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||nU.some(r=>(n.willChange||"").includes(r))||rU.some(r=>(n.contain||"").includes(r))}function iU(t){let e=Ps(t);for(;pi(e)&&!Ll(e);){if(L0(e))return e;if(Yh(e))return null;e=Ps(e)}return null}function F0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sU=new Set(["html","body","#document"]);function Ll(t){return sU.has(io(t))}function qr(t){return ur(t).getComputedStyle(t)}function Qh(t){return $r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ps(t){if(io(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dN(t)&&t.host||Si(t);return dN(e)?e.host:e}function _k(t){const e=Ps(t);return Ll(e)?t.ownerDocument?t.ownerDocument.body:t.body:pi(e)&&Vc(e)?e:_k(e)}function _c(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=_k(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=ur(i);if(a){const u=yx(o);return e.concat(o,o.visualViewport||[],Vc(i)?i:[],u&&n?_c(u):[])}return e.concat(i,_c(i,[],n))}function yx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Rk(t){const e=qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=pi(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,u=mh(n)!==a||mh(r)!==o;return u&&(n=a,r=o),{width:n,height:r,$:u}}function B0(t){return $r(t)?t:t.contextElement}function Rl(t){const e=B0(t);if(!pi(e))return hi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=Rk(e);let o=(a?mh(n.width):n.width)/r,u=(a?mh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const aU=hi(0);function Mk(t){const e=ur(t);return!F0()||!e.visualViewport?aU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ur(t)?!1:e}function Na(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=B0(t);let o=hi(1);e&&(r?$r(r)&&(o=Rl(r)):o=Rl(t));const u=lU(a,n,r)?Mk(a):hi(0);let h=(i.left+u.x)/o.x,f=(i.top+u.y)/o.y,p=i.width/o.x,g=i.height/o.y;if(a){const x=ur(a),v=r&&$r(r)?ur(r):r;let w=x,S=yx(w);for(;S&&r&&v!==w;){const C=Rl(S),j=S.getBoundingClientRect(),E=qr(S),_=j.left+(S.clientLeft+parseFloat(E.paddingLeft))*C.x,A=j.top+(S.clientTop+parseFloat(E.paddingTop))*C.y;h*=C.x,f*=C.y,p*=C.x,g*=C.y,h+=_,f+=A,w=ur(S),S=yx(w)}}return gh({width:p,height:g,x:h,y:f})}function Wh(t,e){const n=Qh(t).scrollLeft;return e?e.left+n:Na(Si(t)).left+n}function Ak(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Wh(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function oU(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Si(r),u=e?Yh(e.floating):!1;if(r===o||u&&a)return n;let h={scrollLeft:0,scrollTop:0},f=hi(1);const p=hi(0),g=pi(r);if((g||!g&&!a)&&((io(r)!=="body"||Vc(o))&&(h=Qh(r)),pi(r))){const v=Na(r);f=Rl(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const x=o&&!g&&!a?Ak(o,h):hi(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+x.x,y:n.y*f.y-h.scrollTop*f.y+p.y+x.y}}function cU(t){return Array.from(t.getClientRects())}function uU(t){const e=Si(t),n=Qh(t),r=t.ownerDocument.body,i=or(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=or(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Wh(t);const u=-n.scrollTop;return qr(r).direction==="rtl"&&(o+=or(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:u}}const hN=25;function dU(t,e){const n=ur(t),r=Si(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,u=0,h=0;if(i){a=i.width,o=i.height;const p=F0();(!p||p&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}const f=Wh(r);if(f<=0){const p=r.ownerDocument,g=p.body,x=getComputedStyle(g),v=p.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(r.clientWidth-g.clientWidth-v);w<=hN&&(a-=w)}else f<=hN&&(a+=f);return{width:a,height:o,x:u,y:h}}const hU=new Set(["absolute","fixed"]);function fU(t,e){const n=Na(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=pi(t)?Rl(t):hi(1),o=t.clientWidth*a.x,u=t.clientHeight*a.y,h=i*a.x,f=r*a.y;return{width:o,height:u,x:h,y:f}}function fN(t,e,n){let r;if(e==="viewport")r=dU(t,n);else if(e==="document")r=uU(Si(t));else if($r(e))r=fU(e,n);else{const i=Mk(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gh(r)}function Tk(t,e){const n=Ps(t);return n===e||!$r(n)||Ll(n)?!1:qr(n).position==="fixed"||Tk(n,e)}function mU(t,e){const n=e.get(t);if(n)return n;let r=_c(t,[],!1).filter(u=>$r(u)&&io(u)!=="body"),i=null;const a=qr(t).position==="fixed";let o=a?Ps(t):t;for(;$r(o)&&!Ll(o);){const u=qr(o),h=L0(o);!h&&u.position==="fixed"&&(i=null),(a?!h&&!i:!h&&u.position==="static"&&!!i&&hU.has(i.position)||Vc(o)&&!h&&Tk(t,o))?r=r.filter(p=>p!==o):i=u,o=Ps(o)}return e.set(t,r),r}function pU(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Yh(e)?[]:mU(e,this._c):[].concat(n),r],u=o[0],h=o.reduce((f,p)=>{const g=fN(e,p,i);return f.top=or(g.top,f.top),f.right=Ds(g.right,f.right),f.bottom=Ds(g.bottom,f.bottom),f.left=or(g.left,f.left),f},fN(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function gU(t){const{width:e,height:n}=Rk(t);return{width:e,height:n}}function xU(t,e,n){const r=pi(e),i=Si(e),a=n==="fixed",o=Na(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=hi(0);function f(){h.x=Wh(i)}if(r||!r&&!a)if((io(e)!=="body"||Vc(i))&&(u=Qh(e)),r){const v=Na(e,!0,a,e);h.x=v.x+e.clientLeft,h.y=v.y+e.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?Ak(i,u):hi(0),g=o.left+u.scrollLeft-h.x-p.x,x=o.top+u.scrollTop-h.y-p.y;return{x:g,y:x,width:o.width,height:o.height}}function dg(t){return qr(t).position==="static"}function mN(t,e){if(!pi(t)||qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Si(t)===n&&(n=n.ownerDocument.body),n}function zk(t,e){const n=ur(t);if(Yh(t))return n;if(!pi(t)){let i=Ps(t);for(;i&&!Ll(i);){if($r(i)&&!dg(i))return i;i=Ps(i)}return n}let r=mN(t,e);for(;r&&Z9(r)&&dg(r);)r=mN(r,e);return r&&Ll(r)&&dg(r)&&!L0(r)?n:r||iU(t)||n}const yU=async function(t){const e=this.getOffsetParent||zk,n=this.getDimensions,r=await n(t.floating);return{reference:xU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vU(t){return qr(t).direction==="rtl"}const bU={convertOffsetParentRelativeRectToViewportRelativeRect:oU,getDocumentElement:Si,getClippingRect:pU,getOffsetParent:zk,getElementRects:yU,getClientRects:cU,getDimensions:gU,getScale:Rl,isElement:$r,isRTL:vU};function Ok(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wU(t,e){let n=null,r;const i=Si(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const f=t.getBoundingClientRect(),{left:p,top:g,width:x,height:v}=f;if(u||e(),!x||!v)return;const w=wd(g),S=wd(i.clientWidth-(p+x)),C=wd(i.clientHeight-(g+v)),j=wd(p),_={rootMargin:-w+"px "+-S+"px "+-C+"px "+-j+"px",threshold:or(0,Ds(1,h))||1};let A=!0;function O(z){const F=z[0].intersectionRatio;if(F!==h){if(!A)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!Ok(f,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(O,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,_)}n.observe(t)}return o(!0),a}function SU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,f=B0(t),p=i||a?[...f?_c(f):[],..._c(e)]:[];p.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const g=f&&u?wU(f,n):null;let x=-1,v=null;o&&(v=new ResizeObserver(j=>{let[E]=j;E&&E.target===f&&v&&(v.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var _;(_=v)==null||_.observe(e)})),n()}),f&&!h&&v.observe(f),v.observe(e));let w,S=h?Na(t):null;h&&C();function C(){const j=Na(t);S&&!Ok(S,j)&&n(),S=j,w=requestAnimationFrame(C)}return n(),()=>{var j;p.forEach(E=>{i&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),g?.(),(j=v)==null||j.disconnect(),v=null,h&&cancelAnimationFrame(w)}}const NU=Y9,jU=Q9,CU=$9,kU=K9,EU=q9,pN=V9,_U=W9,RU=(t,e,n)=>{const r=new Map,i={platform:bU,...n},a={...i.platform,_c:r};return H9(t,e,{...i,platform:a})};var MU=typeof document<"u",AU=function(){},Qd=MU?N.useLayoutEffect:AU;function xh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!xh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!xh(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Dk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gN(t,e){const n=Dk(t);return Math.round(e*n)/n}function hg(t){const e=N.useRef(t);return Qd(()=>{e.current=t}),e}function TU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:u=!0,whileElementsMounted:h,open:f}=t,[p,g]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,v]=N.useState(r);xh(x,r)||v(r);const[w,S]=N.useState(null),[C,j]=N.useState(null),E=N.useCallback(V=>{V!==z.current&&(z.current=V,S(V))},[]),_=N.useCallback(V=>{V!==F.current&&(F.current=V,j(V))},[]),A=a||w,O=o||C,z=N.useRef(null),F=N.useRef(null),P=N.useRef(p),$=h!=null,L=hg(h),q=hg(i),J=hg(f),de=N.useCallback(()=>{if(!z.current||!F.current)return;const V={placement:e,strategy:n,middleware:x};q.current&&(V.platform=q.current),RU(z.current,F.current,V).then(ge=>{const T={...ge,isPositioned:J.current!==!1};se.current&&!xh(P.current,T)&&(P.current=T,Ah.flushSync(()=>{g(T)}))})},[x,e,n,q,J]);Qd(()=>{f===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(V=>({...V,isPositioned:!1})))},[f]);const se=N.useRef(!1);Qd(()=>(se.current=!0,()=>{se.current=!1}),[]),Qd(()=>{if(A&&(z.current=A),O&&(F.current=O),A&&O){if(L.current)return L.current(A,O,de);de()}},[A,O,de,L,$]);const te=N.useMemo(()=>({reference:z,floating:F,setReference:E,setFloating:_}),[E,_]),B=N.useMemo(()=>({reference:A,floating:O}),[A,O]),Y=N.useMemo(()=>{const V={position:n,left:0,top:0};if(!B.floating)return V;const ge=gN(B.floating,p.x),T=gN(B.floating,p.y);return u?{...V,transform:"translate("+ge+"px, "+T+"px)",...Dk(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ge,top:T}},[n,u,B.floating,p.x,p.y]);return N.useMemo(()=>({...p,update:de,refs:te,elements:B,floatingStyles:Y}),[p,de,te,B,Y])}const zU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?pN({element:r.current,padding:i}).fn(n):{}:r?pN({element:r,padding:i}).fn(n):{}}}},OU=(t,e)=>({...NU(t),options:[t,e]}),DU=(t,e)=>({...jU(t),options:[t,e]}),PU=(t,e)=>({..._U(t),options:[t,e]}),LU=(t,e)=>({...CU(t),options:[t,e]}),FU=(t,e)=>({...kU(t),options:[t,e]}),BU=(t,e)=>({...EU(t),options:[t,e]}),IU=(t,e)=>({...zU(t),options:[t,e]});function UU(t){const e=HU(t),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,u=N.Children.toArray(a),h=u.find($U);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function HU(t){const e=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=GU(i),u=qU(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VU=Symbol("radix.slottable");function $U(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VU}function qU(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function GU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var YU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QU=YU.reduce((t,e)=>{const n=UU(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),WU="Arrow",Pk=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return c.jsx(QU.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Pk.displayName=WU;var KU=Pk;function XU(t,e=[]){let n=[];function r(a,o){const u=N.createContext(o),h=n.length;n=[...n,o];const f=g=>{const{scope:x,children:v,...w}=g,S=x?.[t]?.[h]||u,C=N.useMemo(()=>w,Object.values(w));return c.jsx(S.Provider,{value:C,children:v})};f.displayName=a+"Provider";function p(g,x){const v=x?.[t]?.[h]||u,w=N.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>N.createContext(o));return function(u){const h=u?.[t]||a;return N.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[r,JU(i,...e)]}function JU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((u,{useScope:h,scopeName:f})=>{const g=h(a)[`__scope${f}`];return{...u,...g}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ZU(t){const e=eH(t),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,u=N.Children.toArray(a),h=u.find(nH);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function eH(t){const e=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=iH(i),u=rH(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tH=Symbol("radix.slottable");function nH(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tH}function rH(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function iH(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lk=sH.reduce((t,e)=>{const n=ZU(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function aH(t){const[e,n]=N.useState(void 0);return Tr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,u;if("borderBoxSize"in a){const h=a.borderBoxSize,f=Array.isArray(h)?h[0]:h;o=f.inlineSize,u=f.blockSize}else o=t.offsetWidth,u=t.offsetHeight;n({width:o,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var I0="Popper",[Fk,Kh]=XU(I0),[lH,Bk]=Fk(I0),Ik=t=>{const{__scopePopper:e,children:n}=t,[r,i]=N.useState(null);return c.jsx(lH,{scope:e,anchor:r,onAnchorChange:i,children:n})};Ik.displayName=I0;var Uk="PopperAnchor",Hk=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=Bk(Uk,n),o=N.useRef(null),u=Cn(e,o),h=N.useRef(null);return N.useEffect(()=>{const f=h.current;h.current=r?.current||o.current,f!==h.current&&a.onAnchorChange(h.current)}),r?null:c.jsx(Lk.div,{...i,ref:u})});Hk.displayName=Uk;var U0="PopperContent",[oH,cH]=Fk(U0),Vk=N.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:w,...S}=t,C=Bk(U0,n),[j,E]=N.useState(null),_=Cn(e,ce=>E(ce)),[A,O]=N.useState(null),z=aH(A),F=z?.width??0,P=z?.height??0,$=r+(a!=="center"?"-"+a:""),L=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},q=Array.isArray(f)?f:[f],J=q.length>0,de={padding:L,boundary:q.filter(dH),altBoundary:J},{refs:se,floatingStyles:te,placement:B,isPositioned:Y,middlewareData:V}=TU({strategy:"fixed",placement:$,whileElementsMounted:(...ce)=>SU(...ce,{animationFrame:v==="always"}),elements:{reference:C.anchor},middleware:[OU({mainAxis:i+P,alignmentAxis:o}),h&&DU({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?PU():void 0,...de}),h&&LU({...de}),FU({...de,apply:({elements:ce,rects:ve,availableWidth:Ae,availableHeight:tt})=>{const{width:dt,height:Nt}=ve.reference,Jn=ce.floating.style;Jn.setProperty("--radix-popper-available-width",`${Ae}px`),Jn.setProperty("--radix-popper-available-height",`${tt}px`),Jn.setProperty("--radix-popper-anchor-width",`${dt}px`),Jn.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),A&&IU({element:A,padding:u}),hH({arrowWidth:F,arrowHeight:P}),x&&BU({strategy:"referenceHidden",...de})]}),[ge,T]=Gk(B),D=$n(w);Tr(()=>{Y&&D?.()},[Y,D]);const Q=V.arrow?.x,M=V.arrow?.y,ne=V.arrow?.centerOffset!==0,[ue,H]=N.useState();return Tr(()=>{j&&H(window.getComputedStyle(j).zIndex)},[j]),c.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:Y?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(oH,{scope:n,placedSide:ge,onArrowChange:O,arrowX:Q,arrowY:M,shouldHideArrow:ne,children:c.jsx(Lk.div,{"data-side":ge,"data-align":T,...S,ref:_,style:{...S.style,animation:Y?void 0:"none"}})})})});Vk.displayName=U0;var $k="PopperArrow",uH={top:"bottom",right:"left",bottom:"top",left:"right"},qk=N.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=cH($k,r),o=uH[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(KU,{...i,ref:n,style:{...i.style,display:"block"}})})});qk.displayName=$k;function dH(t){return t!==null}var hH=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,u=o?0:t.arrowWidth,h=o?0:t.arrowHeight,[f,p]=Gk(n),g={start:"0%",center:"50%",end:"100%"}[p],x=(i.arrow?.x??0)+u/2,v=(i.arrow?.y??0)+h/2;let w="",S="";return f==="bottom"?(w=o?g:`${x}px`,S=`${-h}px`):f==="top"?(w=o?g:`${x}px`,S=`${r.floating.height+h}px`):f==="right"?(w=`${-h}px`,S=o?g:`${v}px`):f==="left"&&(w=`${r.floating.width+h}px`,S=o?g:`${v}px`),{data:{x:w,y:S}}}});function Gk(t){const[e,n="center"]=t.split("-");return[e,n]}var Yk=Ik,H0=Hk,Qk=Vk,Wk=qk;function fH(t){const e=mH(t),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,u=N.Children.toArray(a),h=u.find(gH);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function mH(t){const e=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=yH(i),u=xH(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pH=Symbol("radix.slottable");function gH(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pH}function xH(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function yH(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bH=vH.reduce((t,e)=>{const n=fH(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),wH="Portal",V0=N.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=N.useState(!1);Tr(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?nC.createPortal(c.jsx(bH.div,{...r,ref:e}),o):null});V0.displayName=wH;function SH(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var Ji=t=>{const{present:e,children:n}=t,r=NH(e),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),a=Cn(r.ref,jH(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:a}):null};Ji.displayName="Presence";function NH(t){const[e,n]=N.useState(),r=N.useRef(null),i=N.useRef(t),a=N.useRef("none"),o=t?"mounted":"unmounted",[u,h]=SH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=Sd(r.current);a.current=u==="mounted"?f:"none"},[u]),Tr(()=>{const f=r.current,p=i.current;if(p!==t){const x=a.current,v=Sd(f);t?h("MOUNT"):v==="none"||f?.display==="none"?h("UNMOUNT"):h(p&&x!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),Tr(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=v=>{const S=Sd(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&S&&(h("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},x=v=>{v.target===e&&(a.current=Sd(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Sd(t){return t?.animationName||"none"}function jH(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Kk(t){const e=CH(t),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,u=N.Children.toArray(a),h=u.find(EH);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function CH(t){const e=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=RH(i),u=_H(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kH=Symbol("radix.slottable");function EH(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kH}function _H(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function RH(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var MH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xk=MH.reduce((t,e)=>{const n=Kk(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),AH=Ax[" useInsertionEffect ".trim().toString()]||Tr;function Jk({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=TH({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:i;{const p=N.useRef(t!==void 0);N.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const f=N.useCallback(p=>{if(u){const g=zH(p)?p(t):p;g!==t&&o.current?.(g)}else a(p)},[u,t,a,o]);return[h,f]}function TH({defaultProp:t,onChange:e}){const[n,r]=N.useState(t),i=N.useRef(n),a=N.useRef(e);return AH(()=>{a.current=e},[e]),N.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function zH(t){return typeof t=="function"}var OH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},bl=new WeakMap,Nd=new WeakMap,jd={},fg=0,Zk=function(t){return t&&(t.host||Zk(t.parentNode))},DH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Zk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},PH=function(t,e,n,r){var i=DH(e,Array.isArray(t)?t:[t]);jd[n]||(jd[n]=new WeakMap);var a=jd[n],o=[],u=new Set,h=new Set(i),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};i.forEach(f);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(x){if(u.has(x))p(x);else try{var v=x.getAttribute(r),w=v!==null&&v!=="false",S=(bl.get(x)||0)+1,C=(a.get(x)||0)+1;bl.set(x,S),a.set(x,C),o.push(x),S===1&&w&&Nd.set(x,!0),C===1&&x.setAttribute(n,"true"),w||x.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return p(e),u.clear(),fg++,function(){o.forEach(function(g){var x=bl.get(g)-1,v=a.get(g)-1;bl.set(g,x),a.set(g,v),x||(Nd.has(g)||g.removeAttribute(r),Nd.delete(g)),v||g.removeAttribute(n)}),fg--,fg||(bl=new WeakMap,bl=new WeakMap,Nd=new WeakMap,jd={})}},LH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=OH(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),PH(r,i,n,"aria-hidden")):function(){return null}},oi=function(){return oi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oi.apply(this,arguments)};function eE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function FH(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Wd="right-scroll-bar-position",Kd="width-before-scroll-bar",BH="with-scroll-bars-hidden",IH="--removed-body-scroll-bar-size";function mg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function UH(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var HH=typeof window<"u"?N.useLayoutEffect:N.useEffect,xN=new WeakMap;function VH(t,e){var n=UH(null,function(r){return t.forEach(function(i){return mg(i,r)})});return HH(function(){var r=xN.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(u){a.has(u)||mg(u,null)}),a.forEach(function(u){i.has(u)||mg(u,o)})}xN.set(n,t)},[t]),n}function $H(t){return t}function qH(t,e){e===void 0&&(e=$H);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(a),o=n}var h=function(){var p=o;o=[],p.forEach(a)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(p){o.push(p),f()},filter:function(p){return o=o.filter(p),n}}}};return i}function GH(t){t===void 0&&(t={});var e=qH(null);return e.options=oi({async:!0,ssr:!1},t),e}var tE=function(t){var e=t.sideCar,n=eE(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,oi({},n))};tE.isSideCarExport=!0;function YH(t,e){return t.useMedium(e),tE}var nE=GH(),pg=function(){},Xh=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:pg,onWheelCapture:pg,onTouchMoveCapture:pg}),i=r[0],a=r[1],o=t.forwardProps,u=t.children,h=t.className,f=t.removeScrollBar,p=t.enabled,g=t.shards,x=t.sideCar,v=t.noRelative,w=t.noIsolation,S=t.inert,C=t.allowPinchZoom,j=t.as,E=j===void 0?"div":j,_=t.gapMode,A=eE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=x,z=VH([n,e]),F=oi(oi({},A),i);return N.createElement(N.Fragment,null,p&&N.createElement(O,{sideCar:nE,removeScrollBar:f,shards:g,noRelative:v,noIsolation:w,inert:S,setCallbacks:a,allowPinchZoom:!!C,lockRef:n,gapMode:_}),o?N.cloneElement(N.Children.only(u),oi(oi({},F),{ref:z})):N.createElement(E,oi({},F,{className:h,ref:z}),u))});Xh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xh.classNames={fullWidth:Kd,zeroRight:Wd};var QH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QH();return e&&t.setAttribute("nonce",e),t}function KH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function XH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var JH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=WH())&&(KH(e,n),XH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ZH=function(){var t=JH();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},rE=function(){var t=ZH(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},eV={left:0,top:0,right:0,gap:0},gg=function(t){return parseInt(t||"",10)||0},tV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[gg(n),gg(r),gg(i)]},nV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return eV;var e=tV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},rV=rE(),Ml="data-scroll-locked",iV=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(BH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ml,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wd,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Kd,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Wd," .").concat(Wd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kd," .").concat(Kd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ml,`] {
    `).concat(IH,": ").concat(u,`px;
  }
`)},yN=function(){var t=parseInt(document.body.getAttribute(Ml)||"0",10);return isFinite(t)?t:0},sV=function(){N.useEffect(function(){return document.body.setAttribute(Ml,(yN()+1).toString()),function(){var t=yN()-1;t<=0?document.body.removeAttribute(Ml):document.body.setAttribute(Ml,t.toString())}},[])},aV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;sV();var a=N.useMemo(function(){return nV(i)},[i]);return N.createElement(rV,{styles:iV(a,!e,i,n?"":"!important")})},vx=!1;if(typeof window<"u")try{var Cd=Object.defineProperty({},"passive",{get:function(){return vx=!0,!0}});window.addEventListener("test",Cd,Cd),window.removeEventListener("test",Cd,Cd)}catch{vx=!1}var wl=vx?{passive:!1}:!1,lV=function(t){return t.tagName==="TEXTAREA"},iE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!lV(t)&&n[e]==="visible")},oV=function(t){return iE(t,"overflowY")},cV=function(t){return iE(t,"overflowX")},vN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=sE(t,r);if(i){var a=aE(t,r),o=a[1],u=a[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},dV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},sE=function(t,e){return t==="v"?oV(e):cV(e)},aE=function(t,e){return t==="v"?uV(e):dV(e)},hV=function(t,e){return t==="h"&&e==="rtl"?-1:1},fV=function(t,e,n,r,i){var a=hV(t,window.getComputedStyle(e).direction),o=a*r,u=n.target,h=e.contains(u),f=!1,p=o>0,g=0,x=0;do{if(!u)break;var v=aE(t,u),w=v[0],S=v[1],C=v[2],j=S-C-a*w;(w||j)&&sE(t,u)&&(g+=j,x+=w);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(x)<1)&&(f=!0),f},kd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},bN=function(t){return[t.deltaX,t.deltaY]},wN=function(t){return t&&"current"in t?t.current:t},mV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gV=0,Sl=[];function xV(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(gV++)[0],a=N.useState(rE)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=FH([t.lockRef.current],(t.shards||[]).map(wN),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=N.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!o.current.allowPinchZoom;var j=kd(S),E=n.current,_="deltaX"in S?S.deltaX:E[0]-j[0],A="deltaY"in S?S.deltaY:E[1]-j[1],O,z=S.target,F=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in S&&F==="h"&&z.type==="range")return!1;var P=window.getSelection(),$=P&&P.anchorNode,L=$?$===z||$.contains(z):!1;if(L)return!1;var q=vN(F,z);if(!q)return!0;if(q?O=F:(O=F==="v"?"h":"v",q=vN(F,z)),!q)return!1;if(!r.current&&"changedTouches"in S&&(_||A)&&(r.current=O),!O)return!0;var J=r.current||O;return fV(J,C,S,J==="h"?_:A)},[]),h=N.useCallback(function(S){var C=S;if(!(!Sl.length||Sl[Sl.length-1]!==a)){var j="deltaY"in C?bN(C):kd(C),E=e.current.filter(function(O){return O.name===C.type&&(O.target===C.target||C.target===O.shadowParent)&&mV(O.delta,j)})[0];if(E&&E.should){C.cancelable&&C.preventDefault();return}if(!E){var _=(o.current.shards||[]).map(wN).filter(Boolean).filter(function(O){return O.contains(C.target)}),A=_.length>0?u(C,_[0]):!o.current.noIsolation;A&&C.cancelable&&C.preventDefault()}}},[]),f=N.useCallback(function(S,C,j,E){var _={name:S,delta:C,target:j,should:E,shadowParent:yV(j)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(A){return A!==_})},1)},[]),p=N.useCallback(function(S){n.current=kd(S),r.current=void 0},[]),g=N.useCallback(function(S){f(S.type,bN(S),S.target,u(S,t.lockRef.current))},[]),x=N.useCallback(function(S){f(S.type,kd(S),S.target,u(S,t.lockRef.current))},[]);N.useEffect(function(){return Sl.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",h,wl),document.addEventListener("touchmove",h,wl),document.addEventListener("touchstart",p,wl),function(){Sl=Sl.filter(function(S){return S!==a}),document.removeEventListener("wheel",h,wl),document.removeEventListener("touchmove",h,wl),document.removeEventListener("touchstart",p,wl)}},[]);var v=t.removeScrollBar,w=t.inert;return N.createElement(N.Fragment,null,w?N.createElement(a,{styles:pV(i)}):null,v?N.createElement(aV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function yV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vV=YH(nE,xV);var lE=N.forwardRef(function(t,e){return N.createElement(Xh,oi({},t,{ref:e,sideCar:vV}))});lE.classNames=Xh.classNames;var Jh="Popover",[oE]=W8(Jh,[Kh]),$c=Kh(),[bV,Bs]=oE(Jh),cE=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,u=$c(e),h=N.useRef(null),[f,p]=N.useState(!1),[g,x]=Jk({prop:r,defaultProp:i??!1,onChange:a,caller:Jh});return c.jsx(Yk,{...u,children:c.jsx(bV,{scope:e,contentId:jk(),triggerRef:h,open:g,onOpenChange:x,onOpenToggle:N.useCallback(()=>x(v=>!v),[x]),hasCustomAnchor:f,onCustomAnchorAdd:N.useCallback(()=>p(!0),[]),onCustomAnchorRemove:N.useCallback(()=>p(!1),[]),modal:o,children:n})})};cE.displayName=Jh;var uE="PopoverAnchor",wV=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bs(uE,n),a=$c(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:u}=i;return N.useEffect(()=>(o(),()=>u()),[o,u]),c.jsx(H0,{...a,...r,ref:e})});wV.displayName=uE;var dE="PopoverTrigger",hE=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bs(dE,n),a=$c(n),o=Cn(e,i.triggerRef),u=c.jsx(Xk.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xE(i.open),...r,ref:o,onClick:Ot(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:c.jsx(H0,{asChild:!0,...a,children:u})});hE.displayName=dE;var $0="PopoverPortal",[SV,NV]=oE($0,{forceMount:void 0}),fE=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=Bs($0,e);return c.jsx(SV,{scope:e,forceMount:n,children:c.jsx(Ji,{present:n||a.open,children:c.jsx(V0,{asChild:!0,container:i,children:r})})})};fE.displayName=$0;var Fl="PopoverContent",mE=N.forwardRef((t,e)=>{const n=NV(Fl,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=Bs(Fl,t.__scopePopover);return c.jsx(Ji,{present:r||a.open,children:a.modal?c.jsx(CV,{...i,ref:e}):c.jsx(kV,{...i,ref:e})})});mE.displayName=Fl;var jV=Kk("PopoverContent.RemoveScroll"),CV=N.forwardRef((t,e)=>{const n=Bs(Fl,t.__scopePopover),r=N.useRef(null),i=Cn(e,r),a=N.useRef(!1);return N.useEffect(()=>{const o=r.current;if(o)return LH(o)},[]),c.jsx(lE,{as:jV,allowPinchZoom:!0,children:c.jsx(pE,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(t.onCloseAutoFocus,o=>{o.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ot(t.onPointerDownOutside,o=>{const u=o.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ot(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),kV=N.forwardRef((t,e)=>{const n=Bs(Fl,t.__scopePopover),r=N.useRef(!1),i=N.useRef(!1);return c.jsx(pE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),pE=N.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,...g}=t,x=Bs(Fl,n),v=$c(n);return f9(),c.jsx(Sk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(z0,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:c.jsx(Qk,{"data-state":xE(x.open),role:"dialog",id:x.contentId,...v,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),gE="PopoverClose",EV=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bs(gE,n);return c.jsx(Xk.button,{type:"button",...r,ref:e,onClick:Ot(t.onClick,()=>i.onOpenChange(!1))})});EV.displayName=gE;var _V="PopoverArrow",RV=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=$c(n);return c.jsx(Wk,{...i,...r,ref:e})});RV.displayName=_V;function xE(t){return t?"open":"closed"}var MV=cE,AV=hE,TV=fE,yE=mE;const vE=MV,bE=AV,q0=N.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>c.jsx(TV,{children:c.jsx(yE,{ref:i,align:e,sideOffset:n,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));q0.displayName=yE.displayName;function zV(){return nn({queryKey:["tickers","sectors"],queryFn:async()=>{const{data:t}=await je.get("/tickers/sectors");return t},staleTime:1e3*60*5})}function wE({filters:t,onFilterChange:e,onReset:n}){const{data:r,isLoading:i}=zV(),a=t.risk.length+t.aiRating.length+(t.upside?1:0)+t.sector.length+(t.overallScore?1:0),o=r||[];return c.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-1 mb-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[c.jsxs("div",{className:"flex items-center gap-2 mr-2 text-muted-foreground/80",children:[c.jsx(AO,{className:"w-4 h-4"}),a>0&&c.jsx(Oe,{variant:"secondary",className:"h-5 px-1.5 text-[10px] rounded-full",children:a})]}),c.jsxs(sc,{label:"AI Rating",count:t.aiRating.length,variant:"purple",children:[c.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b bg-muted/30",children:"AI Signal"}),c.jsx("div",{className:"p-1",children:["Strong Buy","Buy","Hold","Sell","Speculative Buy"].map(u=>c.jsx(ac,{label:u,selected:t.aiRating.includes(u),onClick:()=>{const h=t.aiRating.includes(u)?t.aiRating.filter(f=>f!==u):[...t.aiRating,u];e("aiRating",h)}},u))})]}),c.jsxs(sc,{label:"Risk Level",count:t.risk.length,variant:"amber",children:[c.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b bg-muted/30",children:"Risk Profile"}),c.jsx("div",{className:"p-1",children:["Low (0-3.5)","Medium (3.5-6.5)","High (6.5+)"].map(u=>c.jsx(ac,{label:u,selected:t.risk.includes(u),onClick:()=>{const h=t.risk.includes(u)?t.risk.filter(f=>f!==u):[...t.risk,u];e("risk",h)}},u))})]}),c.jsxs(sc,{label:"Risk/Reward",activeValue:t.overallScore,variant:"cyan",children:[c.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b bg-muted/30",children:"Min R/R Score"}),c.jsx("div",{className:"p-1",children:["> 5.0","> 7.5","> 8.5"].map(u=>c.jsx(ac,{label:u,selected:t.overallScore===u,onClick:()=>e("overallScore",t.overallScore===u?null:u)},u))})]}),c.jsxs(sc,{label:"Upside",activeValue:t.upside,variant:"emerald",children:[c.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b bg-muted/30",children:"Min Upside"}),c.jsx("div",{className:"p-1",children:["> 10%","> 20%","> 50%"].map(u=>c.jsx(ac,{label:u,selected:t.upside===u,onClick:()=>e("upside",t.upside===u?null:u)},u))})]}),c.jsxs(sc,{label:"Sector",count:t.sector.length,variant:"blue",children:[c.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b bg-muted/30",children:"Sectors"}),c.jsx("div",{className:"p-1 max-h-[300px] overflow-y-auto custom-scrollbar",children:i?c.jsxs("div",{className:"flex items-center justify-center py-4 text-muted-foreground text-xs",children:[c.jsx(Wt,{className:"w-3 h-3 animate-spin mr-2"}),"Loading sectors..."]}):o.length===0?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-xs",children:"No sectors found"}):o.map(u=>c.jsx(ac,{label:u,selected:t.sector.includes(u),onClick:()=>{const h=t.sector.includes(u)?t.sector.filter(f=>f!==u):[...t.sector,u];e("sector",h)}},u))})]}),a>0&&c.jsxs(pe,{variant:"ghost",size:"sm",onClick:n,className:"h-8 px-2 text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded-md transition-colors",children:["Reset",c.jsx(Ea,{className:"ml-1.5 w-3.5 h-3.5"})]})]})}const sc=({label:t,count:e,activeValue:n,variant:r="default",children:i})=>{const a=e&&e>0||!!n,o="h-8 px-3 text-xs font-medium border transition-colors duration-200",u="border-dashed border-border bg-background hover:bg-muted/50 text-muted-foreground hover:text-foreground",h={purple:"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-500/10 hover:bg-purple-500/20",amber:"border-amber-500 text-amber-600 dark:text-amber-400 bg-amber-500/10 hover:bg-amber-500/20",emerald:"border-emerald-500 text-emerald-600 dark:text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20",cyan:"border-cyan-500 text-cyan-600 dark:text-cyan-400 bg-cyan-500/10 hover:bg-cyan-500/20",blue:"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-500/10 hover:bg-blue-500/20",default:"border-primary text-primary bg-primary/10 hover:bg-primary/20"};return c.jsxs(vE,{children:[c.jsx(bE,{asChild:!0,children:c.jsxs("button",{className:Fe(o,"rounded-md flex items-center gap-2",a?h[r]:u),children:[t,a&&c.jsxs("div",{className:"flex items-center gap-1.5 ml-0.5",children:[c.jsx("div",{className:Fe("h-3.5 w-[1px]",a?"bg-current/40":"bg-border")}),c.jsx("span",{className:"font-bold",children:e||n})]})]})}),c.jsx(q0,{align:"start",className:"w-[200px] p-0 animate-in zoom-in-95 duration-200",children:i})]})},ac=({label:t,selected:e,onClick:n})=>c.jsxs("div",{className:Fe("flex items-center justify-between rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground cursor-pointer group",e&&"bg-accent/50 text-accent-foreground"),onClick:n,children:[c.jsx("span",{className:Fe("transition-colors",e?"font-medium":"text-muted-foreground group-hover:text-foreground"),children:t}),e&&c.jsx(dc,{className:"h-3.5 w-3.5 text-primary animate-in zoom-in duration-200"})]});function OV({filters:t,viewMode:e,onViewModeChange:n}){const r=_t(),[i,a]=N.useState(1),[o]=N.useState(25),[u,h]=N.useState(""),[f,p]=N.useState([{id:"market_cap",desc:!0}]),{data:g,isLoading:x}=n2({page:i,limit:o,sortBy:f[0]?.id||"market_cap",sortDir:f[0]?.desc?"DESC":"ASC",search:u,risk:t?.risk,aiRating:t?.aiRating,upside:t?.upside,sector:t?.sector,overallScore:t?.overallScore}),v=g?.items||[],w=g?.meta,S=C0(),C=[S.accessor("ticker.symbol",{header:"Asset",cell:j=>{const{research:E,news:_,social:A}=j.row.original.counts||{},O=(E||0)+(_||0)+(A||0)>0;return c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"cursor-pointer",onClick:()=>r(`/ticker/${j.getValue()}`),children:c.jsx(mr,{url:j.row.original.ticker.logo_url,symbol:j.getValue(),className:"w-10 h-10 rounded-full"})}),c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-base font-bold text-foreground hover:underline cursor-pointer",onClick:()=>r(`/ticker/${j.getValue()}`),children:j.getValue()}),O&&c.jsxs("div",{className:"flex items-center gap-2",children:[E?c.jsxs("div",{className:"flex items-center gap-0.5 text-purple-400",title:`${E} Reports`,children:[c.jsx(Nn,{size:10}),c.jsx("span",{className:"text-[9px] font-medium",children:E})]}):null,_?c.jsxs("div",{className:"flex items-center gap-0.5 text-sky-400",title:`${_} News`,children:[c.jsx(fi,{size:10}),c.jsx("span",{className:"text-[9px] font-medium",children:_})]}):null,A?c.jsxs("div",{className:"flex items-center gap-0.5 text-blue-400",title:`${A} Social`,children:[c.jsx(Zl,{size:10}),c.jsx("span",{className:"text-[9px] font-medium",children:A})]}):null]})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[180px]",title:j.row.original.ticker.name,children:j.row.original.ticker.name}),j.row.original.ticker.sector&&c.jsx("span",{className:"text-[10px] text-muted-foreground/70 truncate max-w-[150px]",children:j.row.original.ticker.sector})]})]})]})}}),S.accessor(j=>j.latestPrice?.change,{id:"price_change",header:"Price / Change",cell:j=>{const E=j.getValue(),_=j.row.original.latestPrice?.close;if(!_)return"-";const A=(E||0)>=0;return c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsxs("span",{className:"text-sm font-mono font-medium text-foreground/70",children:["$",_.toFixed(2)]}),E!=null?c.jsxs("div",{className:Fe("flex items-center text-xs font-bold",A?"text-emerald-500":"text-red-500"),children:[A?c.jsx(Yn,{size:12,className:"mr-0.5"}):c.jsx(Vr,{size:12,className:"mr-0.5"}),Math.abs(E).toFixed(2),"%"]}):c.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})]})}}),S.accessor(j=>j.fundamentals.market_cap,{id:"market_cap",header:"Mkt Cap",cell:j=>{const E=j.getValue();if(!E||E===0)return c.jsx("span",{className:"text-muted-foreground",children:"-"});const _=A=>A>=1e12?(A/1e12).toFixed(2)+"T":A>=1e9?(A/1e9).toFixed(2)+"B":(A/1e6).toFixed(2)+"M";return c.jsx("span",{className:"font-mono text-muted-foreground text-xs",children:_(E)})}}),S.accessor(j=>j.fundamentals.pe_ttm,{id:"pe_ttm",header:"P/E",cell:j=>{const E=j.getValue();return E?c.jsx("span",{className:"font-mono text-muted-foreground text-xs",children:Number(E).toFixed(2)}):"-"}}),S.accessor(j=>j.aiAnalysis?.financial_risk,{id:"financial_risk",header:"Risk",cell:j=>{const E=j.getValue();if(E==null)return"-";let _="text-muted-foreground",A=fr;return E<=3.5?(_="text-emerald-500",A=fr):E<=6.5?(_="text-yellow-500",A=mn):(_="text-red-500",A=Jl),c.jsxs("span",{className:Fe("flex items-center gap-1.5 font-bold",_),children:[c.jsx(A,{size:14}),Number(E).toFixed(1)]})}}),S.accessor(j=>j.aiAnalysis?.overall_score,{id:"overall_score",header:"Risk/Reward",cell:j=>{const E=j.getValue();if(E==null)return"-";let _="text-muted-foreground";return E>=7.5?_="text-emerald-500":E>=5?_="text-yellow-500":_="text-red-500",c.jsx("span",{className:Fe("font-bold",_),children:Number(E).toFixed(1)})}}),S.accessor(j=>j.aiAnalysis?.base_price,{id:"upside_percent",header:"Upside",cell:j=>{const E=j.getValue(),_=j.row.original.latestPrice?.close??0,A=Sa(_,E,j.row.original.aiAnalysis?.upside_percent),O=A>0;return c.jsxs("div",{className:Fe("flex items-center font-bold text-xs",O?"text-emerald-500":"text-muted-foreground"),children:[O&&c.jsx(Yn,{size:12,className:"mr-0.5"}),A.toFixed(1),"%"]})}}),S.accessor(j=>j.aiAnalysis?.bear_price,{id:"downside_percent",header:"Downside",cell:j=>{const E=j.getValue(),_=j.row.original.latestPrice?.close??0,A=Number(j.row.original.aiAnalysis?.financial_risk??0);let O=0;return typeof E=="number"&&_>0?O=(E-_)/_*100:A>=8?O=-100:O=-(A*2.5),c.jsxs("div",{className:"flex items-center font-bold text-xs text-amber-500",children:[c.jsx(Vr,{size:12,className:"mr-0.5"}),O.toFixed(1),"%"]})}}),S.accessor(j=>j.aiAnalysis?.financial_risk,{id:"ai_rating",header:"AI Rating",enableSorting:!0,cell:j=>{const E=j.row.original.aiAnalysis?.financial_risk;let _="Hold",A="outline";if(E!==void 0){const O=Number(E),z=j.row.original.latestPrice?.close??0,F=Sa(z,j.row.original.aiAnalysis?.base_price,j.row.original.aiAnalysis?.upside_percent),P=j.row.original.aiAnalysis?.overall_score,$=Ra(O,F,P);_=$.rating,A=$.variant}return c.jsxs(Oe,{variant:A,className:"whitespace-nowrap h-6 px-2 gap-1.5 cursor-default",children:[c.jsx(Qn,{size:12}),_]})}}),S.accessor(j=>j.fundamentals.consensus_rating,{id:"consensus",header:"Analyst",cell:j=>{const E=j.getValue();if(!E||E==="-")return c.jsx("span",{className:"text-muted-foreground",children:"-"});const _=E.toLowerCase();let A="Hold",O="hold";_.includes("strong buy")?(A="Strong Buy",O="strongBuy"):_.includes("buy")?(A="Buy",O="buy"):_.includes("sell")?(A="Sell",O="sell"):(A="Hold",O="hold");const z=j.row.original.counts?.analysts||0,F=z>0?`${A} (${z})`:A;return c.jsx(Oe,{variant:O,className:"whitespace-nowrap h-6 px-2",children:F})}})];return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[c.jsx(Qi,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c.jsx("input",{placeholder:"Search tickers...",value:u,onChange:j=>{h(j.target.value),a(1)},className:"pl-8 h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"})]}),c.jsxs("div",{className:"flex items-center space-x-1 border border-border rounded-md p-1 bg-card",children:[c.jsx("button",{onClick:()=>n("table"),className:`p-1.5 rounded transition-colors ${e==="table"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,title:"Table View",children:c.jsx(i0,{size:16})}),c.jsx("button",{onClick:()=>n("grid"),className:`p-1.5 rounded transition-colors ${e==="grid"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,title:"Grid View",children:c.jsx(r0,{size:16})})]})]}),e==="table"?c.jsx(Y8,{data:v,columns:C,sorting:f,setSorting:p,navigate:j=>r(j),isLoading:x}):c.jsx(Q8,{data:v,isLoading:x}),w&&c.jsxs("div",{className:"flex items-center justify-between px-2",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(i-1)*o+1," to"," ",Math.min(i*o,w.total)," of ",w.total," results"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{className:"h-8 w-8 p-0 flex items-center justify-center rounded-md border border-input bg-transparent hover:bg-accent hover:text-accent-foreground disabled:opacity-50",onClick:()=>a(j=>Math.max(1,j-1)),disabled:i===1||x,children:c.jsx($C,{className:"h-4 w-4"})}),c.jsxs("div",{className:"text-sm font-medium",children:["Page ",i," of ",w.totalPages]}),c.jsx("button",{className:"h-8 w-8 p-0 flex items-center justify-center rounded-md border border-input bg-transparent hover:bg-accent hover:text-accent-foreground disabled:opacity-50",onClick:()=>a(j=>Math.min(w.totalPages,j+1)),disabled:i>=w.totalPages||x,children:c.jsx(Lh,{className:"h-4 w-4"})})]})]})]})}function DV(){const[t,e]=qx(),[n,r]=N.useState(()=>{const f=t.getAll("risk"),p=t.getAll("aiRating"),g=t.getAll("sector"),x=t.get("upside"),v=t.get("filter"),w={risk:f.length>0?f:[],aiRating:p.length>0?p:[],sector:g.length>0?g:[],upside:x||null,overallScore:null};return v==="strong_buy"&&w.aiRating.length===0&&(w.aiRating=["Strong Buy"]),v==="sell"&&w.aiRating.length===0&&(w.aiRating=["Sell"]),w}),[i,a]=N.useState(()=>{const f=t.get("view");return f==="grid"||f==="table"?f:window.innerWidth<768?"grid":"table"}),o=N.useRef(!1);N.useEffect(()=>{if(!o.current){o.current=!0;return}const f=new URLSearchParams;n.risk?.forEach(p=>f.append("risk",p)),n.aiRating?.forEach(p=>f.append("aiRating",p)),n.sector?.forEach(p=>f.append("sector",p)),n.upside&&f.append("upside",n.upside),f.set("view",i),e(f,{replace:!0})},[n,i,e]);const u=(f,p)=>{r(g=>({...g,[f]:p}))},h=()=>{r({risk:[],aiRating:[],sector:[],upside:null,overallScore:null})};return c.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/30",children:[c.jsx(Ar,{}),c.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-[80rem] space-y-4 sm:space-y-6 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tickers"}),c.jsxs("p",{className:"text-muted-foreground",children:["Advanced screening for all ",new Date().getFullYear()," market data. Filter by AI risk, upside potential, and fundamentals."]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(wE,{filters:n,onFilterChange:u,onReset:h}),c.jsx(fh,{children:c.jsx(OV,{filters:n,viewMode:i,onViewModeChange:a})})]})]})]})}const PV={getProfile:async()=>{const{data:t}=await je.get("/users/me");return t}},pn=N.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:Ne("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));pn.displayName="Input";const LV=Bh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gt=N.forwardRef(({className:t,...e},n)=>c.jsx("label",{ref:n,className:Ne(LV(),t),...e}));gt.displayName="Label";const Zh=N.forwardRef(({className:t,...e},n)=>c.jsx("div",{className:"relative w-full overflow-auto rounded-lg border border-border bg-card",children:c.jsx("table",{ref:n,className:Ne("w-full caption-bottom text-sm",t),...e})}));Zh.displayName="Table";const ef=N.forwardRef(({className:t,...e},n)=>c.jsx("thead",{ref:n,className:Ne("[&_tr]:border-b bg-muted/30 text-muted-foreground",t),...e}));ef.displayName="TableHeader";const tf=N.forwardRef(({className:t,...e},n)=>c.jsx("tbody",{ref:n,className:Ne("[&_tr:last-child]:border-0",t),...e}));tf.displayName="TableBody";const FV=N.forwardRef(({className:t,...e},n)=>c.jsx("tfoot",{ref:n,className:Ne("bg-primary font-medium text-primary-foreground",t),...e}));FV.displayName="TableFooter";const di=N.forwardRef(({className:t,...e},n)=>c.jsx("tr",{ref:n,className:Ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted odd:bg-muted/10 even:bg-card",t),...e}));di.displayName="TableRow";const ci=N.forwardRef(({className:t,...e},n)=>c.jsx("th",{ref:n,className:Ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ci.displayName="TableHead";const Gt=N.forwardRef(({className:t,...e},n)=>c.jsx("td",{ref:n,className:Ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Gt.displayName="TableCell";const BV=N.forwardRef(({className:t,...e},n)=>c.jsx("caption",{ref:n,className:Ne("mt-4 text-sm text-muted-foreground",t),...e}));BV.displayName="TableCaption";const gi=N.forwardRef(({className:t,children:e,open:n,onOpenChange:r,...i},a)=>n?Ah.createPortal(c.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 sm:p-6",...i,children:[c.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm transition-all duration-100 data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",onClick:()=>r?.(!1)}),c.jsxs("div",{ref:a,style:{backgroundColor:"#1c1c1c"},className:Ne("relative w-full max-w-lg transform overflow-hidden rounded-lg border bg-zinc-900 p-6 text-left shadow-xl transition-all animate-in slide-in-from-bottom-10 sm:max-w-3xl sm:slide-in-from-bottom-0 sm:zoom-in-95 data-[state=open]:fade-in-0",t),children:[e,c.jsxs("button",{onClick:()=>r?.(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Ea,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}),document.body):null);gi.displayName="Dialog";const xi=({className:t,...e})=>c.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left mb-4",t),...e});xi.displayName="DialogHeader";const yi=N.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:Ne("text-lg font-semibold leading-none tracking-tight",t),...e}));yi.displayName="DialogTitle";const Rc=N.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));Rc.displayName="DialogDescription";const qc=({className:t,...e})=>c.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});qc.displayName="DialogFooter";function IV({transactions:t,trigger:e}){const n=_t(),[r,i]=N.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:()=>i(!0),className:"inline-block cursor-pointer",children:e||c.jsxs("button",{className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[c.jsx(jc,{size:16})," Transaction History"]})}),c.jsxs(gi,{open:r,onOpenChange:i,className:"sm:max-w-[600px] max-h-[80vh] flex flex-col",children:[c.jsx(xi,{children:c.jsxs(yi,{className:"flex items-center gap-2",children:[c.jsx(jc,{size:20,className:"text-primary"}),"Transaction History"]})}),c.jsx("div",{className:"flex-1 overflow-y-auto min-h-[300px] pr-2 mt-4",children:c.jsxs(Zh,{children:[c.jsx(ef,{children:c.jsxs(di,{children:[c.jsx(ci,{children:"Date"}),c.jsx(ci,{children:"Action"}),c.jsx(ci,{className:"text-right",children:"Amount"})]})}),c.jsxs(tf,{children:[t?.map(a=>{const o=a.metadata?.research_id||a.metadata?.noteId,u=(a.reason==="research_spend"||a.metadata?.noteId)&&!!o;return c.jsxs(di,{className:u?"cursor-pointer hover:bg-muted/50 transition-colors group":"",onClick:()=>{u&&(i(!1),n(`/research/${o}`))},children:[c.jsx(Gt,{className:"text-xs tabular-nums text-muted-foreground whitespace-nowrap",children:new Date(a.created_at).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),c.jsx(Gt,{className:"text-sm",children:u?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Oe,{variant:"outline",className:"px-1 py-0 h-5 font-mono text-[10px] text-muted-foreground border-border group-hover:border-primary/50 transition-colors",children:["ID: ",o.slice(0,5)]}),c.jsx("span",{className:"text-xs text-muted-foreground group-hover:text-primary transition-colors",children:"Research Analysis"})]}):c.jsx("span",{className:"capitalize",children:a.reason.replace(/_/g," ")})}),c.jsxs(Gt,{className:`text-right font-mono font-bold ${a.amount>0?"text-green-500":"text-red-500"}`,children:[a.amount>0?"+":"",a.amount]})]},a.id)}),(!t||t.length===0)&&c.jsx(di,{children:c.jsx(Gt,{colSpan:3,className:"text-center py-6 text-muted-foreground",children:"No transactions yet."})})]})]})})]})]})}function SN(){const{user:t,refreshSession:e}=Or(),[n,r]=N.useState(""),[i,a]=N.useState("g100"),[o,u]=N.useState(!1);N.useEffect(()=>{let p=i;p.startsWith("g")&&(p="dark"),["light","dark","rgb"].includes(p)||(p="dark"),document.documentElement.setAttribute("data-theme",p),document.documentElement.classList.remove("theme-light","theme-dark","theme-rgb"),document.documentElement.classList.add(`theme-${p}`),p==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark")},[i]),N.useEffect(()=>{t&&(r(t.nickname||""),a(t.theme||"g100"))},[t]);const{data:h}=nn({queryKey:["userProfile",t?.id],queryFn:PV.getProfile,enabled:!!t?.id}),f=async()=>{u(!0);try{await je.patch("/users/me",{nickname:n,theme:i}),await e()}catch(p){console.error("Failed to update profile",p)}finally{u(!1)}};return c.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/30",children:[c.jsx(Ar,{}),c.jsxs("main",{className:"max-w-5xl mx-auto p-4 sm:p-8 space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6 mb-8 text-center sm:text-left",children:[c.jsx("div",{className:"relative group",children:c.jsx("div",{className:"relative w-24 h-24 rounded-full bg-muted flex items-center justify-center border-2 border-background overflow-hidden shrink-0",children:t?.avatar_url?c.jsx("img",{src:t.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx(Ol,{size:48,className:"text-muted-foreground"})})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400",children:n||t?.name||"Trader"}),h?.tier==="pro"&&c.jsx(Oe,{className:"bg-gradient-to-r from-violet-600 to-fuchsia-600 border-0",children:"PRO"})]}),c.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:t?.email})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(xt,{className:"md:col-span-2 border-primary/20 bg-muted/10 overflow-hidden relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/5 via-transparent to-transparent pointer-events-none"}),c.jsxs(Ut,{children:[c.jsxs(Ht,{className:"flex items-center gap-2",children:[c.jsx(M3,{className:"text-primary",size:20}),"Membership & Credits"]}),c.jsx(fc,{children:"Your subscription status and available research credits"})]}),c.jsx(yt,{className:"space-y-6 relative z-10",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-center justify-between p-6 bg-background/50 rounded-xl border border-border/50 shadow-sm",children:[c.jsxs("div",{className:"text-center sm:text-left space-y-1",children:[c.jsx("div",{className:"text-sm text-muted-foreground font-medium uppercase tracking-wider",children:"Current Balance"}),c.jsx("div",{className:"text-3xl font-mono font-bold text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:h?.credits_balance??0}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"credits remaining this month"})]}),c.jsx("div",{className:"h-12 w-[1px] bg-border hidden sm:block"}),c.jsxs("div",{className:"flex flex-col gap-3 w-full sm:w-auto",children:[c.jsx(IV,{transactions:h?.credit_transactions,trigger:c.jsxs(pe,{variant:"outline",className:"w-full justify-start gap-2 border-primary/20 hover:border-primary/50 hover:bg-primary/5",children:[c.jsx(jc,{size:16,className:"text-primary"}),"View History",c.jsxs("span",{className:"ml-auto text-xs text-muted-foreground font-mono",children:[h?.credit_transactions?.length??0," tx"]})]})}),h?.tier==="free"&&c.jsx(pe,{className:"w-full bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:opacity-90 transition-opacity border-0",children:"Upgrade to Pro"})]})]})})]}),c.jsxs(xt,{children:[c.jsxs(Ut,{children:[c.jsxs(Ht,{className:"flex items-center gap-2",children:[c.jsx(Ol,{className:"text-primary",size:20}),"Identity"]}),c.jsx(fc,{children:"How you appear in the community"})]}),c.jsx(yt,{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(gt,{htmlFor:"nickname",children:"Display Name"}),c.jsx(pn,{id:"nickname",value:n,onChange:p=>r(p.target.value),placeholder:"Enter your nickname",className:"bg-muted/50 border-input focus:ring-primary h-11"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"This name will be visible on your shared research notes."})]})})]}),c.jsxs(xt,{children:[c.jsxs(Ut,{children:[c.jsxs(Ht,{className:"flex items-center gap-2",children:[c.jsx(CO,{className:"text-primary",size:20}),"Appearance"]}),c.jsx(fc,{children:"Customize your terminal experience"})]}),c.jsx(yt,{children:c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs(pe,{variant:"outline",onClick:()=>a("light"),className:`h-24 flex flex-col gap-3 hover:bg-muted/50 border-input ${i==="light"?"border-primary ring-1 ring-primary bg-primary/5":""}`,children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-white border border-gray-200 shadow-sm"}),c.jsx("span",{className:"text-xs font-medium",children:"Light"})]}),c.jsxs(pe,{variant:"outline",onClick:()=>a("dark"),className:`h-24 flex flex-col gap-3 hover:bg-muted/50 border-input ${i==="dark"||i.startsWith("g")?"border-primary ring-1 ring-primary bg-primary/5":""}`,children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-950 border border-zinc-800 shadow-sm"}),c.jsx("span",{className:"text-xs font-medium",children:"Dark"})]}),c.jsxs(pe,{variant:"outline",onClick:()=>a("rgb"),className:`h-24 flex flex-col gap-3 relative overflow-hidden group border-input ${i==="rgb"?"border-[transparent] ring-2 ring-fuchsia-500/50":""}`,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/10 via-fuchsia-500/10 to-cyan-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),c.jsx("div",{className:"w-8 h-8 rounded-full bg-black border-0 bg-gradient-to-br from-violet-500 via-fuchsia-500 to-cyan-500 relative z-10 shadow-sm"}),c.jsx("span",{className:"text-xs font-medium relative z-10",children:"RGB"})]})]})})]})]}),c.jsx("div",{className:"flex justify-end pt-4 pb-20 sm:pb-4",children:c.jsxs(pe,{onClick:f,disabled:o,size:"lg",className:"w-full sm:w-auto gap-2 bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20",children:[o?c.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):c.jsx(WC,{size:18}),o?"Saving...":"Save Configuration"]})})]})]})}function UV(){const[t]=qx(),e=_t(),n=t.get("error"),r=n==="invite_only",i=n==="waitlist_joined",a=n==="waitlist_pending",o=i||a;return c.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full text-center space-y-8",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center border shadow-[0_0_30px_-5px_rgba(0,0,0,0.3)] ${o?"bg-green-500/10 border-green-500/20 shadow-green-500/30":"bg-red-500/10 border-red-500/20 shadow-red-500/30"}`,children:o?c.jsx(Jw,{className:"w-10 h-10 text-green-500"}):c.jsx(qd,{className:"w-10 h-10 text-red-500"})})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:i?"Thank You":a?"Already on Waitlist":r?"Access Restricted":"Authentication Failed"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:i?"We've added you to our priority waitlist. We'll be in touch soon.":a?"You are already on our priority waitlist. We will email you once your access is approved.":r?"This terminal is currently in private beta and accessible by invitation only.":"We couldn't sign you in. Please try again or contact support if the issue persists."})]}),c.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[!o&&r&&c.jsxs(pe,{className:"w-full h-11 text-base font-medium shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)] bg-primary hover:bg-primary/90",onClick:()=>window.location.href="/api/auth/google?intent=waitlist",children:[c.jsx(Jw,{className:"mr-2 w-4 h-4"}),"Join Priority Waitlist"]}),o?c.jsx(pe,{variant:"outline",className:"w-full h-11 border-border/50 hover:bg-muted/50",onClick:()=>window.location.href="https://google.com",children:"Exit"}):c.jsxs(pe,{variant:"outline",className:"w-full h-11 border-border/50 hover:bg-muted/50",onClick:()=>e("/"),children:[c.jsx(sh,{className:"mr-2 w-4 h-4"}),"Return to Home"]})]}),c.jsx("div",{className:"pt-8 border-t border-border/30",children:c.jsx("p",{className:"text-xs text-muted-foreground",children:"NeuralTicker.com  "})})]})})}const Er=t=>{const e=t;throw e.response?.status===403||e.response?.status===401?new Error("Access denied. Admin privileges required."):t},li={getUsers:async()=>{try{const{data:t}=await je.get("/admin/users");return t}catch(t){throw Er(t),t}},getUserlist:async()=>{try{const{data:t}=await je.get("/admin/userlist");return t}catch(t){throw Er(t),t}},getIdentities:async()=>{try{const{data:t}=await je.get("/admin/identities");return t}catch(t){throw Er(t),t}},addToUserlist:async t=>{try{const{data:e}=await je.post("/admin/userlist",{email:t});return e}catch(e){throw Er(e),e}},revokeAccess:async t=>{try{return await je.delete(`/admin/userlist/${encodeURIComponent(t)}`)}catch(e){throw Er(e),e}},rejectWaitlistUser:async t=>{try{return await je.delete(`/admin/waitlist/${encodeURIComponent(t)}`)}catch(e){throw Er(e),e}},approveUser:async t=>{try{const{data:e}=await je.post(`/users/${t}/approve`);return e}catch(e){throw Er(e),e}},updateTier:async(t,e)=>{try{const{data:n}=await je.patch(`/admin/users/${t}/tier`,{tier:e});return n}catch(n){throw Er(n),n}},giftCredits:async(t,e,n)=>{try{const{data:r}=await je.post(`/admin/users/${t}/credits`,{amount:e,reason:n});return r}catch(r){throw Er(r),r}},getHiddenTickers:async()=>{try{const{data:t}=await je.get("/tickers/admin/hidden");return t}catch(t){throw Er(t),t}},searchTickersAdmin:async t=>{try{const{data:e}=await je.get("/tickers/admin/search",{params:{search:t}});return e}catch(e){throw Er(e),e}},setTickerHidden:async(t,e)=>{try{const{data:n}=await je.patch(`/tickers/${t}/hidden`,{hidden:e});return n}catch(n){throw Er(n),n}}};function HV(){const[t,e]=N.useState([]),[n,r]=N.useState([]),[i,a]=N.useState(""),[o,u]=N.useState(!1),[h,f]=N.useState(!0),[p,g]=N.useState(null),x=N.useCallback(async()=>{f(!0);try{const S=await li.getHiddenTickers();r(S)}catch(S){console.error("Failed to load hidden tickers:",S)}finally{f(!1)}},[]);N.useEffect(()=>{x()},[x]);const v=async()=>{if(!i.trim()){e([]);return}u(!0);try{const S=await li.searchTickersAdmin(i);e(S)}catch(S){console.error("Failed to search tickers:",S)}finally{u(!1)}},w=async(S,C)=>{g(S);try{await li.setTickerHidden(S,!C),e(j=>j.map(E=>E.symbol===S?{...E,is_hidden:!C}:E)),await x()}catch(j){console.error("Failed to toggle hidden status:",j),alert("Failed to update ticker visibility")}finally{g(null)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(xt,{children:[c.jsxs(Ut,{className:"pb-3",children:[c.jsxs(Ht,{className:"flex items-center gap-2",children:[c.jsx($d,{className:"w-5 h-5 text-orange-500"}),"Shadow Ban Tickers"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Hide bankrupt or problematic companies from appearing in suggestions"})]}),c.jsxs(yt,{children:[c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),c.jsx(pn,{type:"text",placeholder:"Search ticker symbol or name...",value:i,onChange:S=>a(S.target.value),onKeyDown:S=>S.key==="Enter"&&v(),className:"pl-9"})]}),c.jsx(pe,{onClick:v,disabled:o,children:o?c.jsx(Wt,{className:"w-4 h-4 animate-spin"}):"Search"})]}),t.length>0&&c.jsxs(Zh,{children:[c.jsx(ef,{children:c.jsxs(di,{children:[c.jsx(ci,{children:"Symbol"}),c.jsx(ci,{children:"Name"}),c.jsx(ci,{children:"Exchange"}),c.jsx(ci,{children:"Status"}),c.jsx(ci,{className:"text-right",children:"Action"})]})}),c.jsx(tf,{children:t.map(S=>c.jsxs(di,{children:[c.jsx(Gt,{className:"font-mono font-semibold",children:S.symbol}),c.jsx(Gt,{className:"text-muted-foreground",children:S.name}),c.jsx(Gt,{children:c.jsx(Oe,{variant:"outline",className:"text-xs",children:S.exchange})}),c.jsx(Gt,{children:S.is_hidden?c.jsxs(Oe,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:[c.jsx($d,{className:"w-3 h-3 mr-1"}),"Hidden"]}):c.jsxs(Oe,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",children:[c.jsx(hc,{className:"w-3 h-3 mr-1"}),"Visible"]})}),c.jsx(Gt,{className:"text-right",children:c.jsx(pe,{size:"sm",variant:S.is_hidden?"outline":"destructive",onClick:()=>w(S.symbol,S.is_hidden),disabled:p===S.symbol,className:"gap-1",children:p===S.symbol?c.jsx(Wt,{className:"w-3 h-3 animate-spin"}):S.is_hidden?c.jsxs(c.Fragment,{children:[c.jsx(hc,{className:"w-3 h-3"}),"Unhide"]}):c.jsxs(c.Fragment,{children:[c.jsx($d,{className:"w-3 h-3"}),"Hide"]})})})]},S.symbol))})]}),i&&t.length===0&&!o&&c.jsxs("p",{className:"text-center text-muted-foreground py-4",children:['No tickers found matching "',i,'"']})]})]}),c.jsxs(xt,{children:[c.jsx(Ut,{className:"pb-3",children:c.jsxs(Ht,{className:"flex items-center gap-2",children:[c.jsx(mn,{className:"w-5 h-5 text-orange-500"}),"Currently Hidden (",n.length,")"]})}),c.jsx(yt,{children:h?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx(Wt,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):n.length===0?c.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No tickers are currently hidden"}):c.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(S=>c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-red-500/10 border border-red-500/20",children:[c.jsx("span",{className:"font-mono font-semibold text-red-400",children:S.symbol}),c.jsx("span",{className:"text-xs text-muted-foreground",children:S.name}),c.jsx(pe,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover:bg-emerald-500/20",onClick:()=>w(S.symbol,!0),disabled:p===S.symbol,children:p===S.symbol?c.jsx(Wt,{className:"w-3 h-3 animate-spin"}):c.jsx(hc,{className:"w-3 h-3 text-emerald-400"})})]},S.symbol))})})]})]})}function VV(){const{user:t}=Or(),e=_t(),[n,r]=N.useState([]),[i,a]=N.useState(""),[o,u]=N.useState(!0),[h,f]=N.useState(null),[p,g]=N.useState(!1),[x,v]=N.useState(!1),[w,S]=N.useState(null),[C,j]=N.useState(1),[E,_]=N.useState("Admin Gift");N.useEffect(()=>{t&&t.role!=="admin"&&e("/access-denied",{replace:!0})},[t,e]);const[A,O]=N.useState("users"),[z,F]=N.useState(""),[P,$]=N.useState("ALL"),[L,q]=N.useState({key:"created_at",direction:"desc"}),[J,de]=N.useState(1),se=10,te=N.useCallback(async()=>{if(!t||t.role!=="admin"){u(!1);return}u(!0),f(null);try{const H=await li.getIdentities();r(H)}catch(H){const ce=H.response;if(ce?.status===403||ce?.status===401)f("Access denied. Admin privileges required."),e("/access-denied",{replace:!0});else{const ve=ce?.data?.message||"Failed to load data";f(ve)}}finally{u(!1)}},[t,e]);N.useEffect(()=>{te()},[te]);const B=async H=>{if(H.preventDefault(),!!i)try{await li.addToUserlist(i),a(""),await te(),g(!1)}catch(ce){alert(ce.response?.data?.message||"Failed to add email")}},Y=async H=>{const ce=H.status==="WAITLIST",ve=ce?`Are you sure you want to REJECT ${H.email}? They will be removed from the database.`:`Are you sure you want to REVOKE access for ${H.email}?`;if(globalThis.confirm(ve))try{ce?await li.rejectWaitlistUser(H.email):await li.revokeAccess(H.email),await te()}catch(Ae){alert(Ae.response?.data?.message||"Failed to perform action")}},V=async H=>{try{await li.addToUserlist(H),await te()}catch(ce){alert(ce.response?.data?.message||"Failed to approve user")}},ge=async(H,ce)=>{if(globalThis.confirm(`Are you sure you want to change user tier to ${ce}?`))try{await li.updateTier(H,ce),r(n.map(ve=>ve.id===H?{...ve,tier:ce}:ve))}catch(ve){alert(ve.response?.data?.message||"Failed to update tier")}},T=async H=>{if(H.preventDefault(),!!w)try{await li.giftCredits(w.id,Number(C),E),v(!1),j(1),await te()}catch(ce){alert(ce.response?.data?.message||"Failed to gift credits")}},D=H=>{S(H),v(!0)},Q=N.useMemo(()=>{let H=[...n];if(z){const ce=z.toLowerCase();H=H.filter(ve=>ve.email.toLowerCase().includes(ce)||ve.full_name&&ve.full_name.toLowerCase().includes(ce))}return P!=="ALL"&&(H=H.filter(ce=>P==="ACTIVE"?ce.status==="ACTIVE"||ce.status==="ADMIN":ce.status===P)),H.sort((ce,ve)=>{const Ae=ce[L.key],tt=ve[L.key];return Ae<tt?L.direction==="asc"?-1:1:Ae>tt?L.direction==="asc"?1:-1:0}),H},[n,z,P,L]),M=Math.ceil(Q.length/se),ne=Q.slice((J-1)*se,J*se),ue=H=>{q(ce=>({key:H,direction:ce.key===H&&ce.direction==="desc"?"asc":"desc"}))};return c.jsxs("div",{className:"min-h-screen bg-background text-foreground transition-colors duration-300 font-sans",children:[c.jsx(Ar,{}),c.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-7xl animate-in fade-in duration-500",children:[h&&c.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive flex items-center gap-2",children:[c.jsx(qd,{size:20}),h]}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:c.jsx(KC,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Console"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage users, invites, and content moderation"})]})]}),A==="users"&&c.jsxs(pe,{onClick:()=>g(!0),className:"gap-2",children:[c.jsx(Fh,{size:18}),"Invite User"]})]}),c.jsxs("div",{className:"flex gap-2 mb-6 border-b border-border",children:[c.jsxs("button",{onClick:()=>O("users"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium transition-colors border-b-2 -mb-px ${A==="users"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[c.jsx(WO,{size:16}),"Users"]}),c.jsxs("button",{onClick:()=>O("shadowban"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium transition-colors border-b-2 -mb-px ${A==="shadowban"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[c.jsx($d,{size:16}),"Shadow Ban"]})]}),A==="shadowban"&&c.jsx(HV,{}),A==="users"&&c.jsxs(xt,{children:[c.jsx(Ut,{className:"pb-3",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between md:items-center",children:[c.jsx(Ht,{children:"Users Directory"}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-center",children:[c.jsxs("div",{className:"relative w-full md:w-64",children:[c.jsx(Qi,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),c.jsx(pn,{type:"text",placeholder:"Search users...",value:z,onChange:H=>F(H.target.value),className:"pl-9 h-9"})]}),c.jsx("div",{className:"flex p-1 bg-muted rounded-md border border-border",children:["ALL","ACTIVE","WAITLIST","INVITED"].map(H=>c.jsx("button",{onClick:()=>$(H),className:`px-3 py-1 text-xs font-medium rounded-sm transition-all ${P===H?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:H.charAt(0)+H.slice(1).toLowerCase()},H))})]})]})}),c.jsxs(yt,{className:"p-0",children:[c.jsx("div",{className:"hidden md:block",children:c.jsxs(Zh,{children:[c.jsx(ef,{children:c.jsx(di,{className:"hover:bg-transparent",children:[{label:"User",key:"email"},{label:"Role",key:"role"},{label:"Tier",key:"tier"},{label:"Credits",key:"credits_balance"},{label:"Status",key:"status"},{label:"Timestamp",key:"created_at"},{label:"Actions",key:"actions"}].map(H=>c.jsx(ci,{onClick:()=>H.key!=="actions"&&ue(H.key),className:`${H.key!=="actions"?"cursor-pointer hover:text-primary transition-colors":""}`,children:c.jsxs("div",{className:"flex items-center gap-1",children:[H.label,H.key!=="actions"&&c.jsx(Zz,{className:"w-3 h-3 opacity-50"})]})},H.key))})}),c.jsx(tf,{children:o?c.jsx(di,{children:c.jsx(Gt,{colSpan:5,className:"h-24 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[c.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-primary border-t-transparent animate-spin"}),"Loading directory..."]})})}):ne.length===0?c.jsx(di,{children:c.jsx(Gt,{colSpan:5,className:"h-24 text-center text-muted-foreground",children:"No users found matching filters."})}):ne.map(H=>{const ce=t?.email===H.email,ve=H.role==="admin"||H.role==="ADMIN";return c.jsxs(di,{children:[c.jsx(Gt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-muted-foreground",children:c.jsx(Ol,{size:14})}),c.jsxs("div",{children:[H.full_name&&c.jsx("div",{className:"font-medium",children:H.full_name}),c.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:H.email})]})]})}),c.jsx(Gt,{children:c.jsx(Oe,{variant:"outline",className:H.role==="admin"?"border-amber-400 text-amber-400 lowercase":"border-emerald-500 text-emerald-500 lowercase",children:(H.role||"guest").toLowerCase()})}),c.jsx(Gt,{children:c.jsx(Oe,{variant:"outline",className:H.tier==="pro"?"border-purple-500 text-purple-500 uppercase":"border-emerald-500 text-emerald-500 uppercase",children:(H.tier||"free").toUpperCase()})}),c.jsx(Gt,{className:"font-mono text-sm",children:H.credits_balance||0}),c.jsxs(Gt,{children:[H.status==="ADMIN"&&c.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-purple-500 font-medium",children:[c.jsx(qd,{size:14})," Admin"]}),H.status==="ACTIVE"&&c.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-emerald-500 font-medium",children:[c.jsx(cc,{size:14})," Active"]}),H.status==="WAITLIST"&&c.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-orange-500 font-medium",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 animate-pulse"})," Waitlist"]}),H.status==="INVITED"&&c.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-blue-500 font-medium",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})," Invited"]})]}),c.jsx(Gt,{className:"text-xs text-muted-foreground font-mono",children:new Date(H.created_at||H.invited_at||Date.now()).toLocaleDateString()}),c.jsx(Gt,{children:c.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[H.status==="WAITLIST"&&c.jsxs(pe,{onClick:()=>V(H.email),size:"sm",variant:"outline",className:"h-8 border-emerald-500/20 text-emerald-500 hover:bg-emerald-500/10 hover:text-emerald-600",children:[c.jsx(cc,{size:14,className:"mr-1.5"}),"Approve"]}),(H.status==="ACTIVE"||H.status==="ADMIN"||H.status==="INVITED"||H.status==="WAITLIST")&&c.jsx(pe,{onClick:()=>Y(H),disabled:ce||ve,size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",title:"Revoke Access",children:c.jsx(zs,{size:16})}),(H.status==="ACTIVE"||H.status==="ADMIN")&&c.jsxs(c.Fragment,{children:[c.jsx(pe,{onClick:()=>ge(H.id,H.tier==="pro"?"free":"pro"),size:"sm",variant:"ghost",className:"h-8 w-8 text-purple-500 hover:bg-purple-500/10",title:H.tier==="pro"?"Downgrade to Free":"Upgrade to Pro",children:c.jsx(mi,{size:16})}),c.jsx(pe,{onClick:()=>D(H),size:"sm",variant:"ghost",className:"h-8 w-8 text-yellow-500 hover:bg-yellow-500/10",title:"Gift Credits",children:c.jsx(k3,{size:16})})]})]})})]},H.email)})})]})}),c.jsx("div",{className:"grid grid-cols-1 gap-3 p-4 md:hidden",children:o?c.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"Loading users..."}):ne.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No users found."}):ne.map(H=>{const ce=t?.email===H.email,ve=H.role==="admin"||H.role==="ADMIN";return c.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 shadow-sm space-y-3",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-muted-foreground bg-primary/5 text-primary",children:c.jsx(Ol,{size:18})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-sm",children:H.full_name||"Unknown User"}),c.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:H.email})]})]}),c.jsx(Oe,{variant:"outline",className:`lowercase text-[10px] h-5 ${H.role==="admin"?"border-amber-400 text-amber-400":"border-emerald-500 text-emerald-500"}`,children:(H.role||"guest").toLowerCase()})]}),c.jsx("div",{className:"h-px bg-border/50"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground block mb-1",children:"Status"}),H.status==="ADMIN"&&c.jsxs("div",{className:"flex items-center gap-1.5 text-purple-500 font-medium",children:[c.jsx(qd,{size:12})," Admin"]}),H.status==="ACTIVE"&&c.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-500 font-medium",children:[c.jsx(cc,{size:12})," Active"]}),H.status==="WAITLIST"&&c.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 font-medium",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 animate-pulse"})," Waitlist"]}),H.status==="INVITED"&&c.jsxs("div",{className:"flex items-center gap-1.5 text-blue-500 font-medium",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})," Invited"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-muted-foreground block mb-1",children:"Joined"}),c.jsx("span",{className:"font-mono",children:new Date(H.created_at||H.invited_at||Date.now()).toLocaleDateString()})]})]}),(H.status==="WAITLIST"||!ve)&&c.jsxs("div",{className:"flex items-center justify-end gap-2 pt-1",children:[H.status==="WAITLIST"&&c.jsxs(pe,{onClick:()=>V(H.email),size:"sm",variant:"outline",className:"h-7 text-xs border-emerald-500/20 text-emerald-500 hover:bg-emerald-500/10 hover:text-emerald-600 w-full",children:[c.jsx(cc,{size:12,className:"mr-1.5"}),"Approve Request"]}),(H.status==="ACTIVE"||H.status==="INVITED"||H.status==="WAITLIST"||H.status==="ADMIN")&&!ce&&!ve&&c.jsxs(pe,{onClick:()=>Y(H),size:"sm",variant:"outline",className:"h-7 text-xs border-red-500/20 text-red-500 hover:bg-red-500/10 hover:text-red-600 w-full",children:[c.jsx(zs,{size:12,className:"mr-1.5"}),"Revoke"]})]})]},H.email)})})]}),c.jsxs("div",{className:"p-4 border-t border-border flex items-center justify-between",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:["Showing ",ne.length>0?(J-1)*se+1:0," to ",Math.min(J*se,Q.length)," of ",Q.length," users"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(pe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>de(H=>Math.max(1,H-1)),disabled:J===1,children:c.jsx($C,{size:16})}),c.jsx(pe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>de(H=>Math.min(M,H+1)),disabled:J===M||M===0,children:c.jsx(Lh,{size:16})})]})]})]})]}),c.jsx(gi,{open:p,onOpenChange:g,children:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs(xi,{children:[c.jsx(yi,{children:"Invite New User"}),c.jsx(Rc,{children:"Send an invitation email to add a new user."})]}),c.jsxs("form",{onSubmit:B,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Email Address"}),c.jsx(pn,{type:"email",value:i,onChange:H=>a(H.target.value),placeholder:"colleague@example.com",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[c.jsx(pe,{type:"button",variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),c.jsx(pe,{type:"submit",children:"Send Invitation"})]})]})]})}),c.jsx(gi,{open:x,onOpenChange:v,children:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs(xi,{children:[c.jsx(yi,{children:"Gift Credits"}),c.jsxs(Rc,{children:["Grant credits to ",w?.email,"."]})]}),c.jsxs("form",{onSubmit:T,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Amount"}),c.jsx(pn,{type:"number",min:"1",value:C,onChange:H=>j(Number(H.target.value)),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Reason"}),c.jsx(pn,{type:"text",value:E,onChange:H=>_(H.target.value),placeholder:"Bonus, Refund, etc.",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[c.jsx(pe,{type:"button",variant:"ghost",onClick:()=>v(!1),children:"Cancel"}),c.jsx(pe,{type:"submit",children:"Gift Credits"})]})]})]})})]})}function $V({children:t}){const{user:e,loading:n}=Or();return n?c.jsx("div",{className:"min-h-screen bg-[#09090b] flex items-center justify-center",children:c.jsx("div",{className:"text-blue-500",children:"Loading..."})}):!e||e.role!=="admin"?c.jsx(Hx,{to:"/access-denied",replace:!0}):c.jsx(c.Fragment,{children:t})}const G0=N.createContext(void 0),SE=({defaultValue:t,value:e,onValueChange:n,children:r,className:i})=>{const[a,o]=N.useState(t||""),u=e!==void 0?e:a,h=n||o;return c.jsx(G0.Provider,{value:{value:u,onValueChange:h},children:c.jsx("div",{className:Ne("w-full",i),children:r})})},NE=({className:t,children:e})=>c.jsx("div",{className:Ne("inline-flex h-10 items-center justify-start rounded-none border-b border-border bg-transparent p-0 text-muted-foreground w-full",t),children:e}),da=({value:t,className:e,children:n})=>{const r=N.useContext(G0);if(!r)throw new Error("TabsTrigger must be used within Tabs");const i=r.value===t;return c.jsx("button",{className:Ne("inline-flex items-center justify-center whitespace-nowrap py-2 px-4 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","border-b-2 border-transparent hover:text-foreground/80",i&&"border-primary text-foreground font-bold",e),onClick:()=>r.onValueChange(t),children:n})},ha=({value:t,className:e,children:n})=>{const r=N.useContext(G0);if(!r)throw new Error("TabsContent must be used within Tabs");return r.value!==t?null:c.jsx("div",{className:Ne("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 animate-in fade-in-50 zoom-in-99 duration-200",e),children:n})};function qV(t,e=[]){let n=[];function r(a,o){const u=N.createContext(o),h=n.length;n=[...n,o];const f=g=>{const{scope:x,children:v,...w}=g,S=x?.[t]?.[h]||u,C=N.useMemo(()=>w,Object.values(w));return c.jsx(S.Provider,{value:C,children:v})};f.displayName=a+"Provider";function p(g,x){const v=x?.[t]?.[h]||u,w=N.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>N.createContext(o));return function(u){const h=u?.[t]||a;return N.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[r,GV(i,...e)]}function GV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((u,{useScope:h,scopeName:f})=>{const g=h(a)[`__scope${f}`];return{...u,...g}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function YV(t){const e=QV(t),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,u=N.Children.toArray(a),h=u.find(KV);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function QV(t){const e=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=JV(i),u=XV(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jE=Symbol("radix.slottable");function WV(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=jE,e}function KV(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jE}function XV(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function JV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ZV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],e$=ZV.reduce((t,e)=>{const n=YV(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function t$(t){const e=n$(t),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,u=N.Children.toArray(a),h=u.find(i$);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function n$(t){const e=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=a$(i),u=s$(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var r$=Symbol("radix.slottable");function i$(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===r$}function s$(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function a$(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var l$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],o$=l$.reduce((t,e)=>{const n=t$(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),c$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),u$="VisuallyHidden",CE=N.forwardRef((t,e)=>c.jsx(o$.span,{...t,ref:e,style:{...c$,...t.style}}));CE.displayName=u$;var d$=CE,[nf]=qV("Tooltip",[Kh]),rf=Kh(),kE="TooltipProvider",h$=700,bx="tooltip.open",[f$,Y0]=nf(kE),EE=t=>{const{__scopeTooltip:e,delayDuration:n=h$,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=N.useRef(!0),u=N.useRef(!1),h=N.useRef(0);return N.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),c.jsx(f$,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(h.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:N.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:a})};EE.displayName=kE;var Mc="Tooltip",[m$,Gc]=nf(Mc),_E=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:u}=t,h=Y0(Mc,t.__scopeTooltip),f=rf(e),[p,g]=N.useState(null),x=jk(),v=N.useRef(0),w=o??h.disableHoverableContent,S=u??h.delayDuration,C=N.useRef(!1),[j,E]=Jk({prop:r,defaultProp:i??!1,onChange:F=>{F?(h.onOpen(),document.dispatchEvent(new CustomEvent(bx))):h.onClose(),a?.(F)},caller:Mc}),_=N.useMemo(()=>j?C.current?"delayed-open":"instant-open":"closed",[j]),A=N.useCallback(()=>{window.clearTimeout(v.current),v.current=0,C.current=!1,E(!0)},[E]),O=N.useCallback(()=>{window.clearTimeout(v.current),v.current=0,E(!1)},[E]),z=N.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{C.current=!0,E(!0),v.current=0},S)},[S,E]);return N.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),c.jsx(Yk,{...f,children:c.jsx(m$,{scope:e,contentId:x,open:j,stateAttribute:_,trigger:p,onTriggerChange:g,onTriggerEnter:N.useCallback(()=>{h.isOpenDelayedRef.current?z():A()},[h.isOpenDelayedRef,z,A]),onTriggerLeave:N.useCallback(()=>{w?O():(window.clearTimeout(v.current),v.current=0)},[O,w]),onOpen:A,onClose:O,disableHoverableContent:w,children:n})})};_E.displayName=Mc;var wx="TooltipTrigger",RE=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Gc(wx,n),a=Y0(wx,n),o=rf(n),u=N.useRef(null),h=Cn(e,u,i.onTriggerChange),f=N.useRef(!1),p=N.useRef(!1),g=N.useCallback(()=>f.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),c.jsx(H0,{asChild:!0,...o,children:c.jsx(e$.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:h,onPointerMove:Ot(t.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ot(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Ot(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ot(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:Ot(t.onBlur,i.onClose),onClick:Ot(t.onClick,i.onClose)})})});RE.displayName=wx;var Q0="TooltipPortal",[p$,g$]=nf(Q0,{forceMount:void 0}),ME=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,a=Gc(Q0,e);return c.jsx(p$,{scope:e,forceMount:n,children:c.jsx(Ji,{present:n||a.open,children:c.jsx(V0,{asChild:!0,container:i,children:r})})})};ME.displayName=Q0;var Bl="TooltipContent",AE=N.forwardRef((t,e)=>{const n=g$(Bl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=Gc(Bl,t.__scopeTooltip);return c.jsx(Ji,{present:r||o.open,children:o.disableHoverableContent?c.jsx(TE,{side:i,...a,ref:e}):c.jsx(x$,{side:i,...a,ref:e})})}),x$=N.forwardRef((t,e)=>{const n=Gc(Bl,t.__scopeTooltip),r=Y0(Bl,t.__scopeTooltip),i=N.useRef(null),a=Cn(e,i),[o,u]=N.useState(null),{trigger:h,onClose:f}=n,p=i.current,{onPointerInTransitChange:g}=r,x=N.useCallback(()=>{u(null),g(!1)},[g]),v=N.useCallback((w,S)=>{const C=w.currentTarget,j={x:w.clientX,y:w.clientY},E=S$(j,C.getBoundingClientRect()),_=N$(j,E),A=j$(S.getBoundingClientRect()),O=k$([..._,...A]);u(O),g(!0)},[g]);return N.useEffect(()=>()=>x(),[x]),N.useEffect(()=>{if(h&&p){const w=C=>v(C,p),S=C=>v(C,h);return h.addEventListener("pointerleave",w),p.addEventListener("pointerleave",S),()=>{h.removeEventListener("pointerleave",w),p.removeEventListener("pointerleave",S)}}},[h,p,v,x]),N.useEffect(()=>{if(o){const w=S=>{const C=S.target,j={x:S.clientX,y:S.clientY},E=h?.contains(C)||p?.contains(C),_=!C$(j,o);E?x():_&&(x(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[h,p,o,f,x]),c.jsx(TE,{...t,ref:a})}),[y$,v$]=nf(Mc,{isInside:!1}),b$=WV("TooltipContent"),TE=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...u}=t,h=Gc(Bl,n),f=rf(n),{onClose:p}=h;return N.useEffect(()=>(document.addEventListener(bx,p),()=>document.removeEventListener(bx,p)),[p]),N.useEffect(()=>{if(h.trigger){const g=x=>{x.target?.contains(h.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,p]),c.jsx(z0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:c.jsxs(Qk,{"data-state":h.stateAttribute,...f,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(b$,{children:r}),c.jsx(y$,{scope:n,isInside:!0,children:c.jsx(d$,{id:h.contentId,role:"tooltip",children:i||r})})]})})});AE.displayName=Bl;var zE="TooltipArrow",w$=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=rf(n);return v$(zE,n).isInside?null:c.jsx(Wk,{...i,...r,ref:e})});w$.displayName=zE;function S$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function N$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function j$(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function C$(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const u=e[a],h=e[o],f=u.x,p=u.y,g=h.x,x=h.y;p>r!=x>r&&n<(g-f)*(r-p)/(x-p)+f&&(i=!i)}return i}function k$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),E$(e)}function E$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _$=EE,R$=_E,M$=RE,A$=ME,OE=AE;const T$=_$,z$=R$,O$=M$,DE=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(A$,{children:c.jsx(OE,{ref:r,sideOffset:e,className:Ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));DE.displayName=OE.displayName;const NN=({score:t,className:e="",breakdown:n})=>{const r=o=>o>=7?"text-red-500":o>4?"text-yellow-500":"text-green-500",i=[{key:"financial",label:"Financial",icon:qC,val:n?.financial??t,description:"Balance sheet health, cash burn, and solvency."},{key:"execution",label:"Execution",icon:Rs,val:n?.execution??t,description:"Management track record and operational efficiency."},{key:"dilution",label:"Dilution",icon:ah,val:n?.dilution??t,description:"Risk of share issuance and value erosion."},{key:"competitive",label:"Competitive",icon:DO,val:n?.competitive??t,description:"Market position and moat durability."},{key:"regulatory",label:"Regulatory",icon:bO,val:n?.regulatory??t,description:"Legal compliance and governmental risks."}],a=({factor:o,safeVal:u,colorClass:h})=>c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("p",{className:`font-bold text-sm flex items-center gap-2 ${h}`,children:[c.jsx(o.icon,{className:"w-4 h-4"}),o.label," Risk"]})}),c.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[c.jsx("span",{className:"text-muted-foreground font-medium",children:"Impact Score"}),c.jsxs("span",{className:`font-mono font-bold ml-auto ${h}`,children:[u.toFixed(1),"/10"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:o.description})]});return c.jsx(T$,{delayDuration:0,children:c.jsx("div",{className:`flex flex-row items-center gap-6 ${e}`,children:c.jsx("div",{className:"flex flex-row gap-5",children:i.map(o=>{const u=Number(o.val??0),h=r(u);return c.jsxs(ye.Fragment,{children:[c.jsx("div",{className:"md:hidden",children:c.jsxs(vE,{children:[c.jsx(bE,{asChild:!0,children:c.jsxs("button",{type:"button",className:"group flex flex-col items-center gap-1.5 transition-transform active:scale-95 focus:outline-none",children:[c.jsx(o.icon,{className:`w-5 h-5 ${h}`}),c.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider text-muted-foreground",children:o.label.slice(0,3)})]})}),c.jsx(q0,{side:"bottom",align:"center",collisionPadding:10,className:"w-[240px]",children:c.jsx(a,{factor:o,safeVal:u,colorClass:h})})]})}),c.jsx("div",{className:"hidden md:block",children:c.jsxs(z$,{children:[c.jsx(O$,{asChild:!0,children:c.jsxs("button",{type:"button",className:"group flex flex-col items-center gap-1.5 cursor-help transition-transform hover:scale-110 focus:outline-none rounded-md p-0.5",children:[c.jsx(o.icon,{className:`w-5 h-5 ${h}`}),c.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider text-muted-foreground",children:o.label.slice(0,3)})]})}),c.jsx(DE,{side:"bottom",align:"center",collisionPadding:10,className:"p-3 w-[220px]",children:c.jsx(a,{factor:o,safeVal:u,colorClass:h})})]})})]},o.key)})})})})},W0=N.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));W0.displayName="Textarea";function D$({defaultTicker:t,trigger:e}){const[n,r]=N.useState(!1),[i,a]=N.useState(!1),[o,u]=N.useState(""),[h,f]=N.useState(""),[p,g]=N.useState(t||""),[x,v]=N.useState(""),w=Kn(),S=j=>{const E=j.target.files?.[0];if(!E)return;const _=new FileReader;_.onload=A=>{const O=A.target?.result;v(O),o||u(E.name.replace(/\.md$/,""))},_.readAsText(E)},C=async j=>{if(j.preventDefault(),!(!x||!p))try{a(!0),await je.post("/research/upload",{tickers:[p.toUpperCase()],title:o||`Manual Upload: ${p}`,content:x,status:"completed",model:h||void 0}),w.invalidateQueries({queryKey:["tickers"]}),r(!1),u(""),f(""),v(""),t||g("")}catch(E){console.error("Upload failed:",E),alert("Failed to upload research.")}finally{a(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:()=>r(!0),className:"inline-flex cursor-pointer",children:e||c.jsxs(pe,{variant:"outline",size:"sm",className:"gap-2",children:[c.jsx(Jg,{size:14})," Upload"]})}),c.jsx(gi,{open:n,onOpenChange:r,children:c.jsxs("div",{className:"flex flex-col gap-4 max-h-[85vh] overflow-y-auto",children:[c.jsx(xi,{children:c.jsx(yi,{children:"Upload Research Note"})}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg border border-border space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-sm font-semibold flex items-center gap-2",children:[c.jsx(BO,{size:14,className:"text-primary"}),"System Prompt"]}),c.jsxs(pe,{size:"sm",variant:"secondary",className:"h-6 text-xs gap-1",onClick:()=>{const j=`ROLE: Senior Equity Research Analyst.
TASK: Deep dive due diligence on ${p||"[TICKER]"}.
FOCUS: Growth, Moat, Risks, Valuation.

CRITICAL DATA REQUIREMENT:
You MUST search for and explicitly include the following TTM (Trailing Twelve Month) and MRQ (Most Recent Quarter) data in your report if available:
- Revenue, Gross Margin, Operating Margin, Net Profit Margin
- ROE, ROA
- Debt-to-Equity, Debt-to-Assets, Interest Coverage
- Current Ratio, Quick Ratio
- P/E, PEG, Price-to-Book
- Free Cash Flow
- Latest Analyst Ratings (Firm, Rating, Price Target)

Present these numbers clearly in the text or a table so they can be parsed for downstream systems.

CRITICAL SECTION REQUIREMENT:
You MUST include a "Risk/Reward Profile" section at the end of your report with the following specific format:
- Overall Score: [0-10] (10 = Best Risk/Reward)
- Financial Risk: [0-10] (10 = High Risk)
- Execution Risk: [0-10] (10 = High Risk)
- Reward Target: Estimated 12m price target ($)
- Upside: % Return to target
- Scenarios:
  - Bull: $X.XX (Rationale)
  - Base: $X.XX (Rationale)
  - Bear: $X.XX (Rationale)
`;navigator.clipboard.writeText(j),alert("Prompt Copied to Clipboard!")},children:[c.jsx(_3,{size:12})," Copy Prompt"]})]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Use this exact prompt with ChatGPT/Claude/Gemini to ensure your research is scored correctly."})]}),c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(gt,{htmlFor:"ticker",children:"Ticker Symbol"}),c.jsx(pn,{id:"ticker",value:p,onChange:j=>g(j.target.value),placeholder:"e.g. AAPL",required:!0,disabled:!!t,className:t?"bg-muted cursor-not-allowed":""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gt,{htmlFor:"title",children:"Title (Optional)"}),c.jsx(pn,{id:"title",value:o,onChange:j=>u(j.target.value),placeholder:"Research Title"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gt,{htmlFor:"model",children:"Model Used (Optional)"}),c.jsx(pn,{id:"model",value:h,onChange:j=>f(j.target.value),placeholder:"e.g. o1-preview, Claude 3.5 Sonnet"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gt,{className:"block",children:"Content source"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("label",{className:"flex flex-col items-center justify-center h-24 border-2 border-dashed border-border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",children:[c.jsx(Nc,{className:"w-6 h-6 mb-2 text-muted-foreground"}),c.jsx("span",{className:"text-xs",children:"Select Markdown File"}),c.jsx("input",{type:"file",accept:".md,.txt",className:"hidden",onChange:S})]}),c.jsx("label",{className:"flex flex-col items-center justify-center h-24 border-2 border-dashed border-border rounded-lg bg-muted/10",children:c.jsx("span",{className:"text-xs text-center px-2 text-muted-foreground",children:"Or paste text below"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gt,{htmlFor:"content",children:"Research Content (Markdown)"}),c.jsx(W0,{id:"content",value:x,onChange:j=>v(j.target.value),placeholder:"# Analysis...",className:"min-h-[150px] font-mono text-xs",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[c.jsx(pe,{type:"button",variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),c.jsxs(pe,{type:"submit",disabled:i||!x||!p,children:[i?c.jsx(Wt,{className:"animate-spin w-4 h-4 mr-2"}):c.jsx(Jg,{className:"w-4 h-4 mr-2"}),"Upload Note"]})]})]})]})})]})}const lc=[{key:"gemini-2.5-flash-lite",label:"Gemini 2.5 Flash Lite",provider:"gemini",quality:"low",speed:"3s",accuracy:"Efficient",description:"Ultra-fast and cost-effective for quick summaries.",defaultQuestion:"Give me a quick summary for {ticker}"},{key:"gemini-3-flash-preview",label:"Gemini 3 Flash",provider:"gemini",quality:"medium",speed:"6s",accuracy:"Balanced",description:"Next-gen intelligence, ideal for regular updates and news.",defaultQuestion:"Give me a concise but detailed analysis for {ticker}"},{key:"gpt-4.1-mini",label:"GPT-4.1 Mini",provider:"openai",quality:"medium",speed:"11s",accuracy:"Balanced",description:"Balanced speed vs. thoroughness for routine updates.",defaultQuestion:"Summarize the latest investment view on {ticker}."},{key:"gemini-3-pro-preview",label:"Gemini 3 Pro",provider:"gemini",quality:"deep",speed:"18s",accuracy:"Maximum Depth",description:"Optimal for deep research and complex reasoning tasks.",defaultQuestion:"Conduct a comprehensive deep dive into {ticker}, analyzing risks, catalysts, and competitive landscape."},{key:"gpt-5.1",label:"GPT-5.1",provider:"openai",quality:"deep",speed:"18s",accuracy:"High precision",description:"OpenAI flagship for detailed thesis generation.",defaultQuestion:"Generate a high-precision research brief for {ticker}."}];function P$({onTrigger:t,isAnalyzing:e,defaultTicker:n,trigger:r}){const[i,a]=N.useState(!1),[o,u]=N.useState(lc[0].key),[h,f]=N.useState(""),[p,g]=N.useState(!1),x=N.useMemo(()=>lc.find(E=>E.key===o)||lc[0],[o]),v=()=>{const E=x.defaultQuestion;let _=h;!_&&E&&n&&(_=E.replace("{ticker}",n)),t({provider:x.provider,quality:x.quality,question:_||void 0,modelKey:x.key}),a(!1)},{user:w}=Or(),S=w?.tier==="pro"||w?.role==="admin",C=(E,_)=>E==="gemini-2.5-flash-lite"?1:E==="gemini-3-flash-preview"?2:E==="gpt-4.1-mini"?1:_==="deep"?5:1,j=E=>{lc.find(A=>A.key===E)?.quality==="deep"&&!S||u(E)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:()=>!e&&a(!0),className:"inline-flex cursor-pointer",children:r||c.jsxs(pe,{size:"sm",className:"gap-2",children:[e?c.jsx(Wt,{className:"animate-spin w-4 h-4"}):c.jsx(Nn,{size:14}),"Run Analysis"]})}),c.jsxs(gi,{open:i,onOpenChange:a,children:[c.jsxs(xi,{children:[c.jsxs(yi,{className:"flex items-center gap-2",children:[c.jsx(Nn,{className:"w-5 h-5 text-primary"}),"Start AI Analysis"]}),c.jsxs(Rc,{children:["Select an AI model to generate a comprehensive research report for ",c.jsx("span",{className:"font-bold text-foreground",children:n}),"."]})]}),c.jsxs("div",{className:"grid gap-4 py-3",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:lc.map(E=>{const _=E.quality==="deep"&&!S,A=C(E.key,E.quality);return c.jsxs("div",{className:Ne("relative flex flex-col gap-1.5 rounded-lg border p-3 cursor-pointer transition-all",_?"opacity-60 bg-muted/20 cursor-not-allowed border-dashed":"hover:bg-muted/50",o===E.key&&!_?"border-primary bg-primary/5 ring-1 ring-primary/20":"border-border"),onClick:()=>j(E.key),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"font-bold text-xs flex items-center gap-1.5",children:[E.label,E.quality==="deep"&&c.jsx(Oe,{variant:"default",className:"h-4 px-1 text-[9px] bg-purple-600 hover:bg-purple-700 border-purple-500/50 text-white shadow-purple-500/20",children:"PRO"})]}),_?c.jsx(Z3,{size:12,className:"text-muted-foreground"}):o===E.key&&c.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary absolute top-3 right-3"})]}),c.jsx("div",{className:"text-[10px] text-muted-foreground leading-snug line-clamp-2 min-h-[2.5em]",children:E.description}),c.jsxs("div",{className:"flex items-center gap-1.5 mt-auto pt-1",children:[c.jsxs(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal",children:[c.jsx(Rs,{size:8})," ",E.speed]}),c.jsxs(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal text-amber-500 bg-amber-500/10 border-amber-500/20",children:[" ",A," Credit",A>1?"s":""]})]}),_&&c.jsx("div",{className:"absolute inset-x-0 bottom-2 text-center",children:c.jsx("span",{className:"text-[10px] font-bold text-purple-400 bg-background/80 px-2 py-0.5 rounded shadow-sm border border-purple-500/20",children:"Upgrade to Unlock"})})]},E.key)})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>g(!p),className:"h-auto p-0 text-xs text-muted-foreground hover:text-primary gap-1",children:p?"Hide custom instructions":"Add custom instructions"})}),p&&c.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:[c.jsx(gt,{htmlFor:"question",className:"text-xs",children:"Custom Instructions (Optional)"}),c.jsx(W0,{id:"question",placeholder:"e.g. Focus on the recent earnings call and guidance...",className:"text-xs resize-none",rows:3,value:h,onChange:E=>f(E.target.value)})]})]})]}),c.jsxs(qc,{children:[c.jsx(pe,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsxs(pe,{onClick:v,disabled:e,className:Ne("min-w-[140px] gap-2 shadow-md transition-all hover:scale-105 active:scale-95",x.quality==="deep"?"bg-purple-600 hover:bg-purple-700 text-white shadow-purple-500/20":"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-500/20"),children:[e?c.jsx(Wt,{className:"animate-spin w-4 h-4"}):c.jsx(Nn,{size:14}),"Run ",x.label]})]})]})]})}const L$="0:45",F$=t=>t?new Date(t).toLocaleString():"Unknown time";function B$({research:t,onTrigger:e,isAnalyzing:n,onDelete:r,defaultTicker:i}){const a=_t(),{user:o}=Or(),u=dD(),[h,f]=N.useState(null),[p,g]=N.useState(""),x=(S,C)=>{C.stopPropagation(),f(S.id),g(S.title||S.question||"")},v=S=>{S?.stopPropagation(),f(null),g("")},w=(S,C)=>{C?.stopPropagation(),p.trim()&&u.mutate({id:S,title:p}),f(null)};return c.jsxs(xt,{className:"h-full flex flex-col overflow-hidden",children:[c.jsx(Ut,{className:"py-3 px-3 md:py-4 md:px-4 border-b border-border bg-muted/10",children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs(Ht,{className:"font-bold text-sm flex items-center gap-2 shrink-0",children:[c.jsx(Nn,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"hidden xs:inline",children:"AI Research History"}),c.jsx("span",{className:"xs:hidden",children:"History"})]}),c.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[c.jsxs("div",{className:"flex gap-1.5 md:gap-2",children:[c.jsx(D$,{defaultTicker:i,trigger:c.jsxs(pe,{variant:"outline",className:"h-9 w-9 p-0 md:w-auto md:px-4 text-sm gap-2 border-dashed border-muted-foreground/30 hover:bg-muted",children:[c.jsx(Jg,{size:16})," ",c.jsx("span",{className:"hidden md:inline",children:"Upload"})]})}),(()=>{const C=!((o?.credits_balance??0)>0),j=c.jsxs("div",{className:"relative group/research-btn",children:[c.jsxs(pe,{size:"sm",className:`gap-2 px-4 text-sm h-9 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white shadow-lg shadow-purple-500/25 border-0 transition-all duration-300 hover:scale-[1.02] ${C?"opacity-50 cursor-not-allowed grayscale":""}`,disabled:n||C,onClick:E=>C&&E.stopPropagation(),children:[c.jsx(Qn,{size:16}),c.jsx("span",{className:"font-semibold",children:"Research"})]}),C&&c.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 px-2 py-1 bg-popover text-popover-foreground text-xs rounded shadow-lg border hidden group-hover/research-btn:block whitespace-nowrap z-50",children:"Insufficient Credits"})]});return C?j:c.jsx(P$,{onTrigger:e,isAnalyzing:n,defaultTicker:i,trigger:j})})()]}),n&&c.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-[11px] text-muted-foreground",children:[c.jsx(s0,{className:"w-3.5 h-3.5 animate-spin"}),c.jsxs("span",{children:["Research in progress  Avg time ~",L$]})]})]})]})}),c.jsx(yt,{className:"p-0 flex-1 overflow-y-auto",children:c.jsx("div",{className:"divide-y divide-border/50",children:t&&t.length>0?t.map(S=>{const C=o?.id===S.user_id,E=o?.role?.toLowerCase()==="admin"||C,_=S.user?.nickname||S.user?.email?.split("@")[0]||"AI",A=S.updated_at||S.created_at,O=(S.tokens_in??0)+(S.tokens_out??0),z=O>0,F=F$(A),P=S.status==="processing"||S.status==="pending";return c.jsx("div",{className:"bg-background hover:bg-muted/50 transition-colors",children:c.jsxs("div",{className:`p-3 md:p-4 flex items-center justify-between group ${P?"cursor-default opacity-80":"cursor-pointer"}`,onClick:()=>!P&&a(`/research/${S.id}`),children:[c.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[c.jsx("div",{className:`w-1.5 h-1.5 md:w-2 md:h-2 rounded-full shrink-0 ${S.status==="completed"?"bg-green-500":S.status==="failed"?"bg-red-500":"bg-yellow-500 animate-pulse"}`}),c.jsxs("div",{className:"flex-1 min-w-0",children:[h===S.id?c.jsxs("div",{className:"flex items-center gap-2 mb-1",onClick:$=>$.stopPropagation(),children:[c.jsx("input",{autoFocus:!0,className:"flex-1 bg-background border border-primary rounded px-2 py-1 text-sm focus:outline-none",value:p,onChange:$=>g($.target.value),onClick:$=>$.stopPropagation(),onKeyDown:$=>{$.key==="Enter"&&w(S.id,$),$.key==="Escape"&&v($)}}),c.jsx(pe,{size:"icon",variant:"ghost",className:"h-6 w-6 text-green-500 hover:text-green-600 hover:bg-green-500/10",onClick:$=>w(S.id,$),children:c.jsx(dc,{size:14})}),c.jsx(pe,{size:"icon",variant:"ghost",className:"h-6 w-6 text-red-500 hover:text-red-600 hover:bg-red-500/10",onClick:v,children:c.jsx(Ea,{size:14})})]}):c.jsxs("div",{className:"flex items-center gap-2 group/title mb-0.5 md:mb-1",children:[c.jsx("div",{className:"text-sm font-medium line-clamp-1 group-hover:text-primary transition-colors leading-tight",children:S.title||S.question||"Smart analysis"}),E&&c.jsx(pe,{size:"icon",variant:"ghost",className:"h-4 w-4 md:h-5 md:w-5 opacity-0 group-hover/title:opacity-100 text-muted-foreground hover:text-primary transition-opacity",onClick:$=>x(S,$),children:c.jsx(QC,{size:10})})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[c.jsx("span",{className:"text-[10px] md:text-xs font-bold uppercase text-muted-foreground whitespace-nowrap",children:F}),c.jsx("span",{className:"text-muted-foreground text-[10px] md:text-xs hidden md:inline",children:""}),c.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[120px] md:max-w-[200px]",children:[c.jsx("span",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:inline",children:"By"}),c.jsx("div",{className:"w-3.5 h-3.5 md:w-4 md:h-4 rounded-full bg-muted border border-border flex items-center justify-center shrink-0 overflow-hidden",children:S.user?.avatar_url?c.jsx("img",{src:S.user.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-muted-foreground",children:(S.user?.nickname||S.user?.email||"?").charAt(0).toUpperCase()})}),c.jsx("span",{className:"font-semibold text-foreground text-[10px] md:text-xs truncate",children:_})]}),S.provider==="manual"&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-muted-foreground text-[10px] md:text-xs",children:""}),c.jsx(Oe,{variant:"outline",className:"px-1.5 py-0 h-4 text-[10px] font-medium bg-white/5 text-white/90 border-white/20 whitespace-nowrap",children:"Manual"})]}),S.provider&&S.provider!=="manual"&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-muted-foreground text-[10px] md:text-xs hidden md:inline",children:""}),c.jsx(hh,{model:S.models_used&&S.models_used.length>0?S.models_used[0]:S.provider,rarity:S.rarity})]}),c.jsx("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[10px] text-muted-foreground",children:z&&c.jsxs("span",{className:"rounded-full bg-muted/30 px-2 py-0.5 text-[10px]",children:[O.toLocaleString()," tokens used"]})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r&&c.jsx(pe,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-red-500 hover:bg-red-500/10",onClick:$=>{$.stopPropagation(),r(S.id)},children:c.jsx(zs,{size:14})}),!h&&!P&&c.jsx(pe,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground group-hover:text-foreground hidden md:inline-flex",children:c.jsx(Lh,{size:16})})]})]})},S.id)}):c.jsxs("div",{className:"p-8 text-center text-muted-foreground flex flex-col items-center justify-center h-40",children:[c.jsx(Nn,{className:"w-8 h-8 opacity-20 mb-3"}),c.jsx("p",{className:"text-sm",children:"No research history available."}),c.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"Start a new analysis to generate insights."})]})})})]})}function I$({scenarios:t,currentPrice:e}){const n=[...t].sort((r,i)=>{const a={bear:0,base:1,bull:2};return a[r.scenario_type]-a[i.scenario_type]});return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(r=>{const i=(Number(r.price_mid)-e)/e*100,a=i>0;return c.jsxs(xt,{className:Fe("relative overflow-hidden transition-all hover:shadow-md flex flex-col",r.scenario_type==="bull"&&"bg-green-500/5 border-green-500/20",r.scenario_type==="bear"&&"bg-red-500/5 border-red-500/20",r.scenario_type==="base"&&"bg-blue-500/5 border-blue-500/20 ring-1 ring-blue-500/30"),children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"linear-gradient(currentColor 1px, transparent 1px), linear-gradient(90deg, currentColor 1px, transparent 1px)",backgroundSize:"20px 20px",color:"var(--foreground)"}}),c.jsxs("div",{className:"absolute top-2 right-2 text-xs font-bold px-2 py-1 rounded-full bg-background/50 backdrop-blur-sm border z-10 shadow-sm",children:[(Number(r.probability)*100).toFixed(0),"% Prob"]}),c.jsxs(yt,{className:"p-3 flex flex-col gap-2 flex-1",children:[c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:Fe("w-1.5 h-8 rounded-full",r.scenario_type==="bull"&&"bg-green-500",r.scenario_type==="bear"&&"bg-red-500",r.scenario_type==="base"&&"bg-blue-500")}),c.jsxs("div",{children:[c.jsxs("h3",{className:"uppercase tracking-wider text-xs font-bold text-muted-foreground leading-none",children:[r.scenario_type," CASE"]}),c.jsxs("div",{className:"text-lg font-bold flex items-center gap-1.5 leading-tight mt-0.5",children:["$",Number(r.price_mid).toFixed(2),c.jsxs("span",{className:Fe("text-sm font-medium flex items-center",a?"text-green-500":"text-red-500"),children:[a?c.jsx(Yn,{size:12}):c.jsx(Vr,{size:12}),Math.abs(i).toFixed(1),"%"]})]})]})]})}),c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3 leading-relaxed",children:r.description}),c.jsxs("div",{className:"mt-auto pt-2 border-t border-dashed border-border flex items-center justify-between text-xs text-muted-foreground font-medium",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"opacity-70",children:"Range:"}),c.jsxs("span",{children:["$",Number(r.price_low||0)," - $",Number(r.price_high||0)]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"opacity-70",children:"Cap:"}),c.jsxs("span",{children:["$",(Number(r.expected_market_cap||0)/1e9).toFixed(1),"B"]})]})]})]})]},r.scenario_type)})})}function U$({ratings:t}){return!t||t.length===0?null:c.jsxs(xt,{children:[c.jsx(Ut,{className:"pb-3",children:c.jsx(Ht,{children:"Analyst Ratings"})}),c.jsx(yt,{children:c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"text-muted-foreground border-b border-border/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"h-10 px-2 font-medium",children:"Date"}),c.jsx("th",{className:"h-10 px-2 font-medium",children:"Firm"}),c.jsx("th",{className:"h-10 px-2 font-medium",children:"Rating"}),c.jsx("th",{className:"h-10 px-2 font-medium text-right",children:"Target"})]})}),c.jsx("tbody",{className:"divide-y divide-border/50",children:t.map(e=>{const n=e.rating.toLowerCase().includes("buy")||e.rating.toLowerCase().includes("outperform"),r=e.rating.toLowerCase().includes("sell")||e.rating.toLowerCase().includes("underperform");return c.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[c.jsx("td",{className:"p-2 font-mono text-xs text-muted-foreground whitespace-nowrap align-top pt-3",children:new Date(e.rating_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})}),c.jsx("td",{className:"p-2",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-sm text-foreground",children:e.firm}),e.analyst_name&&c.jsx("span",{className:"text-xs text-muted-foreground",children:e.analyst_name})]})}),c.jsx("td",{className:"p-2 align-top pt-2.5",children:c.jsx(Oe,{variant:"outline",className:`
                                                    ${n?"border-green-500/30 text-green-500 bg-green-500/5":""}
                                                    ${r?"border-red-500/30 text-red-500 bg-red-500/5":""}
                                                    ${!n&&!r?"border-yellow-500/30 text-yellow-500 bg-yellow-500/5":""}
                                                `,children:(()=>{const i=e.rating.toLowerCase();return i.includes("strong buy")?"Strong Buy":i.includes("buy")||i.includes("outperform")?"Buy":i.includes("sell")||i.includes("underperform")?"Sell":"Hold"})()})}),c.jsx("td",{className:"p-2 text-right font-mono font-medium align-top pt-3",children:e.price_target?`$${e.price_target.toFixed(2)}`:"-"})]},e.id)})})]})})})]})}function H$({risk_analysis:t,market_data:e,ratings:n}){return c.jsxs("div",{className:"flex flex-col gap-6",children:[t?.scenarios&&c.jsxs("section",{children:[c.jsxs("h3",{className:"text-sm font-bold mb-4 flex items-center gap-2 text-muted-foreground uppercase tracking-wider",children:[c.jsx(mi,{size:14})," Price Scenarios & Thesis"]}),c.jsx(I$,{scenarios:t.scenarios,currentPrice:e?.price||0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsxs(xt,{className:"border-red-500/20 bg-red-500/5",children:[c.jsx(Ut,{className:"pb-2 pt-3 px-3",children:c.jsxs(Ht,{className:"text-xs font-bold text-red-500 uppercase tracking-wide flex items-center gap-2",children:[c.jsx(ba,{size:12})," Risk Factors"]})}),c.jsx(yt,{className:"px-3 pb-3 pt-0",children:c.jsxs("ul",{className:"space-y-1.5",children:[t?.red_flags?.map((r,i)=>c.jsxs("li",{className:"text-sm text-foreground/80 flex items-start gap-2 leading-snug",children:[c.jsx("span",{className:"text-red-500 mt-0.5",children:""}),c.jsx("span",{children:r})]},i)),!t?.red_flags?.length&&c.jsx("li",{className:"text-sm text-muted-foreground italic",children:"No critical red flags identified."})]})})]}),c.jsxs(xt,{className:"border-green-500/20 bg-green-500/5",children:[c.jsx(Ut,{className:"pb-2 pt-3 px-3",children:c.jsxs(Ht,{className:"text-xs font-bold text-green-500 uppercase tracking-wide flex items-center gap-2",children:[c.jsx(w3,{size:12})," Growth Drivers"]})}),c.jsx(yt,{className:"px-3 pb-3 pt-0",children:c.jsxs("ul",{className:"space-y-1.5",children:[t?.catalysts?.map((r,i)=>c.jsxs("li",{className:"text-sm text-foreground/80 flex items-start gap-2 leading-snug",children:[c.jsx("span",{className:"text-green-500 mt-0.5",children:""}),c.jsx("span",{children:r.description})]},i)),!t?.catalysts?.length&&c.jsx("li",{className:"text-sm text-muted-foreground italic",children:"No specific catalysts identified."})]})})]})]}),c.jsx(U$,{ratings:n})]})}const zt=({label:t,value:e,subtext:n})=>c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:t}),c.jsxs("div",{className:"text-lg font-bold text-foreground tracking-tight flex items-baseline gap-1",children:[e,n&&c.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:n})]})]}),Ed=({title:t,icon:e})=>c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs font-bold uppercase tracking-wider mb-4 border-b border-border/40 pb-2",children:[e," ",t]});function V$({fundamentals:t}){if(!t)return c.jsx("div",{className:"text-muted-foreground",children:"No financial data available"});const e=i=>i==null?"N/A":i>=1e12?`$${(i/1e12).toFixed(2)}T`:i>=1e9?`$${(i/1e9).toFixed(2)}B`:i>=1e6?`$${(i/1e6).toFixed(2)}M`:`$${Number(i).toLocaleString()}`,n=(i,a=2)=>i==null?"-":Number(i).toLocaleString(void 0,{minimumFractionDigits:a,maximumFractionDigits:a}),r=i=>i==null?"-":`${(i*100).toFixed(2)}%`;return c.jsxs("div",{className:"flex flex-col gap-8",children:[c.jsxs("div",{children:[c.jsx(Ed,{title:"Valuation & Size",icon:c.jsx(qC,{size:14})}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[c.jsx(zt,{label:"Market Cap",value:e(t.market_cap)}),c.jsx(zt,{label:"P/E Ratio",value:n(t.pe_ratio)}),c.jsx(zt,{label:"Price/Book",value:n(t.price_to_book)}),c.jsx(zt,{label:"Shares Out",value:e(t.shares_outstanding)?.replace("$",""),subtext:"Outstanding"})]})]}),c.jsxs("div",{children:[c.jsx(Ed,{title:"Profitability",icon:c.jsx(mi,{size:14})}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[c.jsx(zt,{label:"Revenue (TTM)",value:e(t.revenue_ttm)}),c.jsx(zt,{label:"Gross Margin",value:r(t.gross_margin)}),c.jsx(zt,{label:"Operating Margin",value:r(t.operating_margin)}),c.jsx(zt,{label:"Net Profit Margin",value:r(t.net_profit_margin)}),c.jsx(zt,{label:"ROE",value:r(t.roe)}),c.jsx(zt,{label:"ROA",value:r(t.roa)}),c.jsx(zt,{label:"Earnings Growth",value:r(t.earnings_growth_yoy),subtext:"YoY"}),c.jsx(zt,{label:"Free Cash Flow",value:e(t.free_cash_flow_ttm)})]})]}),c.jsxs("div",{children:[c.jsx(Ed,{title:"Financial Health",icon:c.jsx(mn,{size:14})}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[c.jsx(zt,{label:"Debt/Equity",value:c.jsx("span",{className:t.debt_to_equity&&t.debt_to_equity>2?"text-red-500":"",children:n(t.debt_to_equity)})}),c.jsx(zt,{label:"Current Ratio",value:n(t.current_ratio)}),c.jsx(zt,{label:"Quick Ratio",value:n(t.quick_ratio)}),c.jsx(zt,{label:"Interest Cov",value:c.jsx("span",{className:t.interest_coverage&&t.interest_coverage<1.5?"text-red-500":"",children:n(t.interest_coverage)})}),c.jsx(zt,{label:"Book Value/Share",value:`$${n(t.book_value_per_share)}`}),c.jsx(zt,{label:"Debt/Assets",value:n(t.debt_to_assets)})]})]}),c.jsxs("div",{children:[c.jsx(Ed,{title:"Yields & Liquidity",icon:c.jsx(XC,{size:14})}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[c.jsx(zt,{label:"Dividend Yield",value:c.jsx("span",{className:"text-green-500",children:r(t.dividend_yield)})}),t.cash_on_hand!==void 0&&c.jsx(zt,{label:"Cash on Hand",value:e(t.cash_on_hand)}),t.runway_years!==void 0&&c.jsx(zt,{label:"Runway",value:`${t.runway_years} Years`,subtext:t.runway_years<1?"Critical":"Healthy"})]})]})]})}function $$({fundamentals:t}){return c.jsx("div",{className:"space-y-6",children:c.jsxs(xt,{children:[c.jsx(Ut,{className:"flex flex-row items-center justify-between",children:c.jsx(Ht,{children:"Financial Health"})}),c.jsx(yt,{children:c.jsx(V$,{fundamentals:t})})]})})}function q$({news:t}){return c.jsxs(xt,{className:"h-full flex flex-col overflow-hidden",children:[c.jsx(Ut,{className:"py-4 border-b border-border bg-muted/10",children:c.jsxs(Ht,{className:"font-bold text-sm flex items-center gap-2",children:[c.jsx(fi,{className:"w-4 h-4 text-primary"})," Global News Feed"]})}),c.jsx(yt,{className:"p-0 flex-1 overflow-y-auto",children:c.jsx("div",{className:"divide-y divide-border/50",children:t&&t.length>0?t.map(e=>c.jsx("div",{className:"bg-background hover:bg-muted/50 transition-colors",children:c.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between group block",children:c.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[c.jsx("div",{className:"w-2 h-2 rounded-full shrink-0 bg-blue-500"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsx("div",{className:"text-sm font-medium line-clamp-1 group-hover:text-primary transition-colors",children:e.headline})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-bold uppercase text-muted-foreground whitespace-nowrap",children:(()=>{const n=new Date(e.datetime*1e3);return isNaN(n.getTime())?"Recently":n.toLocaleDateString()})()}),c.jsx("span",{className:"text-muted-foreground text-xs",children:""}),c.jsx("div",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-primary/10 text-primary border border-primary/20 uppercase tracking-wider",children:e.source})]})]})]})})},e.id)):c.jsxs("div",{className:"p-8 text-center text-muted-foreground flex flex-col items-center justify-center h-40",children:[c.jsx(fi,{className:"w-8 h-8 opacity-20 mb-3"}),c.jsx("p",{className:"text-sm",children:"No recent news found."})]})})})]})}function G$(t,e=[]){let n=[];function r(a,o){const u=N.createContext(o);u.displayName=a+"Context";const h=n.length;n=[...n,o];const f=g=>{const{scope:x,children:v,...w}=g,S=x?.[t]?.[h]||u,C=N.useMemo(()=>w,Object.values(w));return c.jsx(S.Provider,{value:C,children:v})};f.displayName=a+"Provider";function p(g,x){const v=x?.[t]?.[h]||u,w=N.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>N.createContext(o));return function(u){const h=u?.[t]||a;return N.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[r,Y$(i,...e)]}function Y$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((u,{useScope:h,scopeName:f})=>{const g=h(a)[`__scope${f}`];return{...u,...g}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Q$=Symbol.for("react.lazy"),yh=Ax[" use ".trim().toString()];function W$(t){return typeof t=="object"&&t!==null&&"then"in t}function PE(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Q$&&"_payload"in t&&W$(t._payload)}function K$(t){const e=X$(t),n=N.forwardRef((r,i)=>{let{children:a,...o}=r;PE(a)&&typeof yh=="function"&&(a=yh(a._payload));const u=N.Children.toArray(a),h=u.find(Z$);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function X$(t){const e=N.forwardRef((n,r)=>{let{children:i,...a}=n;if(PE(i)&&typeof yh=="function"&&(i=yh(i._payload)),N.isValidElement(i)){const o=t7(i),u=e7(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var J$=Symbol("radix.slottable");function Z$(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===J$}function e7(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function t7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var n7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],K0=n7.reduce((t,e)=>{const n=K$(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),xg={exports:{}},yg={};var jN;function r7(){if(jN)return yg;jN=1;var t=Eh();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function u(g,x){var v=x(),w=r({inst:{value:v,getSnapshot:x}}),S=w[0].inst,C=w[1];return a(function(){S.value=v,S.getSnapshot=x,h(S)&&C({inst:S})},[g,v,x]),i(function(){return h(S)&&C({inst:S}),g(function(){h(S)&&C({inst:S})})},[g]),o(v),v}function h(g){var x=g.getSnapshot;g=g.value;try{var v=x();return!n(g,v)}catch{return!0}}function f(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return yg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,yg}var CN;function i7(){return CN||(CN=1,xg.exports=r7()),xg.exports}var s7=i7();function a7(){return s7.useSyncExternalStore(l7,()=>!0,()=>!1)}function l7(){return()=>{}}var X0="Avatar",[o7]=G$(X0),[c7,LE]=o7(X0),FE=N.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=N.useState("idle");return c.jsx(c7,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:c.jsx(K0.span,{...r,ref:e})})});FE.displayName=X0;var BE="AvatarImage",IE=N.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=LE(BE,n),u=u7(r,a),h=$n(f=>{i(f),o.onImageLoadingStatusChange(f)});return Tr(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?c.jsx(K0.img,{...a,ref:e,src:r}):null});IE.displayName=BE;var UE="AvatarFallback",HE=N.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=LE(UE,n),[o,u]=N.useState(r===void 0);return N.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(h)}},[r]),o&&a.imageLoadingStatus!=="loaded"?c.jsx(K0.span,{...i,ref:e}):null});HE.displayName=UE;function kN(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function u7(t,{referrerPolicy:e,crossOrigin:n}){const r=a7(),i=N.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,u]=N.useState(()=>kN(a,t));return Tr(()=>{u(kN(a,t))},[a,t]),Tr(()=>{const h=g=>()=>{u(g)};if(!a)return;const f=h("loaded"),p=h("error");return a.addEventListener("load",f),a.addEventListener("error",p),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",f),a.removeEventListener("error",p)}},[a,n,e]),o}var VE=FE,$E=IE,qE=HE;const Sx=N.forwardRef(({className:t,...e},n)=>c.jsx(VE,{ref:n,className:Ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Sx.displayName=VE.displayName;const Nx=N.forwardRef(({className:t,...e},n)=>c.jsx($E,{ref:n,className:Ne("aspect-square h-full w-full",t),...e}));Nx.displayName=$E.displayName;const jx=N.forwardRef(({className:t,...e},n)=>c.jsx(qE,{ref:n,className:Ne("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));jx.displayName=qE.displayName;function d7(t){const e=h7(t),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,u=N.Children.toArray(a),h=u.find(m7);if(h){const f=h.props.children,p=u.map(g=>g===h?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return c.jsx(e,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,p):null})}return c.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function h7(t){const e=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=g7(i),u=p7(a,i.props);return i.type!==N.Fragment&&(u.ref=r?Qr(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var f7=Symbol("radix.slottable");function m7(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===f7}function p7(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const h=a(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function g7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var x7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yc=x7.reduce((t,e)=>{const n=d7(`Primitive.${e}`),r=N.forwardRef((i,a)=>{const{asChild:o,...u}=i,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function y7(t,e=[]){let n=[];function r(a,o){const u=N.createContext(o),h=n.length;n=[...n,o];const f=g=>{const{scope:x,children:v,...w}=g,S=x?.[t]?.[h]||u,C=N.useMemo(()=>w,Object.values(w));return c.jsx(S.Provider,{value:C,children:v})};f.displayName=a+"Provider";function p(g,x){const v=x?.[t]?.[h]||u,w=N.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>N.createContext(o));return function(u){const h=u?.[t]||a;return N.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[r,v7(i,...e)]}function v7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((u,{useScope:h,scopeName:f})=>{const g=h(a)[`__scope${f}`];return{...u,...g}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var b7=N.createContext(void 0);function w7(t){const e=N.useContext(b7);return t||e||"ltr"}function S7(t,[e,n]){return Math.min(n,Math.max(e,t))}function N7(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var J0="ScrollArea",[GE]=y7(J0),[j7,Dr]=GE(J0),YE=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=t,[u,h]=N.useState(null),[f,p]=N.useState(null),[g,x]=N.useState(null),[v,w]=N.useState(null),[S,C]=N.useState(null),[j,E]=N.useState(0),[_,A]=N.useState(0),[O,z]=N.useState(!1),[F,P]=N.useState(!1),$=Cn(e,q=>h(q)),L=w7(i);return c.jsx(j7,{scope:n,type:r,dir:L,scrollHideDelay:a,scrollArea:u,viewport:f,onViewportChange:p,content:g,onContentChange:x,scrollbarX:v,onScrollbarXChange:w,scrollbarXEnabled:O,onScrollbarXEnabledChange:z,scrollbarY:S,onScrollbarYChange:C,scrollbarYEnabled:F,onScrollbarYEnabledChange:P,onCornerWidthChange:E,onCornerHeightChange:A,children:c.jsx(Yc.div,{dir:L,...o,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});YE.displayName=J0;var QE="ScrollAreaViewport",WE=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=t,o=Dr(QE,n),u=N.useRef(null),h=Cn(e,u,o.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(Yc.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});WE.displayName=QE;var Ni="ScrollAreaScrollbar",Z0=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Dr(Ni,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,u=t.orientation==="horizontal";return N.useEffect(()=>(u?a(!0):o(!0),()=>{u?a(!1):o(!1)}),[u,a,o]),i.type==="hover"?c.jsx(C7,{...r,ref:e,forceMount:n}):i.type==="scroll"?c.jsx(k7,{...r,ref:e,forceMount:n}):i.type==="auto"?c.jsx(KE,{...r,ref:e,forceMount:n}):i.type==="always"?c.jsx(ey,{...r,ref:e}):null});Z0.displayName=Ni;var C7=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Dr(Ni,t.__scopeScrollArea),[a,o]=N.useState(!1);return N.useEffect(()=>{const u=i.scrollArea;let h=0;if(u){const f=()=>{window.clearTimeout(h),o(!0)},p=()=>{h=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(Ji,{present:n||a,children:c.jsx(KE,{"data-state":a?"visible":"hidden",...r,ref:e})})}),k7=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Dr(Ni,t.__scopeScrollArea),a=t.orientation==="horizontal",o=af(()=>h("SCROLL_END"),100),[u,h]=N7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,i.scrollHideDelay,h]),N.useEffect(()=>{const f=i.viewport,p=a?"scrollLeft":"scrollTop";if(f){let g=f[p];const x=()=>{const v=f[p];g!==v&&(h("SCROLL"),o()),g=v};return f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[i.viewport,a,h,o]),c.jsx(Ji,{present:n||u!=="hidden",children:c.jsx(ey,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ot(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ot(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),KE=N.forwardRef((t,e)=>{const n=Dr(Ni,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,o]=N.useState(!1),u=t.orientation==="horizontal",h=af(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;o(u?f:p)}},10);return Il(n.viewport,h),Il(n.content,h),c.jsx(Ji,{present:r||a,children:c.jsx(ey,{"data-state":a?"visible":"hidden",...i,ref:e})})}),ey=N.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Dr(Ni,t.__scopeScrollArea),a=N.useRef(null),o=N.useRef(0),[u,h]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=t_(u.viewport,u.content),p={...r,sizes:u,onSizesChange:h,hasThumb:f>0&&f<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:x=>o.current=x};function g(x,v){return T7(x,o.current,u,v)}return n==="horizontal"?c.jsx(E7,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const x=i.viewport.scrollLeft,v=EN(x,u,i.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollLeft=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollLeft=g(x,i.dir))}}):n==="vertical"?c.jsx(_7,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const x=i.viewport.scrollTop,v=EN(x,u);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollTop=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollTop=g(x))}}):null}),E7=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Dr(Ni,t.__scopeScrollArea),[o,u]=N.useState(),h=N.useRef(null),f=Cn(e,h,a.onScrollbarXChange);return N.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),c.jsx(JE,{"data-orientation":"horizontal",...i,ref:f,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sf(n)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(a.viewport){const x=a.viewport.scrollLeft+p.deltaX;t.onWheelScroll(x),r_(x,g)&&p.preventDefault()}},onResize:()=>{h.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:bh(o.paddingLeft),paddingEnd:bh(o.paddingRight)}})}})}),_7=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Dr(Ni,t.__scopeScrollArea),[o,u]=N.useState(),h=N.useRef(null),f=Cn(e,h,a.onScrollbarYChange);return N.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),c.jsx(JE,{"data-orientation":"vertical",...i,ref:f,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sf(n)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(a.viewport){const x=a.viewport.scrollTop+p.deltaY;t.onWheelScroll(x),r_(x,g)&&p.preventDefault()}},onResize:()=>{h.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:bh(o.paddingTop),paddingEnd:bh(o.paddingBottom)}})}})}),[R7,XE]=GE(Ni),JE=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:f,onWheelScroll:p,onResize:g,...x}=t,v=Dr(Ni,n),[w,S]=N.useState(null),C=Cn(e,$=>S($)),j=N.useRef(null),E=N.useRef(""),_=v.viewport,A=r.content-r.viewport,O=$n(p),z=$n(h),F=af(g,10);function P($){if(j.current){const L=$.clientX-j.current.left,q=$.clientY-j.current.top;f({x:L,y:q})}}return N.useEffect(()=>{const $=L=>{const q=L.target;w?.contains(q)&&O(L,A)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[_,w,A,O]),N.useEffect(z,[r,z]),Il(w,F),Il(v.content,F),c.jsx(R7,{scope:n,scrollbar:w,hasThumb:i,onThumbChange:$n(a),onThumbPointerUp:$n(o),onThumbPositionChange:z,onThumbPointerDown:$n(u),children:c.jsx(Yc.div,{...x,ref:C,style:{position:"absolute",...x.style},onPointerDown:Ot(t.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),j.current=w.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),P($))}),onPointerMove:Ot(t.onPointerMove,P),onPointerUp:Ot(t.onPointerUp,$=>{const L=$.target;L.hasPointerCapture($.pointerId)&&L.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=E.current,v.viewport&&(v.viewport.style.scrollBehavior=""),j.current=null})})})}),vh="ScrollAreaThumb",ZE=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=XE(vh,t.__scopeScrollArea);return c.jsx(Ji,{present:n||i.hasThumb,children:c.jsx(M7,{ref:e,...r})})}),M7=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=Dr(vh,n),o=XE(vh,n),{onThumbPositionChange:u}=o,h=Cn(e,g=>o.onThumbChange(g)),f=N.useRef(void 0),p=af(()=>{f.current&&(f.current(),f.current=void 0)},100);return N.useEffect(()=>{const g=a.viewport;if(g){const x=()=>{if(p(),!f.current){const v=z7(g,u);f.current=v,u()}};return u(),g.addEventListener("scroll",x),()=>g.removeEventListener("scroll",x)}},[a.viewport,p,u]),c.jsx(Yc.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ot(t.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),w=g.clientX-v.left,S=g.clientY-v.top;o.onThumbPointerDown({x:w,y:S})}),onPointerUp:Ot(t.onPointerUp,o.onThumbPointerUp)})});ZE.displayName=vh;var ty="ScrollAreaCorner",e_=N.forwardRef((t,e)=>{const n=Dr(ty,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(A7,{...t,ref:e}):null});e_.displayName=ty;var A7=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Dr(ty,n),[a,o]=N.useState(0),[u,h]=N.useState(0),f=!!(a&&u);return Il(i.scrollbarX,()=>{const p=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(p),h(p)}),Il(i.scrollbarY,()=>{const p=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(p),o(p)}),f?c.jsx(Yc.div,{...r,ref:e,style:{width:a,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bh(t){return t?parseInt(t,10):0}function t_(t,e){const n=t/e;return isNaN(n)?0:n}function sf(t){const e=t_(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function T7(t,e,n,r="ltr"){const i=sf(n),a=i/2,o=e||a,u=i-o,h=n.scrollbar.paddingStart+o,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,p=n.content-n.viewport,g=r==="ltr"?[0,p]:[p*-1,0];return n_([h,f],g)(t)}function EN(t,e,n="ltr"){const r=sf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,u=a-r,h=n==="ltr"?[0,o]:[o*-1,0],f=S7(t,h);return n_([0,o],[0,u])(f)}function n_(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function r_(t,e){return t>0&&t<e}var z7=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,u=n.top!==a.top;(o||u)&&e(),n=a,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function af(t,e){const n=$n(t),r=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),N.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Il(t,e){const n=$n(e);Tr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var i_=YE,O7=WE,D7=e_;const s_=N.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(i_,{ref:r,className:Ne("relative overflow-hidden",t),...n,children:[c.jsx(O7,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(a_,{}),c.jsx(D7,{})]}));s_.displayName=i_.displayName;const a_=N.forwardRef(({className:t,orientation:e="vertical",...n},r)=>c.jsx(Z0,{ref:r,orientation:e,className:Ne("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",t),...n,children:c.jsx(ZE,{className:"relative flex-1 rounded-full bg-border"})}));a_.displayName=Z0.displayName;function P7({comments:t,onPostComment:e,isPosting:n}){const{user:r}=Or(),[i,a]=N.useState(""),o=()=>{i.trim()&&(e(i),a(""))};return c.jsxs(xt,{className:"flex flex-col h-[600px] border-border shadow-lg",children:[c.jsx(Ut,{className:"py-4 border-b border-border bg-muted/5 flex flex-row items-center justify-between space-y-0",children:c.jsxs(Ht,{className:"font-bold flex items-center gap-2 text-base",children:[c.jsx(Zw,{className:"w-4 h-4 text-primary"}),"Community Discussion",c.jsx("span",{className:"text-xs font-normal text-muted-foreground ml-2 px-2 py-0.5 rounded-full bg-muted border border-border",children:t.length})]})}),c.jsxs(yt,{className:"p-0 flex flex-col flex-1 overflow-hidden relative",children:[c.jsx(s_,{className:"flex-1 p-4",children:c.jsx("div",{className:"space-y-6",children:t.length>0?t.map(u=>c.jsxs("div",{className:"flex gap-3 group",children:[c.jsxs(Sx,{className:"w-10 h-10 border border-border",children:[c.jsx(Nx,{src:u.user?.avatar_url,alt:u.user?.nickname}),c.jsx(jx,{className:"text-xs font-bold text-muted-foreground bg-muted",children:(u.user?.nickname||u.user?.email||"?").charAt(0).toUpperCase()})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-sm text-foreground",children:u.user?.nickname||u.user?.email?.split("@")[0]||"Anonymous"}),c.jsx(Oe,{variant:"outline",className:`text-[9px] h-4 px-1 ${u.user?.tier==="pro"||u.user?.role==="admin"?"border-purple-500 text-purple-500 uppercase":"border-emerald-500 text-emerald-500 uppercase"}`,children:(u.user?.tier||"free").toUpperCase()}),c.jsx("span",{className:"text-xs text-muted-foreground",children:""}),c.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleDateString()})]}),c.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(P3,{size:14})})]}),c.jsx("p",{className:"text-sm text-foreground/90 leading-relaxed whitespace-pre-wrap",children:u.content}),c.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[c.jsxs("button",{className:"flex items-center gap-1.5 text-xs text-muted-foreground hover:text-primary transition-colors",children:[c.jsx(UO,{size:12}),c.jsx("span",{children:"Like"})]}),c.jsxs("button",{className:"flex items-center gap-1.5 text-xs text-muted-foreground hover:text-primary transition-colors",children:[c.jsx(pO,{size:12}),c.jsx("span",{children:"Reply"})]})]})]})]},u.id)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground/50 space-y-4",children:[c.jsx("div",{className:"p-4 rounded-full bg-muted/30",children:c.jsx(Zw,{className:"w-8 h-8 opacity-50"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"No discussion yet"}),c.jsx("p",{className:"text-xs",children:"Be the first to share your thoughts!"})]})]})})}),c.jsxs("div",{className:"p-4 bg-background border-t border-border",children:[c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsxs(Sx,{className:"w-8 h-8 shrink-0",children:[c.jsx(Nx,{src:r?.avatar_url}),c.jsx(jx,{className:"text-xs bg-muted",children:r?.email?.charAt(0).toUpperCase()})]}),c.jsxs("div",{className:"flex-1 flex gap-2",children:[c.jsx("textarea",{className:"flex-1 min-h-[40px] max-h-[120px] w-full resize-none bg-muted/30 border border-input rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary placeholder:text-muted-foreground scrollbar-hide",placeholder:"What are your thoughts on this ticker?",value:i,onChange:u=>a(u.target.value),onKeyDown:u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),o())}}),c.jsx(pe,{size:"icon",className:"shrink-0 h-10 w-10 rounded-md",onClick:o,disabled:n||!i.trim(),children:c.jsx(NO,{size:16})})]})]}),c.jsx("div",{className:"flex justify-end mt-1",children:c.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Press Enter to post"})})]})]})]})}function ct(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function ga(t,e){return t.width===e.width&&t.height===e.height}var L7=(function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){n._observers=n._observers.filter(function(i){return i!==r})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t})();function F7(t){return new L7(t)}var B7=(function(){function t(e,n,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=ct({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??(function(a){return a}),this._allowResizeObserver=(i=r?.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return ct({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=ct(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;ga(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,r=ct(this._transformBitmapSize(e,this._canvasElementClientSize)),i=ga(this.bitmapSize,r)?null:r;n===null&&i===null||n!==null&&i!==null&&ga(n,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(n,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}U7().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=_N(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=F7(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var r=_N(this._canvasElement);if(r!==null){var i=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:r.devicePixelRatio,a=this._canvasElement.getClientRects(),o=a[0]!==void 0?H7(a[0],i):ct({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var r=n.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],a=ct({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(a)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t})();function I7(t,e){return new B7(t,e.transform,e.options)}function _N(t){return t.ownerDocument.defaultView}function U7(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function H7(t,e){return ct({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var V7=(function(){function t(e,n,r){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t})();function ja(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var r=t.bitmapSize;if(r.width===0||r.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new V7(i,n,r)}const l_={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var RN,MN;function Ls(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function o_(t,e,n,r){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(n,e+i),t.lineTo(r,e+i),t.stroke()}function fn(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Wn(t){if(t===void 0)throw new Error("Value is undefined");return t}function me(t){if(t===null)throw new Error("Value is null");return t}function As(t){return me(Wn(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(RN||(RN={})),(function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"})(MN||(MN={}));class Dt{constructor(){this.t=[]}i(e,n,r){const i={h:e,l:n,o:r===!0};this.t.push(i)}_(e){const n=this.t.findIndex((r=>e===r.h));n>-1&&this.t.splice(n,1)}u(e){this.t=this.t.filter((n=>n.l!==e))}p(e,n,r){const i=[...this.t];this.t=this.t.filter((a=>!a.o)),i.forEach((a=>a.h(e,n,r)))}v(){return this.t.length>0}m(){this.t=[]}}function dr(t,...e){for(const n of e)for(const r in n)n[r]!==void 0&&Object.prototype.hasOwnProperty.call(n,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof n[r]!="object"||t[r]===void 0||Array.isArray(n[r])?t[r]=n[r]:dr(t[r],n[r]));return t}function Ul(t){return typeof t=="number"&&isFinite(t)}function Ac(t){return typeof t=="number"&&t%1==0}function Qc(t){return typeof t=="string"}function _d(t){return typeof t=="boolean"}function $i(t){const e=t;if(!e||typeof e!="object")return e;let n,r,i;for(r in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],n[r]=i&&typeof i=="object"?$i(i):i);return n}function AN(t){return t!==null}function Tc(t){return t===null?void 0:t}const c_="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function wh(t,e,n){return e===void 0&&(e=c_),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class $7{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,n=this.F(),r=this.W();return e.k===n&&e.T===r||(e.k=n,e.T=r,e.P=wh(n,r),e.A=2.5/12*n,e.I=e.A,e.V=n/12*e.C,e.B=n/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function vg(t){return t<0?0:t>255?255:Math.round(t)||0}function TN(t){return .199*t[0]+.687*t[1]+.114*t[2]}class q7{constructor(e,n){this.q=new Map,this.j=e,n&&(this.q=n)}Y(e,n){if(e==="transparent")return e;const r=this.K(e),i=r[3];return`rgba(${r[0]}, ${r[1]}, ${r[2]}, ${n*i})`}Z(e){const n=this.K(e);return{G:`rgb(${n[0]}, ${n[1]}, ${n[2]})`,X:TN(n)>160?"black":"white"}}J(e){return TN(this.K(e))}tt(e,n,r){const[i,a,o,u]=this.K(e),[h,f,p,g]=this.K(n),x=[vg(i+r*(h-i)),vg(a+r*(f-a)),vg(o+r*(p-o)),(v=u+r*(g-u),v<=0||v>1?Math.min(Math.max(v,0),1):Math.round(1e4*v)/1e4)];var v;return`rgba(${x[0]}, ${x[1]}, ${x[2]}, ${x[3]})`}K(e){const n=this.q.get(e);if(n)return n;const r=(function(o){const u=document.createElement("div");u.style.display="none",document.body.appendChild(u),u.style.color=o;const h=window.getComputedStyle(u).color;return document.body.removeChild(u),h})(e),i=r.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!i){if(this.j.length)for(const o of this.j){const u=o(e);if(u)return this.q.set(e,u),u}throw new Error(`Failed to parse color: ${e}`)}const a=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1];return this.q.set(e,a),a}}class u_{constructor(){this.it=[]}st(e){this.it=e}nt(e,n,r){this.it.forEach((i=>{i.nt(e,n,r)}))}}class Is{nt(e,n,r){e.useBitmapCoordinateSpace((i=>this.et(i,n,r)))}}class G7 extends Is{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.rt===null||this.rt.lt===null)return;const i=this.rt.lt,a=this.rt,o=Math.max(1,Math.floor(n))%2/2,u=h=>{e.beginPath();for(let f=i.to-1;f>=i.from;--f){const p=a.ot[f],g=Math.round(p._t*n)+o,x=p.ut*r,v=h*r+o;e.moveTo(g,x),e.arc(g,x,v,0,2*Math.PI)}e.fill()};a.ct>0&&(e.fillStyle=a.dt,u(a.ft+a.ct)),e.fillStyle=a.vt,u(a.ft)}}function Y7(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Q7={from:0,to:1};class W7{constructor(e,n,r){this.Mt=new u_,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=n,this.yt=r,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(Y7),this.bt=this.St.map((n=>{const r=new G7;return r.ht(n),r})),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),n=this.yt.Vt(),r=this.Ct.Bt(),i=this.O.Et();this.Pt(),n.forEach(((a,o)=>{const u=this.St[o],h=a.At(r),f=a.Lt();!e&&h!==null&&a.It()&&f!==null?(u.vt=h.zt,u.ft=h.ft,u.ct=h.Ot,u.ot[0].gt=h.gt,u.ot[0].ut=a.Ft().Nt(h.gt,f.Wt),u.dt=h.Ht??this.O.Ut(u.ot[0].ut/a.Ft().$t()),u.ot[0].wt=r,u.ot[0]._t=i.qt(r),u.lt=Q7):u.lt=null}))}}class K7 extends Is{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null)return;const a=this.jt.Yt.It,o=this.jt.Kt.It;if(!a&&!o)return;const u=Math.round(this.jt._t*r),h=Math.round(this.jt.ut*i);e.lineCap="butt",a&&u>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*r),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,Ls(e,this.jt.Yt.Zt),(function(f,p,g,x){f.beginPath();const v=f.lineWidth%2?.5:0;f.moveTo(p+v,g),f.lineTo(p+v,x),f.stroke()})(e,u,0,n.height)),o&&h>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*i),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,Ls(e,this.jt.Kt.Zt),o_(e,h,0,n.width))}}class X7{constructor(e,n){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new K7(this.Gt),this.Jt=e,this.yt=n}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),n=this.yt.Qt().N().crosshair,r=this.Gt;if(n.mode===2)return r.Kt.It=!1,void(r.Yt.It=!1);r.Kt.It=e&&this.Jt.ti(this.yt),r.Yt.It=e&&this.Jt.ii(),r.Kt.ct=n.horzLine.width,r.Kt.Zt=n.horzLine.style,r.Kt.R=n.horzLine.color,r.Yt.ct=n.vertLine.width,r.Yt.Zt=n.vertLine.style,r.Yt.R=n.vertLine.color,r._t=this.Jt.si(),r.ut=this.Jt.ni()}}function J7(t,e,n,r,i,a){t.fillRect(e+a,n,r-2*a,a),t.fillRect(e+a,n+i-a,r-2*a,a),t.fillRect(e,n,a,i),t.fillRect(e+r-a,n,a,i)}function lf(t,e,n,r,i,a){t.save(),t.globalCompositeOperation="copy",t.fillStyle=a,t.fillRect(e,n,r,i),t.restore()}function zN(t,e,n,r,i,a){t.beginPath(),t.roundRect?t.roundRect(e,n,r,i,a):(t.lineTo(e+r-a[1],n),a[1]!==0&&t.arcTo(e+r,n,e+r,n+a[1],a[1]),t.lineTo(e+r,n+i-a[2]),a[2]!==0&&t.arcTo(e+r,n+i,e+r-a[2],n+i,a[2]),t.lineTo(e+a[3],n+i),a[3]!==0&&t.arcTo(e,n+i,e,n+i-a[3],a[3]),t.lineTo(e,n+a[0]),a[0]!==0&&t.arcTo(e,n,e+a[0],n,a[0]))}function ON(t,e,n,r,i,a,o=0,u=[0,0,0,0],h=""){if(t.save(),!o||!h||h===a)return zN(t,e,n,r,i,u),t.fillStyle=a,t.fill(),void t.restore();const f=o/2;var p;zN(t,e+f,n+f,r-o,i-o,(p=-f,u.map((g=>g===0?g:g+p)))),a!=="transparent"&&(t.fillStyle=a,t.fill()),h!=="transparent"&&(t.lineWidth=o,t.strokeStyle=h,t.closePath(),t.stroke()),t.restore()}function d_(t,e,n,r,i,a,o){t.save(),t.globalCompositeOperation="copy";const u=t.createLinearGradient(0,0,0,i);u.addColorStop(0,a),u.addColorStop(1,o),t.fillStyle=u,t.fillRect(e,n,r,i),t.restore()}class DN{constructor(e,n){this.ht(e,n)}ht(e,n){this.jt=e,this.ei=n}$t(e,n){return this.jt.It?e.k+e.A+e.I:0}nt(e,n,r,i){if(!this.jt.It||this.jt.ri.length===0)return;const a=this.jt.R,o=this.ei.G,u=e.useBitmapCoordinateSpace((h=>{const f=h.context;f.font=n.P;const p=this.hi(h,n,r,i),g=p.ai;return p.li?ON(f,g.oi,g._i,g.ui,g.ci,o,g.di,[g.ft,0,0,g.ft],o):ON(f,g.fi,g._i,g.ui,g.ci,o,g.di,[0,g.ft,g.ft,0],o),this.jt.pi&&(f.fillStyle=a,f.fillRect(g.fi,g.mi,g.wi-g.fi,g.gi)),this.jt.Mi&&(f.fillStyle=n.D,f.fillRect(p.li?g.bi-g.di:0,g._i,g.di,g.Si-g._i)),p}));e.useMediaCoordinateSpace((({context:h})=>{const f=u.xi;h.font=n.P,h.textAlign=u.li?"right":"left",h.textBaseline="middle",h.fillStyle=a,h.fillText(this.jt.ri,f.Ci,(f._i+f.Si)/2+f.yi)}))}hi(e,n,r,i){const{context:a,bitmapSize:o,mediaSize:u,horizontalPixelRatio:h,verticalPixelRatio:f}=e,p=this.jt.pi||!this.jt.ki?n.C:0,g=this.jt.Pi?n.S:0,x=n.A+this.ei.Ti,v=n.I+this.ei.Ri,w=n.V,S=n.B,C=this.jt.ri,j=n.k,E=r.Di(a,C),_=Math.ceil(r.Ii(a,C)),A=j+x+v,O=n.S+w+S+_+p,z=Math.max(1,Math.floor(f));let F=Math.round(A*f);F%2!=z%2&&(F+=1);const P=g>0?Math.max(1,Math.floor(g*h)):0,$=Math.round(O*h),L=Math.round(p*h),q=this.ei.Vi??this.ei.Bi??this.ei.Ei,J=Math.round(q*f)-Math.floor(.5*f),de=Math.floor(J+z/2-F/2),se=de+F,te=i==="right",B=te?u.width-g:g,Y=te?o.width-P:P;let V,ge,T;return te?(V=Y-$,ge=Y-L,T=B-p-w-g):(V=Y+$,ge=Y+L,T=B+p+w),{li:te,ai:{_i:de,mi:J,Si:se,ui:$,ci:F,ft:2*h,di:P,oi:V,fi:Y,wi:ge,gi:z,bi:o.width},xi:{_i:de/f,Si:se/f,Ci:T,yi:E}}}}class of{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||DN)(this.Li,this.Ai),this.Ni=new(e||DN)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,n=!1){return Math.max(this.Oi.$t(e,n),this.Ni.$t(e,n))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class Z7 extends of{constructor(e,n,r){super(),this.Jt=e,this.Ki=n,this.Zi=r}Yi(e,n,r){if(e.It=!1,this.Jt.N().mode===2)return;const i=this.Jt.N().horzLine;if(!i.labelVisible)return;const a=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||a===null)return;const o=this.Ki.Xi().Z(i.labelBackgroundColor);r.G=o.G,e.R=o.X;const u=2/12*this.Ki.k();r.Ti=u,r.Ri=u;const h=this.Zi(this.Ki);r.Ei=h.Ei,e.ri=this.Ki.Ji(h.gt,a),e.It=!0}}const eq=/[1-9]/g;class h_{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,n){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const r=e.useMediaCoordinateSpace((({context:x})=>(x.font=n.P,Math.round(n.Qi.Ii(x,me(this.jt).ri,eq)))));if(r<=0)return;const i=n.ts,a=r+2*i,o=a/2,u=this.jt.ss;let h=this.jt.Ei,f=Math.floor(h-o)+.5;f<0?(h+=Math.abs(0-f),f=Math.floor(h-o)+.5):f+a>u&&(h-=Math.abs(u-(f+a)),f=Math.floor(h-o)+.5);const p=f+a,g=Math.ceil(0+n.S+n.C+n.A+n.k+n.I);e.useBitmapCoordinateSpace((({context:x,horizontalPixelRatio:v,verticalPixelRatio:w})=>{const S=me(this.jt);x.fillStyle=S.G;const C=Math.round(f*v),j=Math.round(0*w),E=Math.round(p*v),_=Math.round(g*w),A=Math.round(2*v);if(x.beginPath(),x.moveTo(C,j),x.lineTo(C,_-A),x.arcTo(C,_,C+A,_,A),x.lineTo(E-A,_),x.arcTo(E,_,E,_-A,A),x.lineTo(E,j),x.fill(),S.pi){const O=Math.round(S.Ei*v),z=j,F=Math.round((z+n.C)*w);x.fillStyle=S.R;const P=Math.max(1,Math.floor(v)),$=Math.floor(.5*v);x.fillRect(O-$,z,P,F-z)}})),e.useMediaCoordinateSpace((({context:x})=>{const v=me(this.jt),w=0+n.S+n.C+n.A+n.k/2;x.font=n.P,x.textAlign="left",x.textBaseline="middle",x.fillStyle=v.R;const S=n.Qi.Di(x,"Apr0");x.translate(f+i,w+S),x.fillText(v.ri,0,0)}))}}class tq{constructor(e,n,r){this.xt=!0,this.Xt=new h_,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=n,this.Zi=r}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const n=this.Ct.N().vertLine;if(!n.labelVisible)return;const r=this.ns.Et();if(r.Gi())return;e.ss=r.ss();const i=this.Zi();if(i===null)return;e.Ei=i.Ei;const a=r.es(this.Ct.Bt());e.ri=r.rs(me(a)),e.It=!0;const o=this.ns.Xi().Z(n.labelBackgroundColor);e.G=o.G,e.R=o.X,e.pi=r.N().ticksVisible}}class f_{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var PN;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(PN||(PN={}));class nq extends f_{constructor(e,n){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=n,this.Ts=((i,a)=>o=>{const u=a(),h=i();if(o===me(this.yt).Rs())return{gt:h,Ei:u};{const f=me(o.Lt());return{gt:o.Ds(u,f),Ei:u}}})((()=>this.ps),(()=>this.Cs));const r=((i,a)=>()=>{const o=this.ns.Et().Is(i()),u=a();return o&&Number.isFinite(u)?{wt:o,Ei:u}:null})((()=>this.vs),(()=>this.si()));this.Vs=new tq(this,e,r)}N(){return this.Ps}Bs(e,n){this.ys=e,this.ks=n}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,n,r){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,n,r)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const n=this.ns,r=n.Et();let i=null,a=null;for(const f of n.Us()){const p=f.qs().$s(e,-1);if(p){if(p.js===e)return e;(i===null||p.js>i)&&(i=p.js)}const g=f.qs().$s(e,1);if(g){if(g.js===e)return e;(a===null||g.js<a)&&(a=g.js)}}const o=[i,a].filter(AN);if(o.length===0)return e;const u=r.qt(e),h=o.map((f=>Math.abs(u-r.qt(f))));return o[h.indexOf(Math.min(...h))]}Ys(e){let n=this.bs.get(e);n||(n=new X7(this,e),this.bs.set(e,n));let r=this.Ss.get(e);return r||(r=new W7(this.ns,this,e),this.Ss.set(e,r)),[n,r]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,n){this.ws&&this.yt===e||this.gs.clear();const r=[];return this.yt===e&&r.push(this.Zs(this.gs,n,this.Ts)),r}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach((e=>{this.bs.get(e)?.kt(),this.Ss.get(e)?.kt()})),this.gs.forEach((e=>e.kt())),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,n,r){this.Qs(e,n,r)&&this.Ws()}Qs(e,n,r){const i=this.xs,a=this.Cs,o=this.ps,u=this.vs,h=this.yt,f=this.Js(r);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=r;const p=f!==null?f.Lt():null;return f!==null&&p!==null?(this.ps=n,this.Cs=f.Nt(n,p)):(this.ps=NaN,this.Cs=NaN),i!==this.xs||a!==this.Cs||u!==this.vs||o!==this.ps||h!==this.yt}Fs(){const e=this.ns.tn().map((r=>r.qs().sn())).filter(AN),n=e.length===0?null:Math.max(...e);this.vs=n!==null?n:NaN}Zs(e,n,r){let i=e.get(n);return i===void 0&&(i=new Z7(this,n,r),e.set(n,i)),i}}function cf(t){return t==="left"||t==="right"}class hn{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,n){const r=(function(i,a){return i===void 0?a:{an:Math.max(i.an,a.an),ln:i.ln||a.ln}})(this.nn.get(e),n);this.nn.set(e,r)}_n(){return this.rn}un(e){const n=this.nn.get(e);return n===void 0?{an:this.rn}:{an:Math.max(this.rn,n.an),ln:n.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const n of e.en)this.xn(n);this.rn=Math.max(this.rn,e.rn),e.nn.forEach(((n,r)=>{this.hn(r,n)}))}static Cn(){return new hn(2)}static yn(){return new hn(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex((n=>n.fn===5));e!==-1&&this.en.splice(e,1)}}class m_{formatTickmarks(e){return e.map((n=>this.format(n)))}}const LN=".";function qi(t,e){if(!Ul(t))return"n/a";if(!Ac(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class uf extends m_{constructor(e,n){if(super(),n||(n=1),Ul(e)&&Ac(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=n,this.Pn()}format(e){const n=e<0?"":"";return e=Math.abs(e),n+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const n=this.Ki/this.kn;let r=Math.floor(e),i="";const a=this.Rn!==void 0?this.Rn:NaN;if(n>1){let o=+(Math.round(e*n)-r*n).toFixed(this.Rn);o>=n&&(o-=n,r+=1),i=LN+qi(+o.toFixed(this.Rn)*this.kn,a)}else r=Math.round(r*n)/n,a>0&&(i=LN+qi(0,a));return r.toFixed(0)+i}}class p_ extends uf{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class rq extends m_{constructor(e){super(),this.Dn=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.In(e):e<999995?n+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.In(e/1e9)+"B")}In(e){let n;const r=Math.pow(10,this.Dn);return n=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,((i,a)=>a))}}const iq=/[2-9]/g;class Sh{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,n,r){return this.Nn(e,n,r).width}Di(e,n,r){const i=this.Nn(e,n,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}Nn(e,n,r){const i=r||iq,a=String(n).replace(i,"0");if(this.Ln.has(a))return Wn(this.Ln.get(a)).Fn;if(this.Vn===this.zn){const u=this.An[this.En];delete this.An[this.En],this.Ln.delete(u),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const o=e.measureText(a);return e.restore(),o.width===0&&n.length||(this.Ln.set(a,{Fn:o,Wn:this.Bn}),this.An[this.Bn]=a,this.Vn++,this.Bn++),o}}class sq{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,n,r){this.Hn=e,this.M=n,this.Un=r}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class g_{constructor(e,n,r){this.jn=e,this.$n=new Sh(50),this.Yn=n,this.O=r,this.F=-1,this.Xt=new sq(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const n=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(n===null)return null;const r=e.Xn(n);if(r==="overlay")return null;const i=this.O.Jn();return i.k!==this.F&&(this.F=i.k,this.$n.On()),this.Xt.qn(this.jn.ji(),i,r),this.Xt}}class aq extends Is{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,n){if(!this.jt?.It)return null;const{ut:r,ct:i,te:a}=this.jt;return n>=r-i-7&&n<=r+i+7?{ie:this.jt,te:a}:null}et({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null||this.jt.It===!1)return;const a=Math.round(this.jt.ut*i);a<0||a>n.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*r),Ls(e,this.jt.Zt),o_(e,a,0,n.width))}}class ny{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new aq,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class lq extends ny{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),n=e.ae().ae;if(n!==2&&n!==3)return;const r=this.ee.N();if(!r.baseLineVisible||!this.ee.It())return;const i=this.ee.Lt();i!==null&&(this.se.It=!0,this.se.ut=e.Nt(i.Wt,i.Wt),this.se.R=r.baseLineColor,this.se.ct=r.baseLineWidth,this.se.Zt=r.baseLineStyle)}}class oq extends Is{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){const i=this.jt;if(i===null)return;const a=Math.max(1,Math.floor(n)),o=a%2/2,u=Math.round(i.oe.x*n)+o,h=i.oe.y*r;e.fillStyle=i._e,e.beginPath();const f=Math.max(2,1.5*i.ue)*n;e.arc(u,h,f,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.ce,e.beginPath(),e.arc(u,h,i.ft*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=a,e.strokeStyle=i.de,e.beginPath(),e.arc(u,h,i.ft*n+a/2,0,2*Math.PI,!1),e.stroke()}}const cq=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class uq{constructor(e){this.Xt=new oq,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),n=this.Ce-e;if(n>0)return void(n<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),n=e.Ie(),r=this.ye.Lt();if(n===null||r===null)return;const i=this.ye.Ve(!0);if(i.Be||!n.Ee(i.js))return;const a={x:e.qt(i.js),y:this.ye.Ft().Nt(i.gt,r.Wt)},o=i.R,u=this.ye.N().lineWidth,h=this.Ae(this.Le(),o);this.Xt.ht({_e:o,ue:u,ce:h.ce,de:h.de,ft:h.ft,oe:a})}De(){const e=this.Xt.le();if(e!==null){const n=this.Ae(this.Le(),e._e);e.ce=n.ce,e.de=n.de,e.ft=n.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,n,r,i){const a=r+(i-r)*n;return this.ye.Qt().Xi().Y(e,a)}Ae(e,n){const r=e%2600/2600;let i;for(const f of cq)if(r>=f.fe&&r<=f.pe){i=f;break}fn(i!==void 0,"Last price animation internal logic error");const a=(r-i.fe)/(i.pe-i.fe);return{ce:this.ze(n,a,i.we,i.ge),de:this.ze(n,a,i.Me,i.be),ft:(o=a,u=i.ve,h=i.me,u+(h-u)*o)};var o,u,h}}class dq extends ny{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const n=this.ee.N();if(!n.priceLineVisible||!this.ee.It())return;const r=this.ee.Ve(n.priceLineSource===0);r.Be||(e.It=!0,e.ut=r.Ei,e.R=this.ee.Oe(r.R),e.ct=n.priceLineWidth,e.Zt=n.priceLineStyle)}}class hq extends of{constructor(e){super(),this.Jt=e}Yi(e,n,r){e.It=!1,n.It=!1;const i=this.Jt;if(!i.It())return;const a=i.N(),o=a.lastValueVisible,u=i.Ne()!=="",h=a.seriesLastValueMode===0,f=i.Ve(!1);if(f.Be)return;o&&(e.ri=this.Fe(f,o,h),e.It=e.ri.length!==0),(u||h)&&(n.ri=this.We(f,o,u,h),n.It=n.ri.length>0);const p=i.Oe(f.R),g=this.Jt.Qt().Xi().Z(p);r.G=g.G,r.Ei=f.Ei,n.Ht=i.Qt().Ut(f.Ei/i.Ft().$t()),e.Ht=p,e.R=g.X,n.R=g.X}We(e,n,r,i){let a="";const o=this.Jt.Ne();return r&&o.length!==0&&(a+=`${o} `),n&&i&&(a+=this.Jt.Ft().He()?e.Ue:e.$e),a.trim()}Fe(e,n,r){return n?r?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function FN(t,e,n,r){const i=Number.isFinite(e),a=Number.isFinite(n);return i&&a?t(e,n):i||a?i?e:n:r}class Mn{constructor(e,n){this.qe=e,this.je=n}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Mn(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Mn(FN(Math.min,this.Ze(),e.Ze(),-1/0),FN(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!Ul(e)||this.je-this.qe===0)return;const n=.5*(this.je+this.qe);let r=this.je-n,i=this.qe-n;r*=e,i*=e,this.je=n+r,this.qe=n+i}Qe(e){Ul(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Mn(e.minValue,e.maxValue)}}class Nh{constructor(e,n){this.sr=e,this.nr=n||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new Nh(Mn.ir(e.priceRange),e.margins)}}const fq=[2,4,8,16,32,64,128,256,512],mq="Custom series with conflation reducer must have a priceValueBuilder method";class pq extends ny{constructor(e,n){super(e),this.hr=n}he(){const e=this.se;e.It=!1;const n=this.hr.N();if(!this.ee.It()||!n.lineVisible)return;const r=this.hr.ar();r!==null&&(e.It=!0,e.ut=r,e.R=n.color,e.ct=n.lineWidth,e.Zt=n.lineStyle,e.te=this.hr.N().id)}}class gq extends of{constructor(e,n){super(),this.ye=e,this.hr=n}Yi(e,n,r){e.It=!1,n.It=!1;const i=this.hr.N(),a=i.axisLabelVisible,o=i.title!=="",u=this.ye;if(!a||!u.It())return;const h=this.hr.ar();if(h===null)return;o&&(n.ri=i.title,n.It=!0),n.Ht=u.Qt().Ut(h/u.Ft().$t()),e.ri=this.lr(i.price),e.It=!0;const f=this.ye.Qt().Xi().Z(i.axisLabelColor||i.color);r.G=f.G;const p=i.axisLabelTextColor||f.X;e.R=p,n.R=p,r.Ei=h}lr(e){const n=this.ye.Lt();return n===null?"":this.ye.Ft().Ji(e,n.Wt)}}class xq{constructor(e,n){this.ye=e,this.Ps=n,this._r=new pq(e,this),this.jn=new gq(e,this),this.ur=new g_(this.jn,e,e.Qt())}cr(e){dr(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,n=e.Ft();if(e.Qt().Et().Gi()||n.Gi())return null;const r=e.Lt();return r===null?null:n.Nt(this.Ps.price,r.Wt)}}class yq{constructor(){this.wr=new WeakMap}gr(e,n,r){const i=1/n*r;if(e>=i)return 1;const a=i/e,o=Math.pow(2,Math.floor(Math.log2(a)));return Math.min(o,512)}Mr(e,n,r,i=!1,a){if(e.length===0||n<=1)return e;const o=this.br(n);if(o<=1)return e;const u=this.Sr(e);let h=u.Cr.get(o);return h!==void 0||(h=this.yr(e,o,r,i,a,u.Cr),u.Cr.set(o,h)),h}kr(e,n,r,i,a=!1,o){if(r<1||e.length===0)return e;const u=this.Sr(e),h=u.Cr.get(r);if(!h)return this.Mr(e,r,i,a,o);const f=this.Pr(e,n,r,h,a,i,o);return u.Cr.set(r,f),f}br(e){if(e<=2)return 2;for(const n of fq)if(e<=n)return n;return 512}Tr(e){if(e.length===0)return 0;const n=e[0],r=e[e.length-1];return 31*e.length+17*n.js+13*r.js}yr(e,n,r,i=!1,a,o=new Map){if(n===2)return this.Rr(e,2,r,i,a);const u=n/2;let h=o.get(u);return h||(h=this.yr(e,u,r,i,a,o),o.set(u,h)),this.Dr(h,r,i,a)}Rr(e,n,r,i=!1,a){const o=this.Ir(e,n,r,i,a);return this.Vr(o,i)}Dr(e,n,r=!1,i){const a=this.Ir(e,2,n,r,i);return this.Vr(a,r)}Ir(e,n,r,i=!1,a){const o=[];for(let u=0;u<e.length;u+=n)if(e.length-u>=n){const h=this.Br(e[u],e[u+1],r,i,a);h.Er=!1,o.push(h)}else if(o.length===0)o.push(this.Ar(e[u],!0));else{const h=o[o.length-1];o[o.length-1]=this.Lr(h,e[u],r,i,a)}return o}zr(e,n){return(e??1)+(n??1)}Br(e,n,r,i=!1,a){if(!i||!r||!a){const f=e.Wt[1]>n.Wt[1]?e.Wt[1]:n.Wt[1],p=e.Wt[2]<n.Wt[2]?e.Wt[2]:n.Wt[2];return{Or:e.js,Nr:n.js,Fr:e.wt,Wr:n.wt,Hr:e.Wt[0],Ur:f,$r:p,qr:n.Wt[3],jr:this.zr(e.jr,n.jr),Yr:void 0,Er:!1}}const o=r(this.Kr(e,a),this.Kr(n,a)),u=a(o),h=u.length?u[u.length-1]:0;return{Or:e.js,Nr:n.js,Fr:e.wt,Wr:n.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],h),$r:Math.min(e.Wt[2],h),qr:h,jr:this.zr(e.jr,n.jr),Yr:o,Er:!1}}Lr(e,n,r,i=!1,a){if(!i||!r||!a)return{Or:e.Or,Nr:n.js,Fr:e.Fr,Wr:n.wt,Hr:e.Hr,Ur:e.Ur>n.Wt[1]?e.Ur:n.Wt[1],$r:e.$r<n.Wt[2]?e.$r:n.Wt[2],qr:n.Wt[3],jr:e.jr+(n.jr??1),Yr:e.Yr,Er:!1};const o=e.Yr,u=this.Kr(n,a),h=o?{data:o,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:a(o)}:null,f=h?r(h,u):u.data,p=h?a(f):u.priceValues,g=p.length?p[p.length-1]:0;return{Or:e.Or,Nr:n.js,Fr:e.Fr,Wr:n.wt,Hr:e.Hr,Ur:Math.max(e.Ur,g),$r:Math.min(e.$r,g),qr:g,jr:e.jr+(n.jr??1),Yr:f,Er:!1}}Zr(e,n,r,i,a,o,u=!1,h){const f=n===i?a:e[n];if(r-n==1)return this.Ar(f,!0);const p=n+1===i?a:e[n+1];let g=this.Br(f,p,o,u,h);for(let x=n+2;x<r;x++){const v=x===i?a:e[x];g=this.Lr(g,v,o,u,h)}return g}Kr(e,n){const r=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:n(r)}}Xr(e,n=!1){const r=n===!0,i=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[r?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:r?i?e.Yr:{wt:e.Fr}:void 0}}Vr(e,n=!1){return e.map((r=>this.Xr(r,n)))}Pr(e,n,r,i,a=!1,o,u){if(i.length===0)return i;const h=e.length-1,f=Math.floor(h/r)*r;if(Math.min(f+r,e.length)-f<r&&e.length>r){const p=e.slice();return p[p.length-1]=n,this.Mr(p,r,o,a,u)}if(Math.floor((h-1)/r)===Math.floor(h/r)||i.length===1){const p=Math.min(f+r,e.length),g=p-f;if(g<=0)return i;const x=g===1?this.Ar(f===h?n:e[f],!0):this.Zr(e,f,p,h,n,o,a,u);return i[i.length-1]=this.Xr(x,a),i}{const p=e.slice();return p[p.length-1]=n,this.Mr(p,r,o,a,u)}}Ar(e,n=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:n}}Sr(e){const n=this.Jr(e),r=this.Tr(e);return n.Qr!==r&&(n.Cr.clear(),n.Qr=r),n}Jr(e){let n=this.wr.get(e);return n===void 0&&(n={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,n)),n}}class vq extends f_{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const bq={Bar:(t,e,n,r)=>{const i=e.upColor,a=e.downColor,o=me(t(n,r)),u=As(o.Wt[0])<=As(o.Wt[3]);return{th:o.R??(u?i:a)}},Candlestick:(t,e,n,r)=>{const i=e.upColor,a=e.downColor,o=e.borderUpColor,u=e.borderDownColor,h=e.wickUpColor,f=e.wickDownColor,p=me(t(n,r)),g=As(p.Wt[0])<=As(p.Wt[3]);return{th:p.R??(g?i:a),ih:p.Ht??(g?o:u),sh:p.nh??(g?h:f)}},Custom:(t,e,n,r)=>({th:me(t(n,r)).R??e.color}),Area:(t,e,n,r)=>{const i=me(t(n,r));return{th:i.vt??e.lineColor,vt:i.vt??e.lineColor,eh:i.eh??e.topColor,rh:i.rh??e.bottomColor}},Baseline:(t,e,n,r)=>{const i=me(t(n,r));return{th:i.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:i.hh??e.topLineColor,ah:i.ah??e.bottomLineColor,oh:i.oh??e.topFillColor1,_h:i._h??e.topFillColor2,uh:i.uh??e.bottomFillColor1,dh:i.dh??e.bottomFillColor2}},Line:(t,e,n,r)=>{const i=me(t(n,r));return{th:i.R??e.color,vt:i.R??e.color}},Histogram:(t,e,n,r)=>({th:me(t(n,r)).R??e.color})};class wq{constructor(e){this.fh=(n,r)=>r!==void 0?r.Wt:this.ye.qs().ph(n),this.ye=e,this.mh=bq[e.wh()]}gh(e,n){return this.mh(this.fh,this.ye.N(),e,n)}}function x_(t,e,n,r,i=0,a=e.length){let o=a-i;for(;0<o;){const u=o>>1,h=i+u;r(e[h],n)===t?(i=h+1,o-=u+1):o=u}return i}const Hl=x_.bind(null,!0),y_=x_.bind(null,!1);var BN;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(BN||(BN={}));const Es=30;class Sq{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,n=0){const r=this.Th(e,n);return r===null?null:{...this.Rh(r),js:this.Ph(r)}}Dh(){return this.Mh}Ih(e,n,r){if(this.Gi())return null;let i=null;for(const a of r)i=Rd(i,this.Vh(e,n,a));return i}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map((n=>n.js))}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,n){const r=this.Eh(e);if(r===null&&n!==0)switch(n){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return r}Ah(e){let n=this.zh(e);return n>0&&(n-=1),n!==this.Mh.length&&this.Ph(n)<e?n:null}Lh(e){const n=this.Oh(e);return n!==this.Mh.length&&e<this.Ph(n)?n:null}Eh(e){const n=this.zh(e);return n===this.Mh.length||e<this.Mh[n].js?null:n}zh(e){return Hl(this.Mh,e,((n,r)=>n.js<r))}Oh(e){return y_(this.Mh,e,((n,r)=>n.js>r))}Nh(e,n,r){let i=null;for(let a=e;a<n;a++){const o=this.Mh[a].Wt[r];Number.isNaN(o)||(i===null?i={Fh:o,Wh:o}:(o<i.Fh&&(i.Fh=o),o>i.Wh&&(i.Wh=o)))}return i}Vh(e,n,r){if(this.Gi())return null;let i=null;const a=me(this.kh()),o=me(this.sn()),u=Math.max(e,a),h=Math.min(n,o),f=Math.ceil(u/Es)*Es,p=Math.max(f,Math.floor(h/Es)*Es);{const x=this.zh(u),v=this.Oh(Math.min(h,f,n));i=Rd(i,this.Nh(x,v,r))}let g=this.bh.get(r);g===void 0&&(g=new Map,this.bh.set(r,g));for(let x=Math.max(f+1,u);x<p;x+=Es){const v=Math.floor(x/Es);let w=g.get(v);if(w===void 0){const S=this.zh(v*Es),C=this.Oh((v+1)*Es-1);w=this.Nh(S,C,r),g.set(v,w)}i=Rd(i,w)}{const x=this.zh(p),v=this.Oh(h);i=Rd(i,this.Nh(x,v,r))}return i}}function Rd(t,e){return t===null?e:e===null?t:{Fh:Math.min(t.Fh,e.Fh),Wh:Math.max(t.Wh,e.Wh)}}function bg(){return new Sq}const jh={setLineStyle:Ls};class Nq{constructor(e){this.Hh=e}nt(e,n,r){this.Hh.draw(e,jh)}Uh(e,n,r){this.Hh.drawBackground?.(e,jh)}}class jq{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;const n=new Nq(e);return this.Ln={qh:e,jh:n},n}Yh(){return this.$h.zOrder?.()??"normal"}}class v_{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){this.Zh.updateAllViews?.()}Ys(){const e=this.Zh.paneViews?.()??[];if(this.Kh?.qh===e)return this.Kh.jh;const n=e.map((r=>new jq(r)));return this.Kh={qh:e,jh:n},n}Qn(e,n){return this.Zh.hitTest?.(e,n)??null}}let Cq=class extends v_{ds(){return[]}};class kq{constructor(e){this.Hh=e}nt(e,n,r){this.Hh.draw(e,jh)}Uh(e,n,r){this.Hh.drawBackground?.(e,jh)}}class IN{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;const n=new kq(e);return this.Ln={qh:e,jh:n},n}Yh(){return this.$h.zOrder?.()??"normal"}}function b_(t){return{ri:t.text(),Ei:t.coordinate(),Vi:t.fixedCoordinate?.(),R:t.textColor(),G:t.backColor(),It:t.visible?.()??!0,pi:t.tickVisible?.()??!0}}class Eq{constructor(e,n){this.Xt=new h_,this.Xh=e,this.Jh=n}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...b_(this.Xh)}),this.Xt}}class _q extends of{constructor(e,n){super(),this.Xh=e,this.Ki=n}Yi(e,n,r){const i=b_(this.Xh);r.G=i.G,e.R=i.R;const a=2/12*this.Ki.k();r.Ti=a,r.Ri=a,r.Ei=i.Ei,r.Vi=i.Vi,e.ri=i.ri,e.It=i.It,e.pi=i.pi}}class Rq extends v_{constructor(e,n){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=n}fs(){const e=this.Zh.timeAxisViews?.()??[];if(this.Qh?.qh===e)return this.Qh.jh;const n=this.ye.Qt().Et(),r=e.map((i=>new Eq(i,n)));return this.Qh={qh:e,jh:r},r}Ks(){const e=this.Zh.priceAxisViews?.()??[];if(this.ta?.qh===e)return this.ta.jh;const n=this.ye.Ft(),r=e.map((i=>new _q(i,n)));return this.ta={qh:e,jh:r},r}na(){const e=this.Zh.priceAxisPaneViews?.()??[];if(this.ia?.qh===e)return this.ia.jh;const n=e.map((r=>new IN(r)));return this.ia={qh:e,jh:n},n}ea(){const e=this.Zh.timeAxisPaneViews?.()??[];if(this.sa?.qh===e)return this.sa.jh;const n=e.map((r=>new IN(r)));return this.sa={qh:e,jh:n},n}ra(e,n){return this.Zh.autoscaleInfo?.(e,n)??null}}function wg(t,e,n,r){t.forEach((i=>{e(i).forEach((a=>{a.Yh()===n&&r.push(a)}))}))}function Sg(t){return t.Ys()}function Mq(t){return t.na()}function Aq(t){return t.ea()}const Tq=["Area","Line","Baseline"];class df extends vq{constructor(e,n,r,i,a){super(e),this.jt=bg(),this._r=new dq(this),this.ha=[],this.aa=new lq(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new yq,this.da=new Map,this.fa=null,this.Ps=r,this.pa=n;const o=new hq(this);if(this.gs=[o],this.ur=new g_(o,this,e),Tq.includes(this.pa)&&(this.la=new uq(this)),this.va(),this.$h=i(this,this.Qt(),a),this.pa==="Custom"){const u=this.$h;u.ma&&this.wa(u.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const n={Be:!0},r=this.Ft();if(this.Qt().Et().Gi()||r.Gi()||this.jt.Gi())return n;const i=this.Qt().Et().Ie(),a=this.Lt();if(i===null||a===null)return n;let o,u;if(e){const g=this.jt.Ch();if(g===null)return n;o=g,u=g.js}else{const g=this.jt.$s(i.bi(),-1);if(g===null||(o=this.jt.ph(g.js),o===null))return n;u=g.js}const h=o.Wt[3],f=this.ga().gh(u,{Wt:o}),p=r.Nt(h,a.Wt);return{Be:!1,gt:h,ri:r.Ji(h,a.Wt),Ue:r.Ma(h),$e:r.ba(h,a.Wt),R:f.th,Ei:p,js:u}}ga(){return this.oa!==null||(this.oa=new wq(this)),this.oa}N(){return this.Ps}cr(e){const n=this.Qt(),{priceScaleId:r,visible:i,priceFormat:a}=e;r!==void 0&&r!==this.Ps.priceScaleId&&n.Sa(this,r),i!==void 0&&i!==this.Ps.visible&&n.xa();const o=e.conflationThresholdFactor!==void 0;dr(this.Ps,e),o&&(this.da.clear(),this.Qt().dr()),a!==void 0&&(this.va(),n.Ca()),n.ya(this),n.ka(),this.$h.kt("options")}ht(e,n){this.jt.ht(e),this.da.clear();const r=this.Qt().Et().N();r.enableConflation&&r.precomputeConflationOnInit&&this.Pa(r.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(n&&n.Ta?this.la.Pe():e.length===0&&this.la.ke());const i=this.Qt().Kn(this);this.Qt().Ra(i),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const n=new xq(this,e);return this.ha.push(n),this.Qt().ya(this),n}Ia(e){const n=this.ha.indexOf(e);n!==-1&&this.ha.splice(n,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const n=e.Aa();return this.jt.$s(n,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const n=this.za();if(!this.da.has(n))return;const r=this.pa==="Custom",i=r&&this.fa||void 0,a=r&&this.$h.Oa?h=>{const f=h,p=this.$h.Oa(f);return Array.isArray(p)?p:[typeof p=="number"?p:0]}:void 0,o=this.ca.kr(this.jt.Dh(),e,n,i,r,a),u=bg();u.ht(o),this.da.set(n,u)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const n=this.za(),r=this.da.get(n);return r||(this.Fa(n),this.da.get(n)??this.jt)}Wa(e){const n=this.jt.ph(e);return n===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:n.Wt[0],Ur:n.Wt[1],$r:n.Wt[2],qr:n.Wt[3]}:n.Wt[3]}Ha(e){const n=[];wg(this.ua,Sg,"top",n);const r=this.la;return r!==null&&r.It()&&(this._a===null&&r.Re()&&(this._a=setTimeout((()=>{this._a=null,this.Qt().Ua()}),0)),r.Te(),n.unshift(r)),n}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const n=this.ha.map((r=>r.pr()));return e.push(...n),wg(this.ua,Sg,"normal",e),e}qa(){return this.ja(Sg,"bottom")}Ya(e){return this.ja(Mq,e)}Ka(e){return this.ja(Aq,e)}Za(e,n){return this.ua.map((r=>r.Qn(e,n))).filter((r=>r!==null))}ds(){return[this.ur,...this.ha.map((e=>e.vr()))]}Ks(e,n){if(n!==this.hs&&!this.$a())return[];const r=[...this.gs];for(const i of this.ha)r.push(i.mr());return this.ua.forEach((i=>{r.push(...i.Ks())})),r}fs(){const e=[];return this.ua.forEach((n=>{e.push(...n.fs())})),e}ra(e,n){if(this.Ps.autoscaleInfoProvider!==void 0){const r=this.Ps.autoscaleInfoProvider((()=>{const i=this.Ga(e,n);return i===null?null:i.tr()}));return Nh.ir(r)}return this.Ga(e,n)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){this.$h.kt();for(const e of this.gs)e.kt();for(const e of this.ha)e.kt();this._r.kt(),this.aa.kt(),this.la?.kt(),this.ua.forEach((e=>e.Ws()))}Ft(){return me(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const n=this.jt.ph(e);return n===null?null:{gt:n.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new Rq(e,this))}el(e){this.ua=this.ua.filter((n=>n.Gh()!==e))}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!cf(this.Ft().ol())}Ga(e,n){if(!Ac(e)||!Ac(n)||this.jt.Gi())return null;const r=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],i=this.jt.Ih(e,n,r);let a=i!==null?new Mn(i.Fh,i.Wh):null,o=null;if(this.wh()==="Histogram"){const u=this.Ps.base,h=new Mn(u,u);a=a!==null?a.Sn(h):h}return this.ua.forEach((u=>{const h=u.ra(e,n);if(h?.priceRange){const f=new Mn(h.priceRange.minValue,h.priceRange.maxValue);a=a!==null?a.Sn(f):f}h?.margins&&(o=h.margins)})),new Nh(a,o)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const n=this.Ps.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(n=>n.map(e))};break}case"volume":this.Ja=new rq(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new p_(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new uf(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,n){const r=[];return wg(this.ua,e,n,r),r}za(){const{ul:e,cl:n,dl:r}=this.fl();return this.ca.gr(e,n,r)}fl(){const e=this.Qt().Et(),n=e.ul(),r=window.devicePixelRatio||1,i=e.N().conflationThresholdFactor;return{ul:n,cl:r,dl:this.Ps.conflationThresholdFactor??i??1}}pl(e){const n=this.jt.Dh();let r;if(this.pa==="Custom"&&this.fa!==null){const a=this.rl();if(!a)throw new Error(mq);r=this.ca.Mr(n,e,this.fa,!0,(o=>a(o)))}else r=this.ca.Mr(n,e);const i=bg();return i.ht(r),i}Fa(e){const n=this.pl(e);this.da.set(e,n)}Pa(e){if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const n=this.Qt().Et().vl();for(const r of n){const i=()=>{this.ml(r)},a=typeof window=="object"&&window||typeof self=="object"&&self;a?.gl?.wl?a.gl.wl((()=>{i()}),{Ml:e}):Promise.resolve().then((()=>i()))}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const n=this.pl(e);this.da.set(e,n)}}const zq=[3],Oq=[0,1,2,3];class Dq{constructor(e){this.Ps=e}bl(e,n,r){let i=e;if(this.Ps.mode===0)return i;const a=r.Rs(),o=a.Lt();if(o===null)return i;const u=a.Nt(e,o),h=r.Sl().filter((p=>p instanceof df)).reduce(((p,g)=>{if(r.Zn(g)||!g.It())return p;const x=g.Ft(),v=g.qs();if(x.Gi()||!v.Ee(n))return p;const w=v.ph(n);if(w===null)return p;const S=As(g.Lt()),C=this.Ps.mode===3?Oq:zq;return p.concat(C.map((j=>x.Nt(w.Wt[j],S.Wt))))}),[]);if(h.length===0)return i;h.sort(((p,g)=>Math.abs(p-u)-Math.abs(g-u)));const f=h[0];return i=a.Ds(f,o),i}}function Al(t,e,n){return Math.min(Math.max(t,e),n)}function Md(t,e,n){return e-t<=n}class Pq extends Is{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.jt===null)return;const a=Math.max(1,Math.floor(r));e.lineWidth=a,(function(o,u){o.save(),o.lineWidth%2&&o.translate(.5,.5),u(),o.restore()})(e,(()=>{const o=me(this.jt);if(o.xl){e.strokeStyle=o.Cl,Ls(e,o.yl),e.beginPath();for(const u of o.kl){const h=Math.round(u.Pl*r);e.moveTo(h,-a),e.lineTo(h,n.height+a)}e.stroke()}if(o.Tl){e.strokeStyle=o.Rl,Ls(e,o.Dl),e.beginPath();for(const u of o.Il){const h=Math.round(u.Pl*i);e.moveTo(-a,h),e.lineTo(n.width+a,h)}e.stroke()}}))}}class Lq{constructor(e){this.Xt=new Pq,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,n={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map((r=>({Pl:r.coord})))};this.Xt.ht(n),this.xt=!1}return this.Xt}}class Fq{constructor(e){this.$h=new Lq(e)}pr(){return this.$h}}const Ng={Bl:4,El:1e-4};function kl(t,e){const n=100*(t-e)/e;return e<0?-n:n}function Bq(t,e){const n=kl(t.Ze(),e),r=kl(t.Ge(),e);return new Mn(n,r)}function yc(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function Iq(t,e){const n=yc(t.Ze(),e),r=yc(t.Ge(),e);return new Mn(n,r)}function Ch(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.log10(n+e.El)+e.Bl;return t<0?-r:r}function vc(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.pow(10,n-e.Bl)-e.El;return t<0?-r:r}function oc(t,e){if(t===null)return null;const n=Ch(t.Ze(),e),r=Ch(t.Ge(),e);return new Mn(n,r)}function El(t,e){if(t===null)return null;const n=vc(t.Ze(),e),r=vc(t.Ge(),e);return new Mn(n,r)}function jg(t){if(t===null)return Ng;const e=Math.abs(t.Ge()-t.Ze());if(e>=1||e<1e-15)return Ng;const n=Math.ceil(Math.abs(Math.log10(e))),r=Ng.Bl+n;return{Bl:r,El:1/Math.pow(10,r)}}class Cg{constructor(e,n){if(this.Al=e,this.Ll=n,(function(r){if(r<0)return!1;if(r>1e18)return!0;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0})(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let r=this.Al;r!==1;){if(r%2==0)this.zl.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),r/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,n,r){const i=this.Al===0?0:1/this.Al;let a=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),o=0,u=this.Ll[0];for(;;){const g=Md(a,i,1e-14)&&a>i+1e-14,x=Md(a,r*u,1e-14),v=Md(a,1,1e-14);if(!(g&&x&&v))break;a/=u,u=this.Ll[++o%this.Ll.length]}if(a<=i+1e-14&&(a=i),a=Math.max(1,a),this.zl.length>0&&(h=a,f=1,p=1e-14,Math.abs(h-f)<p))for(o=0,u=this.zl[0];Md(a,r*u,1e-14)&&a>i+1e-14;)a/=u,u=this.zl[++o%this.zl.length];var h,f,p;return a}}class UN{constructor(e,n,r,i){this.Nl=[],this.Ki=e,this.Al=n,this.Fl=r,this.Wl=i}Ol(e,n){if(e<n)throw new Error("high < low");const r=this.Ki.$t(),i=(e-n)*this.Hl()/r,a=new Cg(this.Al,[2,2.5,2]),o=new Cg(this.Al,[2,2,2.5]),u=new Cg(this.Al,[2.5,2,2]),h=[];return h.push(a.Ol(e,n,i),o.Ol(e,n,i),u.Ol(e,n,i)),(function(f){if(f.length<1)throw Error("array is empty");let p=f[0];for(let g=1;g<f.length;++g)f[g]<p&&(p=f[g]);return p})(h)}Ul(){const e=this.Ki,n=e.Lt();if(n===null)return void(this.Nl=[]);const r=e.$t(),i=this.Fl(r-1,n),a=this.Fl(0,n),o=this.Ki.N().entireTextOnly?this.$l()/2:0,u=o,h=r-1-o,f=Math.max(i,a),p=Math.min(i,a);if(f===p)return void(this.Nl=[]);const g=this.Ol(f,p);if(this.ql(n,g,f,p,u,h),e.jl()&&this.Yl(g,p,f)){const w=this.Ki.Kl();this.Zl(n,g,u,h,w,2*w)}const x=this.Nl.map((w=>w.Gl)),v=this.Ki.Xl(x);for(let w=0;w<this.Nl.length;w++)this.Nl[w].Jl=v[w]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,n,r,i,a,o){const u=this.Nl,h=this.Ki;let f=r%n;f+=f<0?n:0;const p=r>=i?1:-1;let g=null,x=0;for(let v=r-f;v>i;v-=n){const w=this.Wl(v,e,!0);g!==null&&Math.abs(w-g)<this.Hl()||w<a||w>o||(x<u.length?(u[x].Pl=w,u[x].Jl=h.Ql(v),u[x].Gl=v):u.push({Pl:w,Jl:h.Ql(v),Gl:v}),x++,g=w,h.io()&&(n=this.Ol(v*p,i)))}u.length=x}Zl(e,n,r,i,a,o){const u=this.Nl,h=this.so(e,r,a,o),f=this.so(e,i,-o,-a),p=this.Wl(0,e,!0)-this.Wl(n,e,!0);u.length>0&&u[0].Pl-h.Pl<p/2&&u.shift(),u.length>0&&f.Pl-u[u.length-1].Pl<p/2&&u.pop(),u.unshift(h),u.push(f)}so(e,n,r,i){const a=(r+i)/2,o=this.Fl(n+r,e),u=this.Fl(n+i,e),h=Math.min(o,u),f=Math.max(o,u),p=Math.max(.1,this.Ol(f,h)),g=this.Fl(n+a,e),x=g-g%p,v=this.Wl(x,e,!0);return{Jl:this.Ki.Ql(x),Pl:v,Gl:x}}Yl(e,n,r){let i=As(this.Ki.er());return this.Ki.io()&&(i=El(i,this.Ki.no())),i.Ze()-n<e&&r-i.Ge()<e}}function w_(t){return t.slice().sort(((e,n)=>me(e._s())-me(n._s())))}var HN;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(HN||(HN={}));const VN=new p_,$N=new uf(100,1);class Uq{constructor(e,n,r,i,a){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new Dt,this.fo=new Dt,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=$N,this.So=jg(null),this.xo=e,this.Ps=n,this.Co=r,this.yo=i,this.ko=a,this.Po=new UN(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(dr(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const n=Wn(e.scaleMargins.top),r=Wn(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(n+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+r}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const n=this.ae();let r=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),n.ae===1&&e.ae!==n.ae&&((function(a,o){if(a===null)return!1;const u=vc(a.Ze(),o),h=vc(a.Ge(),o);return isFinite(u)&&isFinite(h)})(this.sr,this.So)?(r=El(this.sr,this.So),r!==null&&this.Lo(r)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==n.ae&&(r=oc(this.sr,this.So),r!==null&&this.Lo(r));const i=n.ae!==this.Ps.mode;i&&(n.ae===2||this.He())&&this._l(),i&&(n.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&n.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(n,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,n){const r=this.sr;(n||r===null&&e!==null||r!==null&&!r.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,n){return this.He()?e=kl(e,n):this.Eo()&&(e=yc(e,n)),this.Ro(e,n)}Yo(e,n,r){this.Uo();const i=this.Ho(),a=me(this.er()),o=a.Ze(),u=a.Ge(),h=this.Fo()-1,f=this.Ao(),p=h/(u-o),g=r===void 0?0:r.from,x=r===void 0?e.length:r.to,v=this.Ko();for(let w=g;w<x;w++){const S=e[w],C=S.gt;if(isNaN(C))continue;let j=C;v!==null&&(j=v(S.gt,n));const E=i+p*(j-o),_=f?E:this.eo-1-E;S.ut=_}}Zo(e,n,r){this.Uo();const i=this.Ho(),a=me(this.er()),o=a.Ze(),u=a.Ge(),h=this.Fo()-1,f=this.Ao(),p=h/(u-o),g=r===void 0?0:r.from,x=r===void 0?e.length:r.to,v=this.Ko();for(let w=g;w<x;w++){const S=e[w];let C=S.Hr,j=S.Ur,E=S.$r,_=S.qr;v!==null&&(C=v(S.Hr,n),j=v(S.Ur,n),E=v(S.$r,n),_=v(S.qr,n));let A=i+p*(C-o),O=f?A:this.eo-1-A;S.Go=O,A=i+p*(j-o),O=f?A:this.eo-1-A,S.Xo=O,A=i+p*(E-o),O=f?A:this.eo-1-A,S.Jo=O,A=i+p*(_-o),O=f?A:this.eo-1-A,S.Qo=O}}Ds(e,n){const r=this.To(e,n);return this.t_(r,n)}t_(e,n){let r=e;return this.He()?r=(function(i,a){return a<0&&(i=-i),i/100*a+a})(r,n):this.Eo()&&(r=(function(i,a){return i-=100,a<0&&(i=-i),i/100*a+a})(r,n)),r}Sl(){return this.po}Dt(){return this.mo||(this.mo=w_(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const n=this.po.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.po.splice(n,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const n of this.po){const r=n.Lt();r!==null&&(e===null||r.Ea<e.Ea)&&(e=r)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const n=this.Po.Vl();return this.wo={Vl:n,e_:e},this.do.p(),n}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=me(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let n=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const r=me(this.ho).Ke();n=Math.max(n,.1),r.Je(n),this.Lo(r)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=me(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const n=me(this.er()).Xe()/(this.Fo()-1);let r=e-this.bo;this.Ao()&&(r*=-1);const i=r*n,a=me(this.ho).Ke();a.Qe(i),this.Lo(a,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,n){switch(this.Ps.mode){case 2:return this.c_(kl(e,n));case 3:return this.Xa().format(yc(e,n));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,me(this.vo).Xa())}ba(e,n){return e=kl(e,n),this.c_(e,VN)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach((e=>e.Ws()))}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const r of this.po)r._s()<e&&(e=r._s(),this.vo=r);let n=100;this.vo!==null&&(n=Math.round(this.vo.qh())),this.Ja=$N,this.He()?(this.Ja=VN,n=100):this.Eo()?(this.Ja=new uf(100,1),n=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new UN(this,n,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,n){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?Ch(e,this.So):e;const r=me(this.er()),i=this.Ho()+(this.Fo()-1)*(e-r.Ze())/r.Xe();return this.jo(i)}To(e,n){if(this.Uo(),this.Gi())return 0;const r=this.jo(e),i=me(this.er()),a=i.Ze()+i.Xe()*((r-this.Ho())/(this.Fo()-1));return this.io()?vc(a,this.So):a}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let n=null;const r=this.p_();let i=0,a=0;for(const h of r){if(!h.It())continue;const f=h.Lt();if(f===null)continue;const p=h.ra(e.Aa(),e.bi());let g=p&&p.er();if(g!==null){switch(this.Ps.mode){case 1:g=oc(g,this.So);break;case 2:g=Bq(g,f.Wt);break;case 3:g=Iq(g,f.Wt)}if(n=n===null?g:n.Sn(me(g)),p!==null){const x=p.rr();x!==null&&(i=Math.max(i,x.above),a=Math.max(a,x.below))}}}if(this.jl()&&(i=Math.max(i,this.Kl()),a=Math.max(a,this.Kl())),i===this.uo&&a===this.co||(this.uo=i,this.co=a,this.wo=null,this.Io()),n!==null){if(n.Ze()===n.Ge()){const h=5*this.m_();this.io()&&(n=El(n,this.So)),n=new Mn(n.Ze()-h,n.Ge()+h),this.io()&&(n=oc(n,this.So))}if(this.io()){const h=El(n,this.So),f=jg(h);if(o=f,u=this.So,o.Bl!==u.Bl||o.El!==u.El){const p=this.ho!==null?El(this.ho,this.So):null;this.So=f,n=oc(h,f),p!==null&&(this.ho=oc(p,f))}}this.Lo(n)}else this.sr===null&&(this.Lo(new Mn(-.5,.5)),this.So=jg(null));var o,u}Ko(){return this.He()?kl:this.Eo()?yc:this.io()?e=>Ch(e,this.So):null}g_(e,n,r){return n===void 0?(r===void 0&&(r=this.Xa()),r.format(e)):n(e)}M_(e,n,r){return n===void 0?(r===void 0&&(r=this.Xa()),r.formatTickmarks(e)):n(e)}lr(e,n){return this.g_(e,this.yo.priceFormatter,n)}f_(e,n){const r=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(r?i=>i.map(r):void 0),n)}c_(e,n){return this.g_(e,this.yo.percentageFormatter,n)}d_(e,n){const r=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(r?i=>i.map(r):void 0),n)}}function qN(t){return t instanceof df}class GN{constructor(e,n){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new Dt,this.ua=[],this.Jh=e,this.ns=n,this.k_=new Fq(this);const r=n.N();this.P_=this.T_("left",r.leftPriceScale),this.R_=this.T_("right",r.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(r)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const n=Array.from(this.b_.values());for(const r of n){const i=me(r[0].Ft());i.cr(e.overlayPriceScales),e.localization&&i._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?Wn(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach((e=>{e.m&&e.m()})),this.ua=this.ua.filter((e=>{const n=e.Gh();return n.detached&&n.detached(),!1})),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach((n=>{if(this.Zn(n)){const r=n.Ft();r!==null&&r.No(e)}})),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(qN)}Sl(){return this.po}Zn(e){const n=e.Ft();return n===null||this.P_!==n&&this.R_!==n}i_(e,n,r){this.W_(e,n,r?e._s():this.po.length)}n_(e,n){const r=this.po.indexOf(e);fn(r!==-1,"removeDataSource: invalid data source"),this.po.splice(r,1),n||this.po.forEach(((o,u)=>o.us(u)));const i=me(e.Ft()).ol();if(this.b_.has(i)){const o=Wn(this.b_.get(i)),u=o.indexOf(e);u!==-1&&(o.splice(u,1),o.length===0&&this.b_.delete(i))}const a=e.Ft();a&&a.Sl().indexOf(e)>=0&&(a.n_(e),this.H_(a)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,n){e.h_(n)}Y_(e,n){e.a_(n),this.z_()}K_(e){e.l_()}Z_(e,n){e.o_(n)}G_(e,n){e.__(n),this.z_()}X_(e){e.u_()}z_(){this.po.forEach((e=>{e.Ws()}))}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const n=this.Jh.Ie();e.Do({ln:!0}),n!==null&&e.v_(n),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach((e=>{this.Zn(e)&&this.H_(e.Ft())})),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=w_(this.po)),this.mo}su(e,n){n=Al(n,0,this.po.length-1);const r=this.po.indexOf(e);fn(r!==-1,"setSeriesOrder: invalid data source"),this.po.splice(r,1),this.po.splice(n,0,e),this.po.forEach(((i,a)=>i.us(a))),this.mo=null;for(const i of[this.P_,this.R_])i.s_(),i._l();this.ns.dr()}Vt(){return this.Dt().filter(qN)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new Cq(e))}el(e){this.ua=this.ua.filter((n=>n.Gh()!==e)),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,n){return this.ua.map((r=>r.Qn(e,n))).filter((r=>r!==null))}J_(e){const n=e.p_();if(n&&n.length>0&&!this.Jh.Gi()){const r=this.Jh.Ie();r!==null&&e.v_(r)}e.Ws()}W_(e,n,r){let i=this.V_(n);if(i===null&&(i=this.T_(n,this.ns.N().overlayPriceScales)),this.po.splice(r,0,e),!cf(n)){const a=this.b_.get(n)||[];a.push(e),this.b_.set(n,a)}e.us(r),i.i_(e),e.cs(i),this.H_(i),this.mo=null}D_(e,n,r){n.ae!==r.ae&&this.J_(e)}T_(e,n){const r={visible:!0,autoScale:!0,...$i(n)},i=new Uq(e,r,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return i.No(this.$t()),i}}function Ad(t){return{hu:t.hu,au:{te:t.lu.externalId},ou:t.lu.cursorStyle}}function Hq(t,e,n,r){for(const i of t){const a=i.Tt(r);if(a!==null&&a.Qn){const o=a.Qn(e,n);if(o!==null)return{_u:i,au:o}}}return null}function Vq(t){return t.Ys!==void 0}function S_(t,e,n){const r=[t,...t.Dt()],i=(function(a,o,u){let h,f;for(const x of a){const v=x.Za?.(o,u)??[];for(const w of v)p=w.zOrder,g=h?.zOrder,(!g||p==="top"&&g!=="top"||p==="normal"&&g==="bottom")&&(h=w,f=x)}var p,g;return h&&f?{lu:h,hu:f}:null})(r,e,n);if(i?.lu.zOrder==="top")return Ad(i);for(const a of r){if(i&&i.hu===a&&i.lu.zOrder!=="bottom"&&!i.lu.isBackground)return Ad(i);if(Vq(a)){const o=Hq(a.Ys(t),e,n,t);if(o!==null)return{hu:a,_u:o._u,au:o.au}}if(i&&i.hu===a&&i.lu.zOrder!=="bottom"&&i.lu.isBackground)return Ad(i)}return i?.lu?Ad(i):null}class $q{constructor(e,n,r=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=n,this.zn=r}du(e){const n=e.time,r=this.cu.cacheKey(n),i=this.Ln.get(r);if(i!==void 0)return i.fu;if(this.Vn===this.zn){const o=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(Wn(o)),this.En++,this.Vn--}const a=this.uu(e);return this.Ln.set(r,{fu:a,Wn:this.Bn}),this.An.set(this.Bn,r),this.Vn++,this.Bn++,a}}class bc{constructor(e,n){fn(e<=n,"right should be >= left"),this.pu=e,this.vu=n}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function YN(t,e){return t===null||e===null?t===e:t.Ye(e)}class qq{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,n){this.Su(n),this.Ln=null;for(let r=n;r<e.length;++r){const i=e[r];let a=this.wu.get(i.timeWeight);a===void 0&&(a=[],this.wu.set(i.timeWeight,a)),a.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}xu(e,n,r,i,a){const o=Math.ceil(n/e);return this.Ln!==null&&this.Ln.Cu===o&&a===this.Ln.yu&&r===this.Ln.ku||(this.Ln={yu:a,ku:r,Vl:this.Pu(o,r,i),Cu:o}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const n=[];this.wu.forEach(((r,i)=>{e<=r[0].index?n.push(i):r.splice(Hl(r,e,(a=>a.index<e)),1/0)}));for(const r of n)this.wu.delete(r)}Pu(e,n,r){let i=[];const a=o=>!n||r.has(o.index);for(const o of Array.from(this.wu.keys()).sort(((u,h)=>h-u))){if(!this.wu.get(o))continue;const u=i;i=[];const h=u.length;let f=0;const p=Wn(this.wu.get(o)),g=p.length;let x=1/0,v=-1/0;for(let w=0;w<g;w++){const S=p[w],C=S.index;for(;f<h;){const j=u[f],E=j.index;if(!(E<C&&a(j))){x=E;break}f++,i.push(j),v=E,x=1/0}if(x-C>=e&&C-v>=e&&a(S))i.push(S),v=C;else if(this.gu)return u}for(;f<h;f++)a(u[f])&&i.push(u[f])}return i}}class Tl{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new bc(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new Tl(null)}}function Gq(t,e){return t.weight>e.weight?t:e}class Yq{constructor(e,n,r,i){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new qq,this.Au=new Map,this.Lu=Tl.Iu(),this.zu=!0,this.Ou=new Dt,this.Nu=new Dt,this.Fu=new Dt,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=n,this.yo=r,this.Yu=n.rightOffset,this.Ku=n.barSpacing,this.ns=e,this.Zu(n),this.cu=i,this.Gu(),this.Eu.Mu(n.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){dr(this.yo,e),this.tc(),this.Gu()}cr(e,n){dr(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){return this.Bu[e]?.time??null}es(e){return this.Bu[e]??null}ec(e,n){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return n?this.Bu.length-1:null;const r=Hl(this.Bu,this.cu.key(e),((i,a)=>this.cu.key(i.time)<a));return this.cu.key(e)<this.cu.key(this.Bu[r].time)?n?r:null:r}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const n={from:e.Aa(),to:e.bi()};return this.oc(n)}oc(e){const n=Math.round(e.from),r=Math.round(e.to),i=me(this._c()),a=me(this.uc());return{from:me(this.es(Math.max(i,n))),to:me(this.es(Math.min(a,r)))}}cc(e){return{from:me(this.ec(e.from,!0)),to:me(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const n=this.ac(),r=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&r!==0){const i=this.Ku*e/r;this.Ku=i}if(this.Ps.fixLeftEdge&&n!==null&&n.Aa()<=0){const i=r-e;this.Yu-=Math.round(i/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!Ac(e))return 0;const n=this.vc()+this.Yu-e;return this.S_-(n+.5)*this.Ku-1}mc(e,n){const r=this.vc(),i=n===void 0?0:n.from,a=n===void 0?e.length:n.to;for(let o=i;o<a;o++){const u=e[o].wt,h=r+this.Yu-u,f=this.S_-(h+.5)*this.Ku-1;e[o]._t=f}}wc(e,n){const r=Math.ceil(this.gc(e));return n&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(r)?this.bc(r):r}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const n=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&n!==0){const r=this.Yu*n/this.Ku;this.Yu=r}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,n=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),r=Math.round(n/e),i=me(this.Ie()),a=Math.max(i.Aa(),i.Aa()-r),o=Math.max(i.bi(),i.bi()-r),u=this.Eu.xu(e,n,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),h=this._c()+r,f=this.uc()-r,p=this.yc(),g=this.Ps.fixLeftEdge||p,x=this.Ps.fixRightEdge||p;let v=0;for(const w of u){if(!(a<=w.index&&w.index<=o))continue;let S;v<this.qu.length?(S=this.qu[v],S.coord=this.qt(w.index),S.label=this.kc(w),S.weight=w.weight):(S={needAlignCoordinate:!1,coord:this.qt(w.index),label:this.kc(w),weight:w.weight},this.qu.push(S)),this.Ku>n/2&&!p?S.needAlignCoordinate=!1:S.needAlignCoordinate=g&&w.index<=h||x&&w.index>=f,v++}return this.qu.length=v,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,n){const r=this.gc(e),i=this.ul(),a=i+n*(i/10);this.gn(a),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(r-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const n=Al(this.S_-e,0,this.S_),r=Al(this.S_-me(this.Mo),0,this.S_);n!==0&&r!==0&&this.gn(this.Wu.ul*n/r)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const n=(this.bo-e)/this.ul();this.Yu=me(this.Wu).Cc+n,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.Yu,i=performance.now();this.ns.vn({Ec:a=>(a-i)/n>=1,Ac:a=>{const o=(a-i)/n;return o>=1?e:r+(e-r)*o}})}kt(e,n){this.zu=!0,this.Bu=e,this.Eu.bu(e,n),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,n){const r=e.mu(),i=n&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-i)/r),this.Yu=e.bi()-this.vc(),n&&(this.Yu=i?i/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),n=this.uc();if(e===null||n===null)return;const r=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new bc(e,n+r),!0)}Wc(e){const n=new bc(e.from,e.to);this.Nc(n)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const n of e)for(const r of n.ll())this.Uu.set(r,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),n=this.Ps.minBarSpacing;if(n>=e)return[1];const r=[1];let i=2;for(;i<=512;)n<e/i&&r.push(i),i*=2;return r}yc(){const e=this.ns.N().handleScroll,n=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const n=this.Uc(e),r=this.vc()+this.Yu-n;return Math.round(1e6*r)/1e6}xc(e){const n=this.Ku;this.Ku=e,this.dc(),n!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(Tl.Iu());const e=this.vc(),n=this.S_/this.Ku,r=this.Yu+e,i=new bc(r-n+1,r);this.qc(new Tl(i))}dc(){const e=Al(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const n=e/this.Ku,r=Math.pow(2,Math.floor(Math.log2(n)));this.ju=Math.min(r,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const n=this.Zc();this.Yu>n&&(this.Yu=n,this.zu=!0)}Kc(){const e=this._c(),n=this.Vu;return e===null||n===null?null:e-n-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let n=this.Au.get(e.weight);return n===void 0&&(n=new $q((r=>this.Gc(r)),this.cu),this.Au.set(e.weight,n)),n.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const n=this.Lu;this.Lu=e,YN(n.Ru(),this.Lu.Ru())||this.Ou.p(),YN(n.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const n=this.Ie();if(n===null)return;const r=n.Aa()-e;if(r<0){const i=this.Yu-r-1;this.Mn(i)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const n=(function*(i){const a=Math.round(i),o=a<i;let u=1;for(;;)o?(yield a+u,yield a-u):(yield a-u,yield a+u),u++})(e),r=this.uc();for(;r;){const i=n.next().value;if(this.Uu.get(i))return i;if(i<0||i>r)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const n=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(n)}}}var QN,WN,KN,Cx,XN;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(QN||(QN={}));class Qq{constructor(e,n,r){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new Dt,this.nd=new Dt,this.ed=null,this.rd=e,this.Ps=n,this.cu=r,this.ko=new q7(this.Ps.layout.colorParsers),this.hd=new $7(this),this.Jh=new Yq(this,n.timeScale,this.Ps.localization,r),this.Ct=new nq(this,n.crosshair),this.ad=new Dq(n.crosshair),n.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(hn.yn())}dr(){this.dd(hn.Cn())}Ua(){this.dd(new hn(1))}ya(e){const n=this.fd(e);this.dd(n)}pd(){return this.td}vd(e){if(this.td?.hu===e?.hu&&this.td?.au?.te===e?.au?.te)return;const n=this.td;this.td=e,n!==null&&this.ya(n.hu),e!==null&&e.hu!==n?.hu&&this.ya(e.hu)}N(){return this.Ps}cr(e){dr(this.Ps,e),this.Xc.forEach((n=>n.I_(e))),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,n,r=0){const i=this.Xc[r];if(i===void 0)return;if(e==="left")return dr(this.Ps,{leftPriceScale:n}),i.I_({leftPriceScale:n}),this.sd.p(),void this.Ca();if(e==="right")return dr(this.Ps,{rightPriceScale:n}),i.I_({rightPriceScale:n}),this.sd.p(),void this.Ca();const a=this.wd(e,r);a!==null&&(a.Ft.cr(n),this.sd.p())}wd(e,n){const r=this.Xc[n];if(r===void 0)return null;const i=r.V_(e);return i!==null?{Gs:r,Ft:i}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,n){e.No(n),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach((n=>n.L_(e))),this.Sc()}Sd(e){this.Xc.length!==1&&(fn(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,n){if(this.Xc.length<2)return;fn(e>=0&&e<this.Xc.length,"Invalid pane index");const r=this.Xc[e],i=this.Xc.reduce(((g,x)=>g+x.E_()),0),a=this.Xc.reduce(((g,x)=>g+x.$t()),0),o=a-30*(this.Xc.length-1);n=Math.min(o,Math.max(30,n));const u=i/a,h=r.$t();r.A_(n*u);let f=n-h,p=this.Xc.length-1;for(const g of this.Xc)if(g!==r){const x=Math.min(o,Math.max(30,g.$t()-f/p));f-=g.$t()-x,p-=1;const v=x*u;g.A_(v)}this.Ca()}Cd(e,n){fn(e>=0&&e<this.Xc.length&&n>=0&&n<this.Xc.length,"Invalid pane index");const r=this.Xc[e],i=this.Xc[n];this.Xc[e]=i,this.Xc[n]=r,this.Ca()}yd(e,n){if(fn(e>=0&&e<this.Xc.length&&n>=0&&n<this.Xc.length,"Invalid pane index"),e===n)return;const[r]=this.Xc.splice(e,1);this.Xc.splice(n,0,r),this.Ca()}j_(e,n,r){e.j_(n,r)}Y_(e,n,r){e.Y_(n,r),this.ka(),this.dd(this.kd(e,2))}K_(e,n){e.K_(n),this.dd(this.kd(e,2))}Z_(e,n,r){n.Vo()||e.Z_(n,r)}G_(e,n,r){n.Vo()||(e.G_(n,r),this.ka(),this.dd(this.kd(e,2)))}X_(e,n){n.Vo()||(e.X_(n),this.dd(this.kd(e,2)))}Q_(e,n){e.Q_(n),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,n){const r=this.Et();if(r.Gi()||n===0)return;const i=r.ss();e=Math.max(1,Math.min(e,i)),r.Rc(e,n),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter((e=>e.It()))),this.Qc}xa(){this.Qc=null}Ad(e,n,r,i,a){this.Ct.Bs(e,n);let o=NaN,u=this.Jh.wc(e,!0);const h=this.Jh.Ie();h!==null&&(u=Math.min(Math.max(h.Aa(),u),h.bi())),u=this.Ct.Hs(u);const f=i.Rs(),p=f.Lt();if(p!==null&&(o=f.Ds(n,p)),o=this.ad.bl(o,u,i),this.Ct.zs(u,o,i),this.Ua(),!a){const g=S_(i,e,n);this.vd(g&&{hu:g.hu,au:g.au,ou:g.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:n},r)}}Ld(e,n,r){const i=r.Rs(),a=i.Lt(),o=i.Nt(e,me(a)),u=this.Jh.ec(n,!0),h=this.Jh.qt(me(u));this.Ad(h,o,null,r,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const n=this.Ct.As(),r=this.Ct.Ls();this.Ad(n,r,null,e)}this.Ct.Ws()}Od(e,n,r){const i=this.Jh.Is(0);n!==void 0&&r!==void 0&&this.Jh.kt(n,r);const a=this.Jh.Is(0),o=this.Jh.vc(),u=this.Jh.Ie();if(u!==null&&i!==null&&a!==null){const h=u.Ee(o),f=this.cu.key(i)>this.cu.key(a),p=e!==null&&e>o&&!f,g=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,x=h&&(r!==void 0||g)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(p&&!x){const v=e-o;this.Jh.Mn(this.Jh.Cc()-v)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if((function(r){return r instanceof GN})(e))return e;const n=this.Xc.find((r=>r.Dt().includes(e)));return n===void 0?null:n}Sc(){this.Xc.forEach((e=>e.iu())),this.ka()}m(){this.Xc.forEach((e=>e.m())),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,n){const r=this.ld(n);this.Wd(e,r),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const n=this.Kn(e),r=this.Jc.indexOf(e);fn(r!==-1,"Series not found");const i=me(n);this.Jc.splice(r,1),i.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(i)}Sa(e,n){const r=me(this.Kn(e));r.n_(e,!0),r.i_(e,n,!0)}Fc(){const e=hn.Cn();e.cn(),this.dd(e)}$d(e){const n=hn.Cn();n.pn(e),this.dd(n)}wn(){const e=hn.Cn();e.wn(),this.dd(e)}gn(e){const n=hn.Cn();n.gn(e),this.dd(n)}Mn(e){const n=hn.Cn();n.Mn(e),this.dd(n)}vn(e){const n=hn.Cn();n.vn(e),this.dd(n)}dn(){const e=hn.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,n){if(fn(n>=0,"Index should be greater or equal to 0"),n===this.Yd(e))return;const r=me(this.Kn(e));r.n_(e);const i=this.ld(n);this.Wd(e,i),r.Sl().length===0&&this.Ud(r),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const n=this.ud,r=this.od;if(n===r)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==r||this.ed.rh!==n)this.ed={eh:r,rh:n,Zd:new Map};else{const a=this.ed.Zd.get(e);if(a!==void 0)return a}const i=this.ko.tt(r,n,e/100);return this.ed.Zd.set(e,i),i}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const n=new GN(this.Jh,this);this.Xc.push(n);const r=e??this.Xc.length-1,i=hn.yn();return i.hn(r,{an:0,ln:!0}),this.dd(i),n}ld(e){return fn(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex((n=>n.F_().includes(e)))}kd(e,n){const r=new hn(n);if(e!==null){const i=this.Xc.indexOf(e);r.hn(i,{an:n})}return r}fd(e,n){return n===void 0&&(n=2),this.kd(this.Kn(e),n)}dd(e){this.rd&&this.rd(e),this.Xc.forEach((n=>n.eu().pr().kt()))}Wd(e,n){const r=e.N().priceScaleId,i=r!==void 0?r:this.qd();n.i_(e,i),cf(i)||e.cr(e.N())}_d(e){const n=this.Ps.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function N_(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const n=Math.round(t);if(Math.abs(n-t)<1e-8)return e;t*=10}return e}function kx(t){return!Ul(t)&&!Qc(t)}function j_(t){return Ul(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(WN||(WN={})),(function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"})(KN||(KN={})),(function(t){t.Solid="solid",t.VerticalGradient="gradient"})(Cx||(Cx={})),(function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"})(XN||(XN={}));const JN=t=>t.getUTCFullYear();function Wq(t,e,n){return e.replace(/yyyy/g,(r=>qi(JN(r),4))(t)).replace(/yy/g,(r=>qi(JN(r)%100,2))(t)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,n)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,n)).replace(/MM/g,(r=>qi((i=>i.getUTCMonth()+1)(r),2))(t)).replace(/dd/g,(r=>qi((i=>i.getUTCDate())(r),2))(t))}class C_{constructor(e="yyyy-MM-dd",n="default"){this.Qd=e,this.tf=n}du(e){return Wq(e,this.Qd,this.tf)}}class Kq{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",qi(e.getUTCHours(),2)).replace("%m",qi(e.getUTCMinutes(),2)).replace("%s",qi(e.getUTCSeconds(),2))}}const Xq={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class Jq{constructor(e={}){const n={...Xq,...e};this.hf=new C_(n.sf,n.rf),this.af=new Kq(n.nf),this.lf=n.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function Td(t){return 60*t*60*1e3}function kg(t){return 60*t*1e3}const zd=[{_f:(ZN=1,1e3*ZN),uf:10},{_f:kg(1),uf:20},{_f:kg(5),uf:21},{_f:kg(30),uf:22},{_f:Td(1),uf:30},{_f:Td(3),uf:31},{_f:Td(6),uf:32},{_f:Td(12),uf:33}];var ZN;function ej(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=zd.length-1;n>=0;--n)if(Math.floor(e.getTime()/zd[n]._f)!==Math.floor(t.getTime()/zd[n]._f))return zd[n].uf;return 0}function Eg(t){let e=t;if(Qc(t)&&(e=ry(t)),!kx(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(n.getTime()/1e3),df:e}}function tj(t){if(!j_(t))throw new Error("time must be of type isUTCTimestamp");return{cf:t}}function ry(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function nj(t){Qc(t.time)&&(t.time=ry(t.time))}class rj{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?(function(n){n.forEach(nj)})(e):nj(e)}createConverterToInternalObj(e){return me((function(n){return n.length===0?null:kx(n[0].time)||Qc(n[0].time)?Eg:tj})(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.df===void 0?new Date(1e3*n.cf).getTime():new Date(Date.UTC(n.df.year,n.df.month-1,n.df.day)).getTime()}convertHorzItemToInternal(e){return j_(n=e)?tj(n):kx(n)?Eg(n):Eg(ry(n));var n}updateFormatter(e){if(!this.Ps)return;const n=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new Jq({sf:n,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new C_(n,e.locale)}formatHorzItem(e){const n=e;return this.ff.du(new Date(1e3*n.cf))}formatTickmark(e,n){const r=(function(a,o,u){switch(a){case 0:case 10:return o?u?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),i=this.Ps.timeScale;if(i.tickMarkFormatter!==void 0){const a=i.tickMarkFormatter(e.originalTime,r,n.locale);if(a!==null)return a}return(function(a,o,u){const h={};switch(o){case 0:h.year="numeric";break;case 1:h.month="short";break;case 2:h.day="numeric";break;case 3:h.hour12=!1,h.hour="2-digit",h.minute="2-digit";break;case 4:h.hour12=!1,h.hour="2-digit",h.minute="2-digit",h.second="2-digit"}const f=a.df===void 0?new Date(1e3*a.cf):new Date(Date.UTC(a.df.year,a.df.month-1,a.df.day));return new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()).toLocaleString(u,h)})(e.time,r,n.locale)}maxTickMarkWeight(e){let n=e.reduce(Gq,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(r,i=0){if(r.length===0)return;let a=i===0?null:r[i-1].time.cf,o=a!==null?new Date(1e3*a):null,u=0;for(let h=i;h<r.length;++h){const f=r[h],p=new Date(1e3*f.time.cf);o!==null&&(f.timeWeight=ej(p,o)),u+=f.time.cf-(a||f.time.cf),a=f.time.cf,o=p}if(i===0&&r.length>1){const h=Math.ceil(u/(r.length-1)),f=new Date(1e3*(r[0].time.cf-h));r[0].timeWeight=ej(new Date(1e3*r[0].time.cf),f)}})(e,n)}static pf(e){return dr({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Vl=typeof window<"u";function ij(){return!!Vl&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function _g(){return!!Vl&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Ex(t){return t+t%2}function Zq(t){Vl&&window.chrome!==void 0&&t.addEventListener("mousedown",(e=>{if(e.button===1)return e.preventDefault(),!1}))}class hf{constructor(e,n,r){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!_g(),this.Uf=i=>{this.$f(i)},this.qf=i=>{if(this.jf(i)){const a=this.Yf(i);if(++this.gf,this.Mf&&this.gf>1){const{Kf:o}=this.Zf(ii(i),this.bf);o<30&&!this.Tf&&this.Gf(a,this.Jf.Xf),this.Qf()}}else{const a=this.Yf(i);if(++this.vf,this.mf&&this.vf>1){const{Kf:o}=this.Zf(ii(i),this.wf);o<5&&!this.Pf&&this.tp(a,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=n,this.Ps=r,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const n=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",n)},this.np.addEventListener("mousemove",n),this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.op),this.Hf=!0}_p(e){const n=Rg(e.changedTouches,me(this.Wf));if(n===null||(this.Ff=Od(e),this.Af!==null)||this.Of)return;this.zf=!0;const r=this.Zf(ii(n),me(this.yf)),{up:i,cp:a,Kf:o}=r;if(this.kf||!(o<5)){if(!this.kf){const u=.5*i,h=a>=u&&!this.Ps.dp(),f=u>a&&!this.Ps.fp();h||f||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const u=this.Yf(e,n);this.Gf(u,this.Jf.pp),Nl(e)}}}vp(e){if(e.button!==0)return;const n=this.Zf(ii(e),me(this.Cf)),{Kf:r}=n;if(r>=5&&(this.Pf=!0,this.sp()),this.Pf){const i=this.Yf(e);this.tp(i,this.Jf.mp)}}Zf(e,n){const r=Math.abs(n._t-e._t),i=Math.abs(n.ut-e.ut);return{up:r,cp:i,Kf:r+i}}wp(e){let n=Rg(e.changedTouches,me(this.Wf));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.Wf=null,this.Ff=Od(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const r=this.Yf(e,n);if(this.Gf(r,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:i}=this.Zf(ii(n),this.bf);i<30&&!this.Tf&&this.Gf(r,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(r,this.Jf.Mp),this.Jf.Mp&&Nl(e));this.gf===0&&Nl(e),e.touches.length===0&&this.xf&&(this.xf=!1,Nl(e))}$f(e){if(e.button!==0)return;const n=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),ij()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(n,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:r}=this.Zf(ii(e),this.wf);r<5&&!this.Pf&&this.tp(n,this.Jf.ip),this.sp()}else this.Pf||this.tp(n,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const n=e.changedTouches[0];this.Wf=n.identifier,this.Ff=Od(e);const r=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=ii(n),this.Ef&&(this.Ef(),this.Ef=null);{const a=this._p.bind(this),o=this.wp.bind(this);this.Ef=()=>{r.removeEventListener("touchmove",a),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",a,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const i=this.Yf(e,n);this.Gf(i,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=ii(n))}kp(e){if(e.button!==0)return;const n=this.np.ownerDocument.documentElement;ij()&&n.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=ii(e),this.Bf&&(this.Bf(),this.Bf=null);{const i=this.vp.bind(this),a=this.$f.bind(this);this.Bf=()=>{n.removeEventListener("mousemove",i),n.removeEventListener("mouseup",a)},n.addEventListener("mousemove",i),n.addEventListener("mouseup",a)}if(this.Nf=!0,this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=ii(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,n=r=>{this.Jf.Tp&&(r.composed&&this.np.contains(r.composedPath()[0])||r.target&&this.np.contains(r.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",n)},this.Rf=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}_g()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),Zq(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",(()=>{}),{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",(e=>this.Ep(e.touches)),{passive:!0}),this.np.addEventListener("touchmove",(e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const n=sj(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,n),Nl(e)}}),{passive:!1}),this.np.addEventListener("touchend",(e=>{this.Ep(e.touches)})))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const n=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,ut:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.Lf=sj(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const n=this.Yf(e);this.tp(n,this.Jf.zp),this.Hf=!_g()}Cp(e){const n=Rg(e.touches,me(this.Wf));if(n===null)return;const r=this.Yf(e,n);this.Gf(r,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Od(e)<this.Ff+500}Gf(e,n){n&&n.call(this.Jf,e)}tp(e,n){n&&n.call(this.Jf,e)}Yf(e,n){const r=n||e,i=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:r.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&Nl(e)}}}}function sj(t,e){const n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)}function Nl(t){t.cancelable&&t.preventDefault()}function ii(t){return{_t:t.pageX,ut:t.pageY}}function Od(t){return t.timeStamp||performance.now()}function Rg(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}class eG{constructor(e,n,r){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[n],this.Gp=e.Zp()[r],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return ct({width:this.Kp.sv().width,height:1})}nv(){return ct({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,n,r){const i=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(n,r,i.width,i.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),n=e.style;n.position="fixed",n.display="none",n.zIndex="49",n.top="0",n.left="0",n.width="100%",n.height="100%",n.cursor="row-resize",this.Jp.appendChild(e);const r=document.createElement("div"),i=r.style;i.position="absolute",i.zIndex="50",i.top="-4px",i.height="9px",i.width="100%",i.backgroundColor="",i.cursor="row-resize",this.Jp.appendChild(r);const a={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new hf(r,a,{dp:()=>!1,fp:()=>!0}),this.Up={hv:r,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const n=this.Kp.cv().E_()+this.Gp.cv().E_(),r=n/(this.Kp.sv().height+this.Gp.sv().height),i=30*r;n<=2*i||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:n-i,vv:n,mv:r,wv:i},this.Up.rv.style.display="block")}_v(e){const n=this.jp;if(n===null)return;const r=(e.pageY-n.dv)*n.mv,i=Al(n.fv+r,n.wv,n.pv);this.Kp.cv().A_(i),this.Gp.cv().A_(n.vv-i),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function Mg(t,e){return t.gv-e.gv}function Ag(t,e,n){const r=(t.gv-e.gv)/(t.wt-e.wt);return Math.sign(r)*Math.min(Math.abs(r),n)}class tG{constructor(e,n,r,i){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=n,this.Rv=r,this.kn=i}Dv(e,n){if(this.Mv!==null){if(this.Mv.wt===n)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:n,gv:e}}fe(e,n){if(this.Mv===null||this.bv===null||n-this.Mv.wt>50)return;let r=0;const i=Ag(this.Mv,this.bv,this.Tv),a=Mg(this.Mv,this.bv),o=[i],u=[a];if(r+=a,this.Sv!==null){const f=Ag(this.bv,this.Sv,this.Tv);if(Math.sign(f)===Math.sign(i)){const p=Mg(this.bv,this.Sv);if(o.push(f),u.push(p),r+=p,this.xv!==null){const g=Ag(this.Sv,this.xv,this.Tv);if(Math.sign(g)===Math.sign(i)){const x=Mg(this.Sv,this.xv);o.push(g),u.push(x),r+=x}}}}let h=0;for(let f=0;f<o.length;++f)h+=u[f]/r*o[f];Math.abs(h)<this.Pv||(this.Cv={gv:e,wt:n},this.kv=h,this.yv=(function(f,p){const g=Math.log(p);return Math.log(1*g/-f)/g})(Math.abs(h),this.Rv))}Ac(e){const n=me(this.Cv),r=e-n.wt;return n.gv+this.kv*(Math.pow(this.Rv,r)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const n=e-me(this.Cv).wt;return Math.min(n,this.yv)}}class nG{constructor(e,n){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=n,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function Ca(t,e){const n=me(t.ownerDocument).createElement("canvas");t.appendChild(n);const r=I7(n,{options:{allowResizeObserver:!0},transform:(i,a)=>({width:Math.max(i.width,a.width),height:Math.max(i.height,a.height)})});return r.resizeCanvasElement(e),r}function ka(t){t.width=1,t.height=1,t.getContext("2d")?.clearRect(0,0,1,1)}function _x(t,e,n,r){t.Uh&&t.Uh(e,n,r)}function Xd(t,e,n,r){t.nt(e,n,r)}function Rx(t,e,n,r){const i=t(n,r);for(const a of i){const o=a.Tt(r);o!==null&&e(o)}}function Tg(t,e){return n=>(function(r){return r.Ft!==void 0})(n)?(n.Ft()?.ol()??"")!==e?[]:n.Ya?.(t)??[]:[]}function aj(t,e,n,r){if(!t.length)return;let i=0;const a=t[0].$t(r,!0);let o=e===1?n/2-(t[0].Hi()-a/2):t[0].Hi()-a/2-n/2;o=Math.max(0,o);for(let u=1;u<t.length;u++){const h=t[u],f=t[u-1],p=f.$t(r,!1),g=h.Hi(),x=f.Hi();if(e===1?g>x-p:g<x+p){const v=x-p*e;h.Ui(v);const w=v-e*p/2;if((e===1?w<0:w>n)&&o>0){const S=e===1?-1-w:w-n,C=Math.min(S,o);for(let j=i;j<t.length;j++)t[j].Ui(t[j].Hi()+e*C);o-=C}}else i=u,o=e===1?x-p-g:g-(x+p)}}class lj{constructor(e,n,r,i){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new Sh(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=n,this.Co=n.layout,this.hd=r,this.Jv=i==="left",this.Qv=Tg("normal",i),this.tm=Tg("top",i),this.im=Tg("bottom",i),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=Ca(this.Jp,ct({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const a=this.sm.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.nm=Ca(this.Jp,ct({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const o=this.nm.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const u={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new hf(this.nm.canvasElement,u,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),ka(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),ka(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const n=this.lm(),r=me(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));r.save();const i=this.Ki.Vl();r.font=this._m(),i.length>0&&(e=Math.max(this.qv.Ii(r,i[0].Jl),this.qv.Ii(r,i[i.length-1].Jl)));const a=this.um();for(let f=a.length;f--;){const p=this.qv.Ii(r,a[f].ri());p>e&&(e=p)}const o=this.Ki.Lt();if(o!==null&&this.Uv!==null&&(u=this.Ps.crosshair).mode!==2&&u.horzLine.visible&&u.horzLine.labelVisible){const f=this.Ki.Ds(1,o),p=this.Ki.Ds(this.Uv.height-2,o);e=Math.max(e,this.qv.Ii(r,this.Ki.Ji(Math.floor(Math.min(f,p))+.11111111111111,o)),this.qv.Ii(r,this.Ki.Ji(Math.ceil(Math.max(f,p))-.11111111111111,o)))}var u;r.restore();const h=e||34;return Ex(Math.ceil(n.S+n.C+n.V+n.B+5+h))}dm(e){this.Uv!==null&&ga(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return me(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,me(this.Ft()))}pm(e){if(this.Uv===null)return;const n={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const i=ja(this.sm,n);i!==null&&(i.useBitmapCoordinateSpace((a=>{this.wm(a),this.gm(a)})),this.yt.Mm(i,this.im),this.bm(i),this.yt.Mm(i,this.Qv),this.Sm(i))}this.nm.applySuggestedBitmapSize();const r=ja(this.nm,n);r!==null&&(r.useBitmapCoordinateSpace((({context:i,bitmapSize:a})=>{i.clearRect(0,0,a.width,a.height)})),this.xm(r),this.yt.Mm(r,this.tm))}nv(){return this.sm.bitmapSize}ev(e,n,r,i){const a=this.nv();if(a.width>0&&a.height>0&&(e.drawImage(this.sm.canvasElement,n,r),i)){const o=this.nm.canvasElement;e.drawImage(o,n,r)}}kt(){this.Ki?.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const n=this.yt.Gv().Qt(),r=this.yt.cv();this.$v=!0,n.j_(r,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const n=this.yt.Gv().Qt(),r=this.yt.cv(),i=this.Ki;n.Y_(r,i,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),n=this.yt.cv(),r=this.Ki;this.$v&&(this.$v=!1,e.K_(n,r))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const n=this.yt.Gv().Qt(),r=this.yt.cv();this.$v=!1,n.K_(r,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],n=this.Ki===null?void 0:this.Ki;return(r=>{for(let i=0;i<r.length;++i){const a=r[i].Ks(this.yt.cv(),n);for(let o=0;o<a.length;o++)e.push(a[o])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:n}){const{width:r,height:i}=n,a=this.yt.cv().Qt(),o=a.$(),u=a.Kd();o===u?lf(e,0,0,r,i,o):d_(e,0,0,r,i,o,u)}gm({context:e,bitmapSize:n,horizontalPixelRatio:r}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const i=Math.max(1,Math.floor(this.lm().S*r));let a;a=this.Jv?n.width-i:0,e.fillRect(a,0,i,n.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const n=this.Ki.Vl(),r=this.Ki.N(),i=this.lm(),a=this.Jv?this.Uv.width-i.C:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace((({context:o,horizontalPixelRatio:u,verticalPixelRatio:h})=>{o.fillStyle=r.borderColor;const f=Math.max(1,Math.floor(h)),p=Math.floor(.5*h),g=Math.round(i.C*u);o.beginPath();for(const x of n)o.rect(Math.floor(a*u),Math.round(x.Pl*h)-p,g,f);o.fill()})),e.useMediaCoordinateSpace((({context:o})=>{o.font=this._m(),o.fillStyle=r.textColor??this.Co.textColor,o.textAlign=this.Jv?"right":"left",o.textBaseline="middle";const u=this.Jv?Math.round(a-i.V):Math.round(a+i.C+i.V),h=n.map((f=>this.qv.Di(o,f.Jl)));for(let f=n.length;f--;){const p=n[f];o.fillText(p.Jl,u,p.Pl+h[f])}}))}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const n=[],r=this.Ki.Dt().slice(),i=this.yt.cv(),a=this.lm();this.Ki===i.Gn()&&this.yt.cv().Dt().forEach((h=>{i.Zn(h)&&r.push(h)}));const o=this.Ki.Sl()[0],u=this.Ki;r.forEach((h=>{const f=h.Ks(i,u);f.forEach((p=>{p.$i()&&p.Wi()===null&&(p.Ui(null),n.push(p))})),o===h&&f.length>0&&(e=f[0].Ei())})),this.Ki.N().alignLabels&&this.ym(n,a,e)}ym(e,n,r){if(this.Uv===null)return;const i=e.filter((o=>o.Ei()<=r)),a=e.filter((o=>o.Ei()>r));i.sort(((o,u)=>u.Ei()-o.Ei())),i.length&&a.length&&a.push(i[0]),a.sort(((o,u)=>o.Ei()-u.Ei()));for(const o of e){const u=Math.floor(o.$t(n)/2),h=o.Ei();h>-u&&h<u&&o.Ui(u),h>this.Uv.height-u&&h<this.Uv.height+u&&o.Ui(this.Uv.height-u)}aj(i,1,this.Uv.height,n),aj(a,-1,this.Uv.height,n)}Sm(e){if(this.Uv===null)return;const n=this.um(),r=this.lm(),i=this.Jv?"right":"left";n.forEach((a=>{a.qi()&&a.Tt(me(this.Ki)).nt(e,r,this.qv,i)}))}xm(e){if(this.Uv===null||this.Ki===null)return;const n=this.yt.Gv().Qt(),r=[],i=this.yt.cv(),a=n.gd().Ks(i,this.Ki);a.length&&r.push(a);const o=this.lm(),u=this.Jv?"right":"left";r.forEach((h=>{h.forEach((f=>{f.Tt(me(this.Ki)).nt(e,o,this.qv,u)}))}))}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return wh(this.Co.fontSize,this.Co.fontFamily)}}function rG(t,e){return t.qa?.(e)??[]}function oj(t,e){return t.Ys?.(e)??[]}function cj(t,e){return t.ds?.(e)??[]}function iG(t,e){return t.Ha?.(e)??[]}class iy{constructor(e,n){this.Uv=ct({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new Dt,this.Vm=new Dt,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=n,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(r),this.sm=Ca(r,ct({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const i=this.sm.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.nm=Ca(r,ct({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const a=this.nm.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new hf(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),ka(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),ka(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return me(this.Nm)}qm(e){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(iy.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new nG(this.Wm,this.Lv),this.Tm.kt()):(this.Tm?.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(me(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(me(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const n=e.localX,r=e.localY;this.Zm(n,r,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const n=e.localX,r=e.localY;this.Zm(n,r,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const n={x:e.localX,y:e.localY};this.iw(n,n,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,n){if(!this.Lv.N().handleScale.pinch)return;const r=5*(n-this.Bm);this.Bm=n,this.ns().Td(e._t,r)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const n=this.ns().gd();this.Am!==null&&n.It()&&(this.zm={x:n.si(),y:n.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const n=e.localX,r=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const i=me(this.zm),a=i.x+(n-this.Am.x),o=i.y+(r-this.Am.y);this.Zm(a,o,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,n){const r=this.Nm;return r===null?null:S_(r,e,n)}hw(e,n){me(n==="left"?this.km:this.Pm).dm(ct({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){ga(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=me(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const n of e.Sl())if(e.Zn(n)){const r=n.Ft();r!==null&&e.H_(r),n.Ws()}for(const n of e.ru())n.Ws()}nv(){return this.sm.bitmapSize}ev(e,n,r,i){const a=this.nv();if(a.width>0&&a.height>0&&(e.drawImage(this.sm.canvasElement,n,r),i)){const o=this.nm.canvasElement;e!==null&&e.drawImage(o,n,r)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const n={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=ja(this.sm,n);i!==null&&(i.useBitmapCoordinateSpace((a=>{this.wm(a)})),this.Nm&&(this.lw(i,rG),this.ow(i),this.lw(i,oj),this.lw(i,cj)))}this.nm.applySuggestedBitmapSize();const r=ja(this.nm,n);r!==null&&(r.useBitmapCoordinateSpace((({context:i,bitmapSize:a})=>{i.clearRect(0,0,a.width,a.height)})),this._w(r),this.lw(r,iG),this.lw(r,cj))}uw(){return this.km}cw(){return this.Pm}Mm(e,n){this.lw(e,n)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,n){const r=n.localX,i=n.localY;e.v()&&e.p(this.ns().Et().wc(r),{x:r,y:i},n)}wm({context:e,bitmapSize:n}){const{width:r,height:i}=n,a=this.ns(),o=a.$(),u=a.Kd();o===u?lf(e,0,0,r,i,u):d_(e,0,0,r,i,o,u)}ow(e){const n=me(this.Nm),r=n.eu().pr().Tt(n);r!==null&&r.nt(e,!1)}_w(e){this.dw(e,oj,Xd,this.ns().gd())}lw(e,n){const r=me(this.Nm),i=r.Dt(),a=r.ru();for(const o of a)this.dw(e,n,_x,o);for(const o of i)this.dw(e,n,_x,o);for(const o of a)this.dw(e,n,Xd,o);for(const o of i)this.dw(e,n,Xd,o)}dw(e,n,r,i){const a=me(this.Nm),o=a.Qt().pd(),u=o!==null&&o.hu===i,h=o!==null&&u&&o.au!==void 0?o.au.ie:void 0;Rx(n,(f=>r(f,e,u,h)),i,a)}jm(){if(this.Nm===null)return;const e=this.Lv,n=this.Nm.U_().N().visible,r=this.Nm.q_().N().visible;n||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),r||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const i=e.Qt().Nd();n&&this.km===null&&(this.km=new lj(this,e.N(),i,"left"),this.Hm.appendChild(this.km.iv())),r&&this.Pm===null&&(this.Pm=new lj(this,e.N(),i,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,n,r){e=Math.max(0,Math.min(e,this.Uv.width-1)),n=Math.max(0,Math.min(n,this.Uv.height-1)),this.ns().Ad(e,n,r,me(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,n,r){this.Am=e,this.Lm=!1,this.Zm(n.x,n.y,r);const i=this.ns().gd();this.zm={x:i.si(),y:i.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const n=this.ns(),r=this.cv();if(n.X_(r,r.Rs()),this.Rm=null,this.Dm=!1,n.Vd(),this.Om!==null){const i=performance.now(),a=n.Et();this.Om.fe(a.Cc(),i),this.Om.Ec(i)||n.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)me(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const n=this.ns(),r=n.Et();if(r.Gi())return;const i=this.Lv.N(),a=i.handleScroll,o=i.kineticScroll;if((!a.pressedMouseMove||e.Np)&&(!a.horzTouchDrag&&!a.vertTouchDrag||!e.Np))return;const u=this.Nm.Rs(),h=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:h,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&o.touch||!e.Np&&o.mouse){const f=r.ul();this.Om=new tG(.2/f,7/f,.997,15/f),this.Om.Dv(r.Cc(),this.Rm.cf)}else this.Om=null;u.Gi()||n.Z_(this.Nm,u,e.localY),n.Dd(e.localX),this.Dm=!0}this.Dm&&(u.Gi()||n.G_(this.Nm,u,e.localY),n.Id(e.localX),this.Om!==null&&this.Om.Dv(r.Cc(),h))}}class uj{constructor(e,n,r,i,a){this.xt=!0,this.Uv=ct({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=r.Nd,this.Ps=n,this.ww=i,this.gw=a,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=Ca(this.Jp,ct({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),ka(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){ga(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const n=ja(this.sm,{colorSpace:this.Ps.layout.colorSpace});n!==null&&n.useBitmapCoordinateSpace((r=>{this.wm(r),this.gm(r)}))}nv(){return this.sm.bitmapSize}ev(e,n,r){const i=this.nv();i.width>0&&i.height>0&&e.drawImage(this.sm.canvasElement,n,r)}gm({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const a=Math.floor(this.hd.N().S*r),o=Math.floor(this.hd.N().S*i),u=this.Jv?n.width-a:0;e.fillRect(u,0,a,o)}wm({context:e,bitmapSize:n}){lf(e,0,0,n.width,n.height,this.gw())}}function sy(t){return e=>e.Ka?.(t)??[]}const sG=sy("normal"),aG=sy("top"),lG=sy("bottom");class oG{constructor(e,n){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=ct({width:0,height:0}),this.xw=new Dt,this.qv=new Sh(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=n,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=Ca(this.kw,ct({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=Ca(this.kw,ct({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const i=this.nm.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new hf(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),ka(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),ka(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const n=this.Lv.Qt();!n.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&n.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const n=this.Lv.Qt();!n.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&n.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,n,r){ga(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(ct({width:n,height:e.height})),this.bw!==null&&this.bw.dm(ct({width:r,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,n,r,i){const a=this.nv();if(a.width>0&&a.height>0&&(e.drawImage(this.sm.canvasElement,n,r),i)){const o=this.nm.canvasElement;e.drawImage(o,n,r)}}pm(e){if(e===0)return;const n={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=ja(this.sm,n);i!==null&&(i.useBitmapCoordinateSpace((a=>{this.wm(a),this.gm(a),this.Aw(i,lG)})),this.bm(i),this.Aw(i,sG)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const r=ja(this.nm,n);r!==null&&(r.useBitmapCoordinateSpace((({context:i,bitmapSize:a})=>{i.clearRect(0,0,a.width,a.height)})),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],r),this.Aw(r,aG))}Aw(e,n){const r=this.Lv.Qt().tn();for(const i of r)Rx(n,(a=>_x(a,e,!1,void 0)),i,void 0);for(const i of r)Rx(n,(a=>Xd(a,e,!1,void 0)),i,void 0)}wm({context:e,bitmapSize:n}){lf(e,0,0,n.width,n.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:n,verticalPixelRatio:r}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const i=Math.max(1,Math.floor(this.Bw().S*r));e.fillRect(0,0,n.width,i)}}bm(e){const n=this.Lv.Qt().Et(),r=n.Vl();if(!r||r.length===0)return;const i=this.cu.maxTickMarkWeight(r),a=this.Bw(),o=n.N();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace((({context:u,horizontalPixelRatio:h,verticalPixelRatio:f})=>{u.strokeStyle=this.zw(),u.fillStyle=this.zw();const p=Math.max(1,Math.floor(h)),g=Math.floor(.5*h);u.beginPath();const x=Math.round(a.C*f);for(let v=r.length;v--;){const w=Math.round(r[v].coord*h);u.rect(w-g,0,p,x)}u.fill()})),e.useMediaCoordinateSpace((({context:u})=>{const h=a.S+a.C+a.A+a.k/2;u.textAlign="center",u.textBaseline="middle",u.fillStyle=this.H(),u.font=this._m();for(const f of r)if(f.weight<i){const p=f.needAlignCoordinate?this.Ow(u,f.coord,f.label):f.coord;u.fillText(f.label,p,h)}this.Lv.N().timeScale.allowBoldLabels&&(u.font=this.Nw());for(const f of r)if(f.weight>=i){const p=f.needAlignCoordinate?this.Ow(u,f.coord,f.label):f.coord;u.fillText(f.label,p,h)}}))}Ow(e,n,r){const i=this.qv.Ii(e,r),a=i/2,o=Math.floor(n-a)+.5;return o<0?n+=Math.abs(0-o):o+i>this.Uv.width&&(n-=Math.abs(this.Uv.width-(o+i))),n}Lw(e,n){const r=this.Bw();for(const i of e)for(const a of i.fs())a.Tt().nt(n,r)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return wh(this.F(),this.Ps.fontFamily)}Nw(){return wh(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new Sh,Ew:0});const e=this.M,n=this._m();if(e.P!==n){const r=this.F();e.k=r,e.P=n,e.A=3*r/12,e.I=3*r/12,e.ts=9*r/12,e.L=0,e.Ew=4*r/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),n=e.N();n.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),n.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const r={Nd:this.Lv.Qt().Nd()},i=()=>n.leftPriceScale.borderVisible&&e.Et().N().borderVisible,a=()=>e.Kd();n.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new uj("left",n,r,i,a),this.Cw.appendChild(this.Mw.iv())),n.rightPriceScale.visible&&this.bw===null&&(this.bw=new uj("right",n,r,i,a),this.yw.appendChild(this.bw.iv()))}}const cG=!!Vl&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((t=>t.brand.includes("Chromium")))&&!!Vl&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class uG{constructor(e,n,r){var i;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new Dt,this.Vm=new Dt,this.nd=new Dt,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=n,this.cu=r,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(i=this.Vv).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),zg(this.Ps)&&this.Jw(!0),this.ns=new Qq(this.rd.bind(this),this.Ps,r),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new oG(this,this.cu),this.Zw.appendChild(this.tg.iv());const a=n.autoSize&&this.ig();let o=this.Ps.width,u=this.Ps.height;if(a||o===0||u===0){const h=e.getBoundingClientRect();o=o||h.width,u=u||h.height}this.sg(o,u),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],me(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,n,r=!1){if(this.eo===n&&this.S_===e)return;const i=(function(u){const h=Math.floor(u.width),f=Math.floor(u.height);return ct({width:h-h%2,height:f-f%2})})(ct({width:e,height:n}));this.eo=i.height,this.S_=i.width;const a=this.eo+"px",o=this.S_+"px";me(this.Vv).style.height=a,me(this.Vv).style.width=o,this.Zw.style.height=a,this.Zw.style.width=o,r?this.lg(hn.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=hn.yn());for(let n=0;n<this.Fw.length;n++)this.Fw[n].pm(e.un(n).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){const n=zg(this.Ps);this.ns.cr(e);const r=zg(this.Ps);r!==n&&this.Jw(r),e.layout?.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const n=this.cg(null),r=document.createElement("canvas");r.width=n.width,r.height=n.height;const i=me(r.getContext("2d"));return this.cg(i,e),r}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:me(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return Wn(this.Fw[e]).sv()}og(){this.Ww.forEach((e=>{e.kt()}))}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,n){let r=0,i=0;const a=this.Fw[0],o=(h,f)=>{let p=0;for(let g=0;g<this.Fw.length;g++){const x=this.Fw[g],v=me(h==="left"?x.uw():x.cw()),w=v.nv();if(e!==null&&v.ev(e,f,p,n),p+=w.height,g<this.Fw.length-1){const S=this.Ww[g],C=S.nv();e!==null&&S.ev(e,f,p),p+=C.height}}};this.fg()&&(o("left",0),r+=me(a.uw()).nv().width);for(let h=0;h<this.Fw.length;h++){const f=this.Fw[h],p=f.nv();if(e!==null&&f.ev(e,r,i,n),i+=p.height,h<this.Fw.length-1){const g=this.Ww[h],x=g.nv();e!==null&&g.ev(e,r,i),i+=x.height}}r+=a.nv().width,this.pg()&&(o("right",r),r+=me(a.cw()).nv().width);const u=(h,f,p)=>{me(h==="left"?this.tg.Tw():this.tg.Rw()).ev(me(e),f,p)};if(this.Ps.timeScale.visible){const h=this.tg.nv();if(e!==null){let f=0;this.fg()&&(u("left",f,i),f=me(a.uw()).nv().width),this.tg.ev(e,f,i,n),f+=h.width,this.pg()&&u("right",f,i)}i+=h.height}return ct({width:r,height:i})}Mg(){let e=0,n=0,r=0;for(const C of this.Fw)this.fg()&&(n=Math.max(n,me(C.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(r=Math.max(r,me(C.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=C.E_();n=Ex(n),r=Ex(r);const i=this.S_,a=this.eo,o=Math.max(i-n-r,0),u=1*this.Ww.length,h=this.Ps.timeScale.visible;let f=h?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var p;f=(p=f)+p%2;const g=u+f,x=a<g?0:a-g,v=x/e;let w=0;const S=window.devicePixelRatio||1;for(let C=0;C<this.Fw.length;++C){const j=this.Fw[C];j.qm(this.ns.Xs()[C]);let E=0,_=0;_=C===this.Fw.length-1?Math.ceil((x-w)*S)/S:Math.round(j.E_()*v*S)/S,E=Math.max(_,2),w+=E,j.dm(ct({width:o,height:E})),this.fg()&&j.hw(n,"left"),this.pg()&&j.hw(r,"right"),j.cv()&&this.ns.bd(j.cv(),E)}this.tg.Iw(ct({width:h?o:0,height:f}),h?n:0,h?r:0),this.ns.L_(o),this.Uw!==n&&(this.Uw=n),this.$w!==r&&(this.$w=r)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return cG?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const n=this.bg(e),r=n*e.deltaX/100,i=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.Ps.handleScale.mouseWheel){const a=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(o,a)}r!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*r)}lg(e,n){const r=e._n();r===3&&this.Sg(),r!==3&&r!==2||(this.xg(e),this.Cg(e,n),this.tg.kt(),this.Fw.forEach((i=>{i.Ym()})),this.qw?._n()===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,n),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,n){for(const r of e.bn())this.xn(r,n)}xg(e){const n=this.ns.Xs();for(let r=0;r<n.length;r++)e.un(r).ln&&n[r].tu()}xn(e,n){const r=this.ns.Et();switch(e.fn){case 0:r.Fc();break;case 1:r.Wc(e.Wt);break;case 2:r.gn(e.Wt);break;case 3:r.Mn(e.Wt);break;case 4:r.Pc();break;case 5:e.Wt.Ec(n)||r.Mn(e.Wt.Ac(n))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame((n=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const r=this.qw;this.qw=null,this.lg(r,n);for(const i of r.bn())if(i.fn===5&&!i.Wt.Ec(n)){this.Qt().vn(i.Wt);break}}})))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),n=e.length,r=this.Fw.length;for(let i=n;i<r;i++){const a=Wn(this.Fw.pop());this.Zw.removeChild(a.iv()),a.nw().u(this),a.ew().u(this),a.m();const o=this.Ww.pop();o!==void 0&&this.hg(o)}for(let i=r;i<n;i++){const a=new iy(this,e[i]);if(a.nw().i(this.yg.bind(this,a),this),a.ew().i(this.kg.bind(this,a),this),this.Fw.push(a),i>0){const o=new eG(this,i-1,i);this.Ww.push(o),this.Zw.insertBefore(o.iv(),this.tg.iv())}this.Zw.insertBefore(a.iv(),this.tg.iv())}for(let i=0;i<n;i++){const a=e[i],o=this.Fw[i];o.cv()!==a?o.qm(a):o.$m()}this.eg(),this.Mg()}Pg(e,n,r,i){const a=new Map;e!==null&&this.ns.tn().forEach((g=>{const x=g.qs().$s(e);x!==null&&a.set(g,x)}));let o;if(e!==null){const g=this.ns.Et().es(e)?.originalTime;g!==void 0&&(o=g)}const u=this.Qt().pd(),h=u!==null&&u.hu instanceof df?u.hu:void 0,f=u!==null&&u.au!==void 0?u.au.te:void 0,p=this.Tg(i);return{Gr:o,js:e??void 0,Rg:n??void 0,Dg:p!==-1?p:void 0,Ig:h,Vg:a,Bg:f,Eg:r??void 0}}Tg(e){let n=-1;if(e)n=this.Fw.indexOf(e);else{const r=this.Qt().gd().Gs();r!==null&&(n=this.Qt().Xs().indexOf(r))}return n}yg(e,n,r,i){this.Im.p((()=>this.Pg(n,r,i,e)))}kg(e,n,r,i){this.Vm.p((()=>this.Pg(n,r,i,e)))}Qw(e,n,r){this.mg(this.Qt().pd()?.ou??null),this.nd.p((()=>this.Pg(e,n,r)))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver((e=>{const n=e[e.length-1];n&&this.sg(n.contentRect.width,n.contentRect.height)})),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function zg(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function dG(t){return t.open===void 0&&t.value===void 0}function hG(t){return(function(e){return e.open!==void 0})(t)||(function(e){return e.value!==void 0})(t)}function dj(t,e,n,r){const i=n.value,a={js:e,wt:t,Wt:[i,i,i,i],Gr:r};return n.color!==void 0&&(a.R=n.color),a}function fG(t,e,n,r){const i=n.value,a={js:e,wt:t,Wt:[i,i,i,i],Gr:r};return n.lineColor!==void 0&&(a.vt=n.lineColor),n.topColor!==void 0&&(a.eh=n.topColor),n.bottomColor!==void 0&&(a.rh=n.bottomColor),a}function mG(t,e,n,r){const i=n.value,a={js:e,wt:t,Wt:[i,i,i,i],Gr:r};return n.topLineColor!==void 0&&(a.hh=n.topLineColor),n.bottomLineColor!==void 0&&(a.ah=n.bottomLineColor),n.topFillColor1!==void 0&&(a.oh=n.topFillColor1),n.topFillColor2!==void 0&&(a._h=n.topFillColor2),n.bottomFillColor1!==void 0&&(a.uh=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(a.dh=n.bottomFillColor2),a}function pG(t,e,n,r){const i={js:e,wt:t,Wt:[n.open,n.high,n.low,n.close],Gr:r};return n.color!==void 0&&(i.R=n.color),i}function gG(t,e,n,r){const i={js:e,wt:t,Wt:[n.open,n.high,n.low,n.close],Gr:r};return n.color!==void 0&&(i.R=n.color),n.borderColor!==void 0&&(i.Ht=n.borderColor),n.wickColor!==void 0&&(i.nh=n.wickColor),i}function xG(t,e,n,r,i){const a=Wn(i)(n),o=Math.max(...a),u=Math.min(...a),h=a[a.length-1],f=[h,o,u,h],{time:p,color:g,...x}=n;return{js:e,wt:t,Wt:f,Gr:r,le:x,R:g}}function jl(t){return t.Wt!==void 0}function hj(t,e){return e.customValues!==void 0&&(t.Ag=e.customValues),t}function oa(t){return(e,n,r,i,a,o)=>(function(u,h){return h?h(u):dG(u)})(r,o)?hj({wt:e,js:n,Gr:i},r):hj(t(e,n,r,i,a),r)}function fj(t){return{Candlestick:oa(gG),Bar:oa(pG),Area:oa(fG),Baseline:oa(mG),Histogram:oa(dj),Line:oa(dj),Custom:oa(xG)}[t]}function mj(t){return{js:0,Lg:new Map,Ea:t}}function pj(t,e){if(t!==void 0&&t.length!==0)return{zg:e.key(t[0].wt),Og:e.key(t[t.length-1].wt)}}function gj(t){let e;return t.forEach((n=>{e===void 0&&(e=n.Gr)})),Wn(e)}class yG{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,n){let r=this.Ng.size!==0,i=!1;const a=this.Fg.get(e);if(a!==void 0)if(this.Fg.size===1)r=!1,i=!0,this.Ng.clear();else for(const h of this.Hg)h.pointData.Lg.delete(e)&&(i=!0);let o=[];if(n.length!==0){const h=n.map((v=>v.time)),f=this.cu.createConverterToInternalObj(n),p=fj(e.wh()),g=e.rl(),x=e.hl();o=n.map(((v,w)=>{const S=f(v.time),C=this.cu.key(S);let j=this.Ng.get(C);j===void 0&&(j=mj(S),this.Ng.set(C,j),i=!0);const E=p(S,j.js,v,h[w],g,x);return j.Lg.set(e,E),E}))}r&&this.$g(),this.qg(e,o);let u=-1;if(i){const h=[];this.Ng.forEach((f=>{h.push({timeWeight:0,time:f.Ea,pointData:f,originalTime:gj(f.Lg)})})),h.sort(((f,p)=>this.cu.key(f.time)-this.cu.key(p.time))),u=this.jg(h)}return this.Yg(e,u,(function(h,f,p){const g=pj(h,p),x=pj(f,p);if(g!==void 0&&x!==void 0)return{Kg:!1,Ta:g.Og>=x.Og&&g.zg>=x.zg}})(this.Fg.get(e),a,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,n,r){if(r&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const i=n;(function(j){j.Gr===void 0&&(j.Gr=j.time)})(i),this.cu.preprocessData(n);const a=this.cu.createConverterToInternalObj([n])(n.time),o=this.Wg.get(e);if(!r&&o!==void 0&&this.cu.key(a)<this.cu.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${a}`);let u=this.Ng.get(this.cu.key(a));if(r&&u===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const h=u===void 0;u===void 0&&(u=mj(a),this.Ng.set(this.cu.key(a),u));const f=fj(e.wh()),p=e.rl(),g=e.hl(),x=f(a,u.js,n,i.Gr,p,g),v=!r&&!h&&o!==void 0&&this.cu.key(a)===this.cu.key(o);u.Lg.set(e,x),r?this.Gg(e,x,u.js):v&&e.La()&&jl(x)?(e.kr(x),this.Xg(e,x)):this.Xg(e,x);const w={Ta:jl(x),Kg:r};if(!h)return this.Yg(e,-1,w);const S={timeWeight:0,time:u.Ea,pointData:u,originalTime:gj(u.Lg)},C=Hl(this.Hg,this.cu.key(S.time),((j,E)=>this.cu.key(j.time)<E));this.Hg.splice(C,0,S);for(let j=C;j<this.Hg.length;++j)Dd(this.Hg[j].pointData,j);return this.cu.fillWeightsForPoints(this.Hg,C),this.Yg(e,C,w)}Jg(e,n){const r=this.Fg.get(e);if(r===void 0||n<=0)return[[],this.Qg()];n=Math.min(n,r.length);const i=r.splice(-n).reverse();r.length===0?this.Wg.delete(e):this.Wg.set(e,r[r.length-1].wt);for(const a of i){const o=this.Ng.get(this.cu.key(a.wt));if(o&&(o.Lg.delete(e),o.Lg.size===0)){this.Ng.delete(this.cu.key(o.Ea)),this.Hg.splice(o.js,1);for(let u=o.js;u<this.Hg.length;++u)Dd(this.Hg[u].pointData,u)}}return[i,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,n){let r=this.Fg.get(e);r===void 0&&(r=[],this.Fg.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.cu.key(n.wt)>this.cu.key(i.wt)?jl(n)&&r.push(n):jl(n)?r[r.length-1]=n:r.splice(-1,1),this.Wg.set(e,n.wt)}Gg(e,n,r){const i=this.Fg.get(e);if(i===void 0)return;const a=Hl(i,r,((o,u)=>o.js<u));jl(n)?i[a]=n:i.splice(a,1)}qg(e,n){n.length!==0?(this.Fg.set(e,n.filter(jl)),this.Wg.set(e,n[n.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let n=-1;for(let r=0;r<this.Hg.length&&r<e.length;++r){const i=this.Hg[r],a=e[r];if(this.cu.key(i.time)!==this.cu.key(a.time)){n=r;break}a.timeWeight=i.timeWeight,Dd(a.pointData,r)}if(n===-1&&this.Hg.length!==e.length&&(n=Math.min(this.Hg.length,e.length)),n===-1)return-1;for(let r=n;r<e.length;++r)Dd(e[r].pointData,r);return this.cu.fillWeightsForPoints(e,n),this.Hg=e,n}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach((n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].js))})),e}Yg(e,n,r){const i=this.Qg();if(n!==-1)this.Fg.forEach(((a,o)=>{i.F_.set(o,{le:a,iM:o===e?r:void 0})})),this.Fg.has(e)||i.F_.set(e,{le:[],iM:r}),i.Et.sM=this.Hg,i.Et.nM=n;else{const a=this.Fg.get(e);i.F_.set(e,{le:a||[],iM:r})}return i}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function Dd(t,e){t.js=e,t.Lg.forEach((n=>{n.js=e}))}function vG(t,e){return t.wt<e}function bG(t,e){return e<t.wt}function wG(t,e,n){const r=e.Aa(),i=e.bi(),a=Hl(t,r,vG),o=y_(t,i,bG);if(!n)return{from:a,to:o};let u=a,h=o;return a>0&&a<t.length&&t[a].wt>=r&&(u=a-1),o>0&&o<t.length&&t[o-1].wt<=i&&(h=o+1),{from:u,to:h}}class ay{constructor(e,n,r){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=n,this._M=r}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map((e=>({...e,...this.ee.ga().gh(e.wt)})))}fM(){this.lM=null}uM(){const e=this.re.Et(),n=e.N().enableConflation?e.Hc():0;n!==this.oM&&(this.rM=!0,this.oM=n),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),n=this.re.Et();if(this.fM(),n.Gi()||e.Gi())return;const r=n.Ie();if(r===null||this.ee.qs().yh()===0)return;const i=this.ee.Lt();i!==null&&(this.lM=wG(this.aM,r,this._M),this.mM(e,n,i.Wt),this.wM())}}class SG{constructor(e,n){this.gM=e,this.Ki=n}nt(e,n,r){this.gM.draw(e,this.Ki,n,r)}}class NG extends ay{constructor(e,n,r){super(e,n,!1),this.$h=r,this.cM=new SG(this.$h.renderer(),(i=>{const a=e.Lt();return a===null?null:e.Ft().Nt(i,a.Wt)}))}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((n=>({wt:n.js,_t:NaN,...e.gh(n.js),MM:n.le})))}mM(e,n){n.mc(this.aM,Tc(this.lM))}wM(){this.$h.update({bars:this.aM.map(jG),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function jG(t){return{x:t._t,time:t.wt,originalData:t.MM,barColor:t.th}}const CG={color:"#2196f3"},kG=(t,e,n)=>{const r=As(n);return new NG(t,e,r)};function ly(t){const e={value:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function xj(t){const e=ly(t);return t.R!==void 0&&(e.color=t.R),e}function EG(t){const e=ly(t);return t.vt!==void 0&&(e.lineColor=t.vt),t.eh!==void 0&&(e.topColor=t.eh),t.rh!==void 0&&(e.bottomColor=t.rh),e}function _G(t){const e=ly(t);return t.hh!==void 0&&(e.topLineColor=t.hh),t.ah!==void 0&&(e.bottomLineColor=t.ah),t.oh!==void 0&&(e.topFillColor1=t.oh),t._h!==void 0&&(e.topFillColor2=t._h),t.uh!==void 0&&(e.bottomFillColor1=t.uh),t.dh!==void 0&&(e.bottomFillColor2=t.dh),e}function k_(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function RG(t){const e=k_(t);return t.R!==void 0&&(e.color=t.R),e}function MG(t){const e=k_(t),{R:n,Ht:r,nh:i}=t;return n!==void 0&&(e.color=n),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function Jd(t){return{Area:EG,Line:xj,Baseline:_G,Histogram:xj,Bar:RG,Candlestick:MG,Custom:AG}[t]}function AG(t){const e=t.Gr;return{...t.le,time:e}}const TG={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},zG={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},OG={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:c_,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Og={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},DG={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function yj(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:OG,crosshair:TG,grid:zG,overlayPriceScales:{...Og},leftPriceScale:{...Og,visible:!1},rightPriceScale:{...Og,visible:!0},timeScale:DG,localization:{locale:Vl?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class E_{constructor(e,n,r){this.Yp=e,this.bM=n,this.SM=r??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return cf(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Mn(e.from,e.to))}getVisibleRange(){let e,n,r=this.Ki().er();if(r===null)return null;if(this.Ki().io()){const i=this.Ki().m_(),a=N_(i);r=El(r,this.Ki().no()),e=Number((Math.round(r.Ze()/i)*i).toFixed(a)),n=Number((Math.round(r.Ge()/i)*i).toFixed(a))}else e=r.Ze(),n=r.Ge();return{from:e,to:n}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return me(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class PG{constructor(e,n,r,i){this.Yp=e,this.yt=r,this.xM=n,this.CM=i}getHeight(){return this.yt.$t()}setHeight(e){const n=this.Yp.Qt(),r=n.Gd(this.yt);n.xd(r,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const n=this.paneIndex();n!==e&&(fn(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(n,e))}getSeries(){return this.yt.F_().map((e=>this.xM(e)))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new E_(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,n={},r=0){return this.CM.addCustomSeries(e,n,r)}addSeries(e,n={}){return this.CM.addSeries(e,n,this.paneIndex())}}const LG={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class vj{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class FG{constructor(e,n,r,i,a,o){this.kM=new Dt,this.ee=e,this.PM=n,this.TM=r,this.cu=a,this.CM=i,this.RM=o}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const n=this.ee.Lt();return n===null?null:this.ee.Ft().Nt(e,n.Wt)}coordinateToPrice(e){const n=this.ee.Lt();return n===null?null:this.ee.Ft().Ds(e,n.Wt)}barsInLogicalRange(e){if(e===null)return null;const n=new Tl(new bc(e.from,e.to)).Ru(),r=this.ee.qs();if(r.Gi())return null;const i=r.$s(n.Aa(),1),a=r.$s(n.bi(),-1),o=me(r.kh()),u=me(r.sn());if(i!==null&&a!==null&&i.js>a.js)return{barsBefore:e.from-o,barsAfter:u-e.to};const h={barsBefore:i===null||i.js===o?e.from-o:i.js-o,barsAfter:a===null||a.js===u?u-e.to:u-a.js};return i!==null&&a!==null&&(h.from=i.Gr,h.to=a.Gr),h}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,n=!1){this.ee.wh(),this.PM.VM(this.ee,e,n),this.IM("update")}pop(e=1){const n=this.PM.BM(this.ee,e);n.length!==0&&this.IM("update");const r=Jd(this.seriesType());return n.map((i=>r(i)))}dataByIndex(e,n){const r=this.ee.qs().$s(e,n);return r===null?null:Jd(this.seriesType())(r)}data(){const e=Jd(this.seriesType());return this.ee.qs().Dh().map((n=>e(n)))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return $i(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const n=dr($i(LG),e),r=this.ee.Da(n);return new vj(r)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map((e=>new vj(e)))}seriesType(){return this.ee.wh()}lastValueData(e){const n=this.ee.Ve(e);return n.Be?{noData:!0}:{noData:!1,price:n.gt,color:n.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,n=me(this.ee.Qt().Kn(e));return this.RM(n)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const n=this.ee.Qt().Kn(this.ee);n!==null&&n.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class BG{constructor(e,n,r){this.EM=new Dt,this.Nu=new Dt,this.xw=new Dt,this.ns=e,this.Jh=e.Et(),this.tg=n,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=r}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,n){n?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},r=this.Jh.cc(n);this.ns.$d(r)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){fn(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const n=this.ns.Et();return n.Gi()?null:n.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,n){const r=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(r,n)}timeToCoordinate(e){const n=this.timeToIndex(e,!1);return n===null?null:this.Jh.qt(n)}coordinateToTime(e){const n=this.ns.Et(),r=n.wc(e),i=n.es(r);return i===null?null:i.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...$i(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function bj(t){return(function(e){if(_d(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;_d(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),_d(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const n=e.handleScroll;_d(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})})(t),t}class IG{constructor(e,n,r){this.OM=new Map,this.NM=new Map,this.FM=new Dt,this.WM=new Dt,this.HM=new Dt,this.Xc=new WeakMap,this.UM=new yG(n);const i=r===void 0?$i(yj()):dr($i(yj()),bj(r));this.$M=n,this.Yp=new uG(e,i,n),this.Yp.nw().i((o=>{this.FM.v()&&this.FM.p(this.qM(o()))}),this),this.Yp.ew().i((o=>{this.WM.v()&&this.WM.p(this.qM(o()))}),this),this.Yp.Md().i((o=>{this.HM.v()&&this.HM.p(this.qM(o()))}),this);const a=this.Yp.Qt();this.jM=new BG(a,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,n,r){this.autoSizeActive()||this.Yp.sg(e,n,r)}addCustomSeries(e,n={},r=0){const i=(a=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...CG,...a.defaultOptions()},YM:kG,KM:a}))(As(e));return this.ZM(i,n,r)}addSeries(e,n={},r=0){return this.ZM(e,n,r)}removeSeries(e){const n=Wn(this.OM.get(e)),r=this.UM.Hd(n);this.Yp.Qt().Hd(n),this.GM(r),this.OM.delete(e),this.NM.delete(n)}DM(e,n){this.GM(this.UM.Ug(e,n))}VM(e,n,r){this.GM(this.UM.Zg(e,n,r))}BM(e,n){const[r,i]=this.UM.Jg(e,n);return r.length!==0&&this.GM(i),r}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,n=0){return new E_(this.Yp,e,n)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(bj(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,n=!1){let r,i;try{n||(r=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),i=this.Yp.ug(e)}finally{n||r===void 0||this.Yp.Qt().cr({crosshair:{mode:r}})}return i}addPane(e=!1){const n=this.Yp.Qt().Xd();return n.O_(e),this.XM(n)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,n){this.Yp.Qt().Cd(e,n)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map((e=>this.XM(e)))}paneSize(e=0){const n=this.Yp.gg(e);return{height:n.height,width:n.width}}setCrosshairPosition(e,n,r){const i=this.OM.get(r);if(i===void 0)return;const a=this.Yp.Qt().Kn(i);a!==null&&this.Yp.Qt().Ld(e,n,a)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,n={},r=0){fn(e.YM!==void 0),(function(h){if(h===void 0||h.type==="custom")return;const f=h;f.minMove!==void 0&&f.precision===void 0&&(f.precision=N_(f.minMove))})(n.priceFormat),e.type==="Candlestick"&&(function(h){h.borderColor!==void 0&&(h.borderUpColor=h.borderColor,h.borderDownColor=h.borderColor),h.wickColor!==void 0&&(h.wickUpColor=h.wickColor,h.wickDownColor=h.wickColor)})(n);const i=dr($i(l_),$i(e.defaultOptions),n),a=e.YM,o=new df(this.Yp.Qt(),e.type,i,a,e.KM);this.Yp.Qt().Fd(o,r);const u=new FG(o,this,this,this,this.$M,(h=>this.XM(h)));return this.OM.set(u,o),this.NM.set(o,u),u}GM(e){const n=this.Yp.Qt();n.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach(((r,i)=>i.ht(r.le,r.iM))),n.Et().Ju(),n.Sc()}JM(e){return Wn(this.NM.get(e))}qM(e){const n=new Map;e.Vg.forEach(((i,a)=>{const o=a.wh(),u=Jd(o)(i);if(o!=="Custom")fn(hG(u));else{const h=a.hl();fn(!h||h(u)===!1)}n.set(this.JM(a),u)}));const r=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:r,hoveredObjectId:e.Bg,seriesData:n,sourceEvent:e.Eg}}XM(e){let n=this.Xc.get(e);return n||(n=new PG(this.Yp,(r=>this.JM(r)),e,this),this.Xc.set(e,n)),n}}function UG(t){if(Qc(t)){const e=document.getElementById(t);return fn(e!==null,`Cannot find element in DOM with id=${t}`),e}return t}function HG(t,e,n){const r=UG(t),i=new IG(r,e,n);return e.setOptions(i.options()),i}function VG(t,e){return HG(t,new rj,rj.pf(e))}class __ extends ay{constructor(e,n){super(e,n,!0)}mM(e,n,r){n.mc(this.aM,Tc(this.lM)),e.Yo(this.aM,r,Tc(this.lM))}QM(e,n){return{wt:e,gt:n,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((n=>{let r;if((n.jr??1)>1){const i=n.Wt[1],a=n.Wt[2],o=n.Wt[3];r=Math.abs(i-o)>Math.abs(a-o)?i:a}else r=n.Wt[3];return this.tb(n.js,r,e)}))}}function R_(t,e,n,r,i,a,o){if(e.length===0||r.from>=e.length||r.to<=0)return;const{context:u,horizontalPixelRatio:h,verticalPixelRatio:f}=t,p=e[r.from];let g=a(t,p),x=p;if(r.to-r.from<2){const v=i/2;u.beginPath();const w={_t:p._t-v,ut:p.ut},S={_t:p._t+v,ut:p.ut};u.moveTo(w._t*h,w.ut*f),u.lineTo(S._t*h,S.ut*f),o(t,g,w,S)}else{const v=(S,C)=>{o(t,g,x,C),u.beginPath(),g=S,x=C};let w=x;u.beginPath(),u.moveTo(p._t*h,p.ut*f);for(let S=r.from+1;S<r.to;++S){w=e[S];const C=a(t,w);switch(n){case 0:u.lineTo(w._t*h,w.ut*f);break;case 1:u.lineTo(w._t*h,e[S-1].ut*f),C!==g&&(v(C,w),u.lineTo(w._t*h,e[S-1].ut*f)),u.lineTo(w._t*h,w.ut*f);break;case 2:{const[j,E]=$G(e,S-1,S);u.bezierCurveTo(j._t*h,j.ut*f,E._t*h,E.ut*f,w._t*h,w.ut*f);break}}n!==1&&C!==g&&(v(C,w),u.moveTo(w._t*h,w.ut*f))}(x!==w||x===w&&n===1)&&o(t,g,x,w)}}const wj=6;function Dg(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function Sj(t,e){return{_t:t._t/e,ut:t.ut/e}}function $G(t,e,n){const r=Math.max(0,e-1),i=Math.min(t.length-1,n+1);var a,o;return[(a=t[e],o=Sj(Dg(t[n],t[r]),wj),{_t:a._t+o._t,ut:a.ut+o.ut}),Dg(t[n],Sj(Dg(t[i],t[e]),wj))]}function qG(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class GG extends Is{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:n,lt:r,ib:i,sb:a,ct:o,Zt:u,nb:h}=this.rt;if(r===null)return;const f=e.context;f.lineCap="butt",f.lineWidth=o*e.verticalPixelRatio,Ls(f,u),f.lineJoin="round";const p=this.eb.bind(this);a!==void 0&&R_(e,n,a,r,i,p,qG),h&&(function(g,x,v,w,S){if(w.to-w.from<=0)return;const{horizontalPixelRatio:C,verticalPixelRatio:j,context:E}=g;let _=null;const A=Math.max(1,Math.floor(C))%2/2,O=v*j+A;for(let z=w.to-1;z>=w.from;--z){const F=x[z];if(F){const P=S(g,F);P!==_&&(E.beginPath(),_!==null&&E.fill(),E.fillStyle=P,_=P);const $=Math.round(F._t*C)+A,L=F.ut*j;E.moveTo($,L),E.arc($,L,O,0,2*Math.PI)}}E.fill()})(e,n,h,r,p)}}class M_ extends GG{eb(e,n){return n.vt}}class YG extends __{constructor(){super(...arguments),this.cM=new M_}tb(e,n,r){return{...this.QM(e,n),...r.gh(e)}}wM(){const e=this.ee.N(),n={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(n)}}const QG={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new YG(t,e)};function WG(t,e,n,r,i){const{context:a,horizontalPixelRatio:o,verticalPixelRatio:u}=e;a.lineTo(i._t*o,t*u),a.lineTo(r._t*o,t*u),a.closePath(),a.fillStyle=n,a.fill()}class KG extends Is{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:n,lt:r,ib:i,ct:a,Zt:o,sb:u}=this.rt,h=this.rt.ub??(this.rt.cb?0:e.mediaSize.height);if(r===null)return;const f=e.context;f.lineCap="butt",f.lineJoin="round",f.lineWidth=a,Ls(f,o),f.lineWidth=1,R_(e,n,u,r,i,this.fb.bind(this),WG.bind(null,h))}}class XG{pb(e,n){const r=this.mb,{wb:i,gb:a,Mb:o,bb:u,ub:h,Sb:f,xb:p}=n;if(this.Cb===void 0||r===void 0||r.wb!==i||r.gb!==a||r.Mb!==o||r.bb!==u||r.ub!==h||r.Sb!==f||r.xb!==p){const{verticalPixelRatio:g}=e,x=h||f>0?g:1,v=f*x,w=p===e.bitmapSize.height?p:p*x,S=(h??0)*x,C=e.context.createLinearGradient(0,v,0,w);if(C.addColorStop(0,i),h!=null){const j=Al((S-v)/(w-v),0,1);C.addColorStop(j,a),C.addColorStop(j,o)}C.addColorStop(1,u),this.Cb=C,this.mb=n}return this.Cb}}class JG extends KG{constructor(){super(...arguments),this.yb=new XG}fb(e,n){return this.yb.pb(e,{wb:n.eh,gb:"",Mb:"",bb:n.rh,Sb:this.rt?.Sb??0,xb:e.bitmapSize.height})}}class ZG extends __{constructor(e,n){super(e,n),this.cM=new u_,this.Rb=new JG,this.Db=new M_,this.cM.st([this.Rb,this.Db])}tb(e,n,r){return{...this.QM(e,n),...r.gh(e)}}wM(){const e=this.ee.N();if(this.lM===null||this.aM.length===0)return;let n;if(e.relativeGradient){n=this.aM[this.lM.from].ut;for(let r=this.lM.from;r<this.lM.to;r++){const i=this.aM[r];i.ut<n&&(n=i.ut)}}this.Rb.ht({sb:e.lineType,ot:this.aM,Zt:e.lineStyle,ct:e.lineWidth,ub:null,Sb:n,cb:e.invertFilledArea,lt:this.lM,ib:this.re.Et().ul()}),this.Db.ht({sb:e.lineVisible?e.lineType:void 0,ot:this.aM,Zt:e.lineStyle,ct:e.lineWidth,lt:this.lM,ib:this.re.Et().ul(),nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}const eY={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new ZG(t,e)};class tY extends ay{constructor(e,n){super(e,n,!1)}mM(e,n,r){n.mc(this.aM,Tc(this.lM)),e.Zo(this.aM,r,Tc(this.lM))}Lb(e,n,r){return{wt:e,Hr:n.Wt[0],Ur:n.Wt[1],$r:n.Wt[2],qr:n.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((n=>this.tb(n.js,n,e)))}}class nY extends Is{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(this.jt===null||this.jt.qs.length===0||this.jt.lt===null)return;const{horizontalPixelRatio:n}=e;this.Ib=(function(a,o){if(a>=2.5&&a<=4)return Math.floor(3*o);const u=1-.2*Math.atan(Math.max(4,a)-4)/(.5*Math.PI),h=Math.floor(a*u*o),f=Math.floor(a*o),p=Math.min(h,f);return Math.max(Math.floor(o),p)})(this.jt.ul,n),this.Ib>=2&&Math.floor(n)%2!=this.Ib%2&&this.Ib--;const r=this.jt.qs;this.jt.zb&&this.Ob(e,r,this.jt.lt),this.jt.Mi&&this.gm(e,r,this.jt.lt);const i=this.Nb(n);(!this.jt.Mi||this.Ib>2*i)&&this.Fb(e,r,this.jt.lt)}Ob(e,n,r){if(this.jt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let u="",h=Math.min(Math.floor(a),Math.floor(this.jt.ul*a));h=Math.max(Math.floor(a),Math.min(h,this.Ib));const f=Math.floor(.5*h);let p=null;for(let g=r.from;g<r.to;g++){const x=n[g];x.sh!==u&&(i.fillStyle=x.sh,u=x.sh);const v=Math.round(Math.min(x.Go,x.Qo)*o),w=Math.round(Math.max(x.Go,x.Qo)*o),S=Math.round(x.Xo*o),C=Math.round(x.Jo*o);let j=Math.round(a*x._t)-f;const E=j+h-1;p!==null&&(j=Math.max(p+1,j),j=Math.min(j,E));const _=E-j+1;i.fillRect(j,S,_,v-S),i.fillRect(j,w+1,_,C-w),p=E}}Nb(e){let n=Math.floor(1*e);this.Ib<=2*n&&(n=Math.floor(.5*(this.Ib-1)));const r=Math.max(Math.floor(e),n);return this.Ib<=2*r?Math.max(Math.floor(e),Math.floor(1*e)):r}gm(e,n,r){if(this.jt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let u="";const h=this.Nb(a);let f=null;for(let p=r.from;p<r.to;p++){const g=n[p];g.ih!==u&&(i.fillStyle=g.ih,u=g.ih);let x=Math.round(g._t*a)-Math.floor(.5*this.Ib);const v=x+this.Ib-1,w=Math.round(Math.min(g.Go,g.Qo)*o),S=Math.round(Math.max(g.Go,g.Qo)*o);if(f!==null&&(x=Math.max(f+1,x),x=Math.min(x,v)),this.jt.ul*a>2*h)J7(i,x,w,v-x+1,S-w+1,h);else{const C=v-x+1;i.fillRect(x,w,C,S-w+1)}f=v}}Fb(e,n,r){if(this.jt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let u="";const h=this.Nb(a);for(let f=r.from;f<r.to;f++){const p=n[f];let g=Math.round(Math.min(p.Go,p.Qo)*o),x=Math.round(Math.max(p.Go,p.Qo)*o),v=Math.round(p._t*a)-Math.floor(.5*this.Ib),w=v+this.Ib-1;if(p.th!==u){const S=p.th;i.fillStyle=S,u=S}this.jt.Mi&&(v+=h,g+=h,w-=h,x-=h),g>x||i.fillRect(v,g,w-v+1,x-g+1)}}}class rY extends tY{constructor(){super(...arguments),this.cM=new nY}tb(e,n,r){return{...this.Lb(e,n,r),...r.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}}const iY={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(t,e)=>new rY(t,e)};({...l_});function Nj({data:t,className:e}){const[n,r]=N.useState("mountain"),i=N.useRef(null),a=N.useRef(null),o=N.useRef(null);N.useEffect(()=>{if(!i.current)return;const h=VG(i.current,{layout:{background:{type:Cx.Solid,color:"transparent"},textColor:"#a1a1aa"},grid:{vertLines:{color:"rgba(39, 39, 42, 0.3)"},horzLines:{color:"rgba(39, 39, 42, 0.3)"}},width:i.current.clientWidth,height:200,timeScale:{borderColor:"#27272a",timeVisible:!0,secondsVisible:!1},rightPriceScale:{borderColor:"#27272a",scaleMargins:{top:.1,bottom:.1}},handleScroll:!0,handleScale:!0});a.current=h;const f=()=>{i.current&&a.current&&a.current.applyOptions({width:i.current.clientWidth})};return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f),h.remove(),a.current=null,o.current=null}},[]),N.useEffect(()=>{const h=a.current;if(!(!h||!t)){if(o.current){try{h.removeSeries(o.current)}catch(f){console.warn("Could not remove series:",f)}o.current=null}if(n==="candle"?o.current=h.addSeries(iY,{upColor:"#22c55e",downColor:"#ef4444",borderVisible:!1,wickUpColor:"#22c55e",wickDownColor:"#ef4444"}):n==="line"?o.current=h.addSeries(QG,{color:"#3b82f6",lineWidth:2}):n==="mountain"&&(o.current=h.addSeries(eY,{topColor:"rgba(59, 130, 246, 0.4)",bottomColor:"rgba(59, 130, 246, 0.0)",lineColor:"#3b82f6",lineWidth:2})),o.current&&t.length>0){let f=[];const p=t.filter(x=>x&&x.ts&&x.close!==void 0&&x.close!==null).map(x=>({...x,time:new Date(x.ts).getTime()/1e3})).filter(x=>!isNaN(x.time)).sort((x,v)=>x.time-v.time),g=p.filter((x,v)=>v===0||x.time!==p[v-1].time);if(g.length>0){n==="candle"?f=g.map(x=>({time:x.time,open:x.open??x.close,high:x.high??x.close,low:x.low??x.close,close:x.close})):f=g.map(x=>({time:x.time,value:x.close}));try{o.current.setData(f),h.timeScale().fitContent()}catch(x){console.error("Failed to set chart data:",x)}}}}},[t,n]);const u=[{id:"mountain",label:"Mountain",icon:o3},{id:"line",label:"Line",icon:h3},{id:"candle",label:"Candles",icon:u3}];return c.jsxs("div",{className:`relative w-full h-full min-h-[180px] ${e}`,children:[c.jsx("div",{className:"absolute top-2 left-2 z-10 flex bg-muted/20 backdrop-blur-md rounded-md border border-border/40 p-0.5 shadow-sm",children:u.map(h=>c.jsx("button",{onClick:()=>r(h.id),className:`p-1.5 rounded transition-all duration-200 ${n===h.id?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,title:h.label,children:c.jsx(h.icon,{size:14})},h.id))}),c.jsx("div",{ref:i,className:"w-full h-full"})]})}const sY=45e3;function aY(){const{symbol:t,tab:e}=Qj(),n=_t(),{user:r}=Or(),[i,a]=N.useState(!1),o=N.useRef(null),[u,h]=N.useState(null),[f,p]=N.useState(null),g=N.useRef(void 0),[x,v]=N.useState(!1),w=Kn(),C=e&&["overview","financials","research","news"].includes(e)?e:"overview",{data:j,isLoading:E}=e2(t),{data:_=[]}=sD(t),{data:A=[]}=aD(t),{data:O=[]}=oD(t),{data:z=[]}=T0(),F=z?.some(T=>T.items?.some(D=>D.ticker.symbol===t))??!1,P=cD(),$=lD(),L=uD(),q=t2(),J=T=>{if(!t)return;a(!0);const D=`pending-${Date.now()}`,Q=new Date().toISOString();h(D),p(Q),g.current=O[0]?.id,P.mutate({symbol:t,provider:T?.provider,quality:T?.quality,question:T?.question})},de=T=>{confirm("Are you sure you want to delete this research?")&&L.mutate(T)},se=O.some(T=>T.status==="processing"||T.status==="pending");N.useEffect(()=>()=>{o.current&&(clearTimeout(o.current),o.current=null)},[]),N.useEffect(()=>{se&&u&&(h(null),p(null))},[se,u]);const te=O[0]?.id;N.useEffect(()=>{if(P.isPending||se){o.current&&(clearTimeout(o.current),o.current=null),a(!0);return}!i||o.current||(o.current=setTimeout(()=>{o.current=null,a(!1)},sY))},[P.isPending,se,i]);const B=P.isPending||se||i;N.useEffect(()=>{!i||!u||P.isPending||se||te&&te!==g.current&&(a(!1),h(null),p(null),g.current=void 0)},[te,u,i,P.isPending,se]);const V=i&&!se&&u&&f?{id:u,created_at:f,status:"processing",title:"Preparing research...",user:{nickname:r?.nickname||r?.email||"You"},user_id:r?.id||void 0,provider:"gemini",models_used:["preparing"],tokens_in:0,tokens_out:0}:null,ge=V?[V,...O]:O;return N.useEffect(()=>{!i||!g.current||P.isPending||se||te&&te!==g.current&&(g.current=void 0,i&&a(!1))},[te,P.isPending,se]),c.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/20",children:[c.jsx(Ar,{}),E?c.jsxs("main",{className:"container mx-auto px-4 py-32 max-w-[80rem] flex flex-col items-center justify-center gap-4",children:[c.jsx(Wt,{className:"animate-spin w-8 h-8 text-primary"}),c.jsx("div",{className:"text-muted-foreground animate-pulse text-sm",children:"Loading Terminal Data..."})]}):j?(()=>{const{profile:T,market_data:D,risk_analysis:Q,fundamentals:M,watchers:ne}=j,ue=D?.change_percent>=0;return c.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-[80rem] space-y-6 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"relative z-30 space-y-4 pb-4 md:pb-6",children:[c.jsxs("div",{className:"md:hidden absolute top-0 right-0 flex items-center gap-2 z-40",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mr-1",title:"Watchers",children:[c.jsx(hc,{size:12}),c.jsx("span",{className:"font-semibold",children:(ne??0).toLocaleString()})]}),c.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-muted text-muted-foreground hover:text-yellow-400 -mr-2",title:"Add to Favourites",onClick:()=>{t&&q.mutate(t)},children:c.jsx(Xg,{size:16,className:F?"fill-yellow-400 text-yellow-400":""})}),c.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-muted -mr-2",title:"Share",children:c.jsx(Kg,{size:16,className:"text-muted-foreground"})})]}),c.jsxs("div",{className:"hidden md:block space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>n(-1),className:"rounded-full hover:bg-muted h-10 w-10 shrink-0",children:c.jsx(sh,{className:"w-5 h-5 text-muted-foreground"})}),c.jsx(mr,{url:T?.logo_url,symbol:T?.symbol,className:"w-14 h-14 shrink-0 rounded-lg"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight leading-none",children:T?.symbol}),c.jsx("span",{className:"bg-muted px-2 py-0.5 rounded text-[11px] font-bold text-muted-foreground uppercase tracking-wide border border-border/50",children:T?.exchange})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:"text-sm text-foreground font-medium truncate",children:T?.name}),T?.industry&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-muted-foreground/40",children:""}),c.jsx("span",{className:"text-sm text-muted-foreground",children:T.industry})]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-muted/30 rounded-full border border-border/40 mr-2",title:"Watchers",children:[c.jsx(hc,{size:14,className:"text-muted-foreground"}),c.jsx("span",{className:"text-xs font-semibold text-foreground",children:(ne??0).toLocaleString()})]}),c.jsx(pe,{variant:"ghost",size:"sm",className:"h-9 w-9 data-[state=active]:bg-muted rounded-full",onClick:async()=>{if(t)try{v(!0),await je.post(`/research/sync/${t}`),w.invalidateQueries({queryKey:en.details(t)}),w.invalidateQueries({queryKey:en.research(t)})}catch(H){console.error("Sync failed",H)}finally{v(!1)}},disabled:x,title:"Sync Data",children:c.jsx(s0,{size:18,className:x?"animate-spin text-primary":"text-muted-foreground"})}),c.jsx(pe,{variant:"ghost",size:"sm",className:"h-9 w-9 rounded-full",onClick:()=>{t&&q.mutate(t)},title:F?"Remove from Favorites":"Add to Favorites",children:c.jsx(Xg,{size:18,className:F?"fill-yellow-400 text-yellow-400":"text-muted-foreground hover:text-yellow-400"})}),c.jsx(pe,{variant:"ghost",size:"sm",className:"h-9 w-9 rounded-full",title:"Share",children:c.jsx(Kg,{size:18,className:"text-muted-foreground"})})]})]}),c.jsxs("div",{className:"flex items-start gap-12",children:[c.jsxs("div",{className:"shrink-0 min-w-[200px]",children:[c.jsxs("div",{className:"flex items-baseline gap-3 mb-4",children:[c.jsxs("span",{className:"text-4xl font-mono font-semibold tracking-tighter",children:["$",D?.price?.toFixed(2)]}),c.jsxs("div",{className:`flex items-center text-lg font-medium px-2 py-0.5 rounded ${ue?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:[ue?c.jsx(mi,{size:18,className:"mr-1.5"}):c.jsx(ba,{size:18,className:"mr-1.5"}),Math.abs(D?.change_percent||0).toFixed(2),"%"]})]}),Q&&c.jsx("div",{className:"pt-2 border-t border-border/50",children:c.jsx(NN,{score:Q.overall_score,reasoning:Q.summary,sentiment:Q.sentiment,breakdown:{financial:Q.financial_risk,execution:Q.execution_risk,dilution:Q.dilution_risk,competitive:Q.competitive_risk,regulatory:Q.regulatory_risk}})})]}),c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsx("div",{className:"min-h-[200px] bg-muted/10 rounded-xl border border-border/40 p-1 relative overflow-hidden group",children:D?.history&&D.history.length>0?c.jsx(Nj,{data:D.history,className:"h-full"}):c.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground/50 text-xs italic",children:"No historical data available for chart"})}),T?.description&&c.jsxs("div",{className:"bg-muted/5 border border-border/40 rounded-xl p-4",children:[c.jsx("p",{className:"text-xs text-muted-foreground/80 leading-relaxed line-clamp-4",children:T.description}),T.web_url&&c.jsxs("div",{className:"mt-3 flex items-center gap-2 text-[10px]",children:[c.jsx("span",{className:"text-muted-foreground/60 uppercase font-bold tracking-widest",children:"Website"}),c.jsx("a",{href:T.web_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:(()=>{try{return new URL(T.web_url).hostname}catch{return T.web_url.replace(/^https?:\/\//,"").split("/")[0]}})()})]})]})]})]})]}),c.jsxs("div",{className:"md:hidden",children:[c.jsxs("div",{className:"flex items-start gap-3 pr-24",children:[c.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>n(-1),className:"rounded-full hover:bg-muted h-8 w-8 shrink-0 mt-1",children:c.jsx(sh,{className:"w-4 h-4 text-muted-foreground"})}),c.jsx(mr,{url:T?.logo_url,symbol:T?.symbol,className:"w-10 h-10 shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("h1",{className:"text-xl font-bold tracking-tight leading-none",children:T?.symbol})}),c.jsx("div",{className:"text-xs text-muted-foreground font-medium truncate mt-0.5",children:T?.name}),c.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[c.jsxs("span",{className:"text-lg font-mono font-bold tracking-tight",children:["$",D?.price?.toFixed(2)]}),c.jsxs("span",{className:`flex items-center text-xs font-bold ${ue?"text-green-500":"text-red-500"}`,children:[ue?c.jsx(mi,{size:10,className:"mr-0.5"}):c.jsx(ba,{size:10,className:"mr-0.5"}),Math.abs(D?.change_percent||0).toFixed(2),"%"]})]})]})]}),c.jsx("div",{className:"md:hidden flex items-center justify-center mt-4",children:Q&&c.jsx(NN,{score:Q.overall_score,reasoning:Q.summary,sentiment:Q.sentiment,breakdown:{financial:Q.financial_risk,execution:Q.execution_risk,dilution:Q.dilution_risk,competitive:Q.competitive_risk,regulatory:Q.regulatory_risk}})}),c.jsxs("div",{className:"md:hidden mt-6 space-y-4",children:[c.jsx("div",{className:"h-[200px] bg-muted/10 rounded-xl border border-border/40 p-1 relative overflow-hidden",children:D?.history&&D.history.length>0?c.jsx(Nj,{data:D.history,className:"h-full"}):c.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground/50 text-xs italic",children:"No historical data available for chart"})}),T?.description&&c.jsxs("div",{className:"bg-muted/5 border border-border/40 rounded-xl p-4",children:[c.jsx("p",{className:"text-xs text-muted-foreground/80 leading-relaxed",children:T.description}),T.web_url&&c.jsxs("div",{className:"mt-3 flex items-center gap-2 text-[10px]",children:[c.jsx("span",{className:"text-muted-foreground/60 uppercase font-bold tracking-widest",children:"Website"}),c.jsx("a",{href:T.web_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:(()=>{try{return new URL(T.web_url).hostname}catch{return T.web_url.replace(/^https?:\/\//,"").split("/")[0]}})()})]})]})]})]})]}),c.jsxs(SE,{value:C,onValueChange:H=>n(`/ticker/${t}/${H}`),className:"w-full relative z-0",children:[c.jsxs(NE,{className:"mb-6",children:[c.jsx(da,{value:"overview",children:"Overview"}),c.jsx(da,{value:"research",children:"AI Research"}),c.jsx(da,{value:"financials",children:"Financials"}),c.jsx(da,{value:"news",children:"News"})]}),c.jsx(ha,{value:"overview",className:"space-y-6",children:c.jsx(H$,{risk_analysis:Q,market_data:D,ratings:j.ratings})}),c.jsx(ha,{value:"research",children:c.jsx(B$,{research:ge,onTrigger:J,isAnalyzing:B,onDelete:r?.role?.toLowerCase()==="admin"?de:void 0,defaultTicker:t})}),c.jsx(ha,{value:"financials",children:c.jsx($$,{fundamentals:M})}),c.jsx(ha,{value:"news",children:c.jsx(q$,{news:_})})]}),c.jsx("div",{className:"mt-12 border-t border-border pt-8 pb-12",children:c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsx(P7,{comments:A,onPostComment:H=>{t&&$.mutate({symbol:t,content:H})},isPosting:$.isPending})})})]})})():c.jsxs("main",{className:"container mx-auto px-4 py-32 max-w-[80rem] flex flex-col items-center justify-center gap-4",children:[c.jsx("div",{className:"text-destructive font-bold text-lg",children:"Ticker Not Found"}),c.jsx(pe,{variant:"outline",onClick:()=>n("/dashboard"),children:"Return to Dashboard"})]})]})}function lY(t){F2(t,[/\r?\n|\r/g,oY])}function oY(){return{type:"break"}}function cY(){return function(t){lY(t)}}const uY=Bh("rounded-lg border px-3 py-2 text-sm font-semibold flex items-center gap-2",{variants:{variant:{success:"border-emerald-500/30 bg-emerald-500/15 text-emerald-200 [data-theme='light']:bg-emerald-100 [data-theme='light']:border-emerald-200 [data-theme='light']:text-emerald-800",error:"border-red-500/30 bg-red-500/15 text-red-200 [data-theme='light']:bg-red-100 [data-theme='light']:border-red-200 [data-theme='light']:text-red-800",warning:"border-yellow-500/30 bg-yellow-500/15 text-yellow-200 [data-theme='light']:bg-yellow-100 [data-theme='light']:border-yellow-200 [data-theme='light']:text-yellow-800",info:"border-blue-500/30 bg-blue-500/15 text-blue-200 [data-theme='light']:bg-blue-100 [data-theme='light']:border-blue-200 [data-theme='light']:text-blue-800"}},defaultVariants:{variant:"info"}}),dY={success:n0,error:Jx,warning:mn,info:GC};function hY({className:t,variant:e="info",icon:n=!0,children:r,...i}){const a=dY[e||"info"];return c.jsxs("div",{className:Ne(uY({variant:e}),t),...i,children:[n&&c.jsx(a,{className:Ne("w-4 h-4",e==="success"&&"text-emerald-600 [data-theme='light']:text-emerald-600",e==="error"&&"text-red-600 [data-theme='light']:text-red-600",e==="warning"&&"text-yellow-600 [data-theme='light']:text-yellow-600",e==="info"&&"text-blue-600 [data-theme='light']:text-blue-600")}),c.jsx("div",{children:r})]})}function fY(){const{id:t}=Qj(),e=_t(),{data:n,isLoading:r,error:i}=nn({queryKey:["research",t],queryFn:async()=>(await je.get(`/research/${t}`)).data,enabled:!!t,refetchInterval:S=>{const C=S;return C?C.status==="pending"||C.status==="processing"?2e3:!1:2e3}}),a=n?.tickers?.[0],{data:o}=e2(a);if(r)return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col text-foreground font-sans",children:[c.jsx(Ar,{}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4",children:[c.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary"}),c.jsx("div",{className:"text-muted-foreground animate-pulse text-sm",children:"Loading Research..."})]})]});if(i||!n)return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col text-foreground font-sans",children:[c.jsx(Ar,{}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4",children:[c.jsx(mn,{className:"w-12 h-12 text-destructive opacity-50"}),c.jsx("h2",{className:"text-xl font-bold",children:"Research Note Not Found"}),c.jsx(pe,{variant:"outline",onClick:()=>e(-1),children:"Go Back"})]})]});const u=o?.profile,h=o?.market_data,f=(h?.change_percent??0)>=0,p=n.title||n.question||"Analysis Request",g=n.answer_markdown,x=n.status==="pending"||n.status==="processing",v=n.status==="failed",w=n.grounding_metadata?.groundingChunks?.map((S,C)=>({index:C+1,title:S.web?.title||`Source ${C+1} `,url:S.web?.uri})).filter(S=>S.url);return c.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/20",children:[c.jsx(Ar,{}),c.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-[80rem] space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 border-b border-border pb-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"rounded-full hover:bg-muted h-8 w-8",children:c.jsx(sh,{className:"w-4 h-4 text-muted-foreground"})}),c.jsx(mr,{url:u?.logo_url,symbol:a||"",className:"w-12 h-12"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:a}),u?.exchange&&c.jsx("span",{className:"bg-muted px-1.5 py-0.5 rounded text-[10px] font-bold text-muted-foreground uppercase tracking-wide",children:u.exchange})]}),c.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:u?.name||"Loading..."})]}),c.jsx("div",{className:"h-8 w-px bg-border mx-2 hidden md:block"}),h&&c.jsx("div",{className:"hidden md:block",children:c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsxs("span",{className:"text-2xl font-mono font-semibold tracking-tight",children:["$",h.price?.toFixed(2)]}),c.jsxs("span",{className:`flex items-center text-sm font-medium ${f?"text-green-500":"text-red-500"}`,children:[f?c.jsx(mi,{size:14,className:"mr-1"}):c.jsx(ba,{size:14,className:"mr-1"}),Math.abs(h.change_percent||0).toFixed(2),"%"]})]})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-md text-[10px] font-bold border uppercase tracking-wide ${x?"bg-yellow-500/10 text-yellow-500 border-yellow-500/20":v?"bg-red-500/10 text-red-500 border-red-500/20":"bg-green-500/10 text-green-500 border-green-500/20"}`,children:[x?c.jsx(Wt,{className:"w-3 h-3 animate-spin"}):v?c.jsx(mn,{className:"w-3 h-3"}):c.jsx(n0,{className:"w-3 h-3"}),c.jsx("span",{className:"capitalize",children:n.status})]}),n.models_used&&n.models_used.length>0&&c.jsx(hh,{model:n.models_used[0],rarity:n.rarity,className:"h-6"}),c.jsx("div",{className:"h-4 w-px bg-border mx-1 hidden md:block"}),c.jsxs(pe,{variant:"outline",size:"sm",className:"gap-2 h-7 text-[10px] px-2",onClick:()=>window.print(),children:[c.jsx(uO,{size:10})," ",c.jsx("span",{className:"hidden md:inline",children:"Print"})]}),c.jsxs(pe,{variant:"outline",size:"sm",className:"gap-2 h-7 text-[10px] px-2",children:[c.jsx(Kg,{size:10})," ",c.jsx("span",{className:"hidden md:inline",children:"Share"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("h2",{className:"text-lg md:text-xl font-bold tracking-tight leading-tight",children:p}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[10px] text-muted-foreground uppercase tracking-wider font-medium",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Bc,{size:10}),c.jsx("span",{children:new Date(n.created_at).toLocaleString()})]}),n.tokens_in&&n.tokens_out&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(lh,{size:10}),c.jsxs("span",{className:n.rarity==="Legendary"?"text-yellow-500":"",children:[n.tokens_in+n.tokens_out," tokens"]})]}),n.rarity&&c.jsx("div",{className:"flex items-center gap-1.5",children:c.jsx(hh,{model:n.models_used?.[0]||"AI",rarity:n.rarity,showIcon:!1})}),c.jsxs("span",{className:"font-mono opacity-30 ml-auto",children:["ID: ",n.id]})]})]}),v&&c.jsxs(hY,{variant:"error",children:[c.jsx(mn,{className:"h-4 w-4"}),c.jsx("span",{className:"ml-2 font-semibold",children:"Analysis Failed:"}),c.jsx("span",{className:"ml-2",children:n.error||"An unknown error occurred."})]}),x&&c.jsx(xt,{className:"border-primary/20 bg-primary/5",children:c.jsxs(yt,{className:"flex flex-col items-center justify-center py-12",children:[c.jsxs("div",{className:"relative mb-4",children:[c.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full animate-ping"}),c.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary relative z-10"})]}),c.jsx("h3",{className:"text-base font-semibold mb-1",children:"Generating Research..."}),c.jsx("p",{className:"text-muted-foreground text-center max-w-sm text-xs",children:"AI is analyzing market data, news, and financials. (~20s)"})]})}),!x&&!v&&c.jsxs(SE,{defaultValue:"report",className:"w-full",children:[c.jsxs(NE,{className:"mb-4 h-9",children:[c.jsxs(da,{value:"report",className:"gap-2 text-xs",children:[c.jsx(Nc,{size:12}),"Analysis Report"]}),w&&w.length>0&&c.jsxs(da,{value:"sources",className:"gap-2 text-xs",children:[c.jsx(hO,{size:12}),"Sources (",w.length,")"]}),c.jsxs(da,{value:"raw",className:"gap-2 text-xs",children:[c.jsx(Xw,{size:12}),"Raw Data"]})]}),c.jsx(ha,{value:"report",className:"mt-0 animate-in fade-in duration-200",children:c.jsx(xt,{className:"border-border",children:c.jsx(yt,{className:"p-4 md:p-6",children:g?c.jsx("article",{className:"prose prose-sm dark:prose-invert max-w-none prose-headings:font-bold prose-headings:tracking-tight prose-a:text-primary prose-img:rounded-lg prose-strong:text-foreground prose-blockquote:border-l-primary/50 prose-blockquote:bg-muted/20 prose-blockquote:py-1 prose-blockquote:px-4 prose-hr:border-border prose-code:bg-muted prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:text-xs prose-pre:bg-muted prose-pre:border prose-pre:border-border",children:c.jsx(w0,{remarkPlugins:[ok,cY],children:g})}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[c.jsx(mn,{className:"w-8 h-8 mb-3 opacity-20"}),c.jsx("p",{className:"text-sm",children:"No content generated."})]})})})}),w&&w.length>0&&c.jsx(ha,{value:"sources",className:"mt-0 animate-in fade-in duration-200",children:c.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:w.map((S,C)=>c.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:c.jsx(xt,{className:"h-full hover:border-primary/50 hover:bg-muted/30 transition-all group cursor-pointer",children:c.jsxs(yt,{className:"p-4 flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg flex items-center justify-center text-xs font-bold group-hover:bg-primary/20 transition-colors shrink-0",children:S.index}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium text-sm line-clamp-2 group-hover:text-primary transition-colors",children:S.title}),c.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mt-1",children:[c.jsx(W3,{size:8}),c.jsx("span",{className:"truncate",children:S.url?new URL(S.url).hostname:""})]})]})]})})},C))})}),c.jsxs(ha,{value:"raw",className:"mt-0 animate-in fade-in duration-200 space-y-4",children:[c.jsxs(xt,{children:[c.jsx(Ut,{className:"pb-3",children:c.jsxs(Ht,{className:"text-sm flex items-center gap-2",children:[c.jsx(Nc,{className:"text-primary",size:16}),"Raw Markdown"]})}),c.jsx(yt,{children:c.jsx("pre",{className:"w-full max-h-[400px] p-4 rounded-lg bg-muted/50 border border-border overflow-auto text-xs font-mono whitespace-pre-wrap",children:n?.answer_markdown||"No markdown content."})})]}),c.jsxs(xt,{children:[c.jsx(Ut,{className:"pb-3",children:c.jsxs(Ht,{className:"text-sm flex items-center gap-2",children:[c.jsx(Xw,{className:"text-muted-foreground",size:16}),"Metadata"]})}),c.jsx(yt,{children:c.jsx("pre",{className:"w-full max-h-[300px] p-4 rounded-lg bg-muted/50 border border-border overflow-auto text-xs font-mono",children:JSON.stringify({id:n.id,request_id:n.request_id,models_used:n.models_used,tokens_in:n.tokens_in,tokens_out:n.tokens_out,created_at:n.created_at,grounding_metadata:n.grounding_metadata,numeric_context:n.numeric_context},null,2)})})]})]})]})]})]})}function mY(){const t=_t(),[e]=qx(),n=e.get("filter"),r=n==="recent",{data:i,isLoading:a,isError:o}=nn({queryKey:["research-list",n],queryFn:async()=>{const u={limit:50};return r&&(u.since=24),(await je.get("/research",{params:u})).data}});return c.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/30",children:[c.jsx(Ar,{}),c.jsxs("main",{className:"container mx-auto px-4 py-6 md:py-8 max-w-[80rem] space-y-6 md:space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-1 md:mb-2",children:[c.jsx(Nc,{className:"w-6 h-6 md:w-8 md:h-8 text-primary"}),c.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"AI Reports"})]}),c.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:r?"Showing reports generated in the last 24 hours.":"Browse all AI-generated research and analysis."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full md:w-auto",children:[c.jsx(pe,{variant:r?"secondary":"outline",onClick:()=>t("/research?filter=recent"),className:"w-full",children:"New (24h)"}),c.jsx(pe,{variant:r?"outline":"secondary",onClick:()=>t("/research"),className:"w-full",children:"All Reports"})]})]}),a?c.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[c.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary mb-4"}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading reports..."})]}):o?c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-destructive",children:[c.jsx(mn,{className:"w-8 h-8 mb-4"}),c.jsx("p",{className:"font-semibold",children:"Failed to load research reports."})]}):i?.data&&i.data.length>0?c.jsx("div",{className:"grid gap-3 md:gap-4",children:i.data.map(u=>c.jsx(xt,{className:"group hover:border-primary/50 transition-all cursor-pointer bg-card/50 hover:bg-card",onClick:()=>t(`/research/${u.id}`),children:c.jsxs(yt,{className:"p-4 flex flex-row items-start md:items-center gap-3 md:gap-4",children:[c.jsx("div",{className:"shrink-0 pt-0.5 md:pt-0",children:u.status==="completed"?c.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-green-500/10 flex items-center justify-center text-green-500",children:c.jsx(n0,{className:"w-4 h-4 md:w-5 md:h-5"})}):u.status==="failed"?c.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-red-500/10 flex items-center justify-center text-red-500",children:c.jsx(mn,{className:"w-4 h-4 md:w-5 md:h-5"})}):c.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-yellow-500/10 flex items-center justify-center text-yellow-500",children:c.jsx(Wt,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"})})}),c.jsxs("div",{className:"flex-1 min-w-0 space-y-1.5 md:space-y-0",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-0.5 md:mb-1",children:[u.tickers.map(h=>c.jsx(Oe,{variant:"outline",className:"font-bold bg-background/50 h-5 px-1.5 text-[10px] md:text-xs md:h-6 md:px-2.5",children:h},h)),u.rarity&&c.jsx(Oe,{className:Fe("text-[10px] px-1.5 py-0 h-4 md:h-5 border uppercase tracking-wider",u.rarity==="Legendary"?"bg-yellow-500/10 text-yellow-500 border-yellow-500/20":u.rarity==="Epic"?"bg-purple-500/10 text-purple-400 border-purple-500/20":u.rarity==="Rare"?"bg-blue-500/10 text-blue-500 border-blue-500/20":u.rarity==="Uncommon"?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-muted text-muted-foreground border-border"),variant:"outline",children:u.rarity})]}),c.jsx("h3",{className:"text-sm md:text-lg font-semibold line-clamp-2 md:truncate group-hover:text-primary transition-colors leading-tight",children:u.title||u.question||"Untitled Research"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1 text-[10px] md:text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Bc,{size:10,className:"md:w-3 md:h-3"}),c.jsx("span",{children:new Date(u.created_at).toLocaleDateString()})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(lh,{size:10,className:"md:w-3 md:h-3"}),c.jsx("span",{children:new Date(u.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),c.jsx("span",{className:"capitalize px-1.5 py-0.5 rounded bg-muted/50 border border-border/50",children:u.status})]})]}),c.jsx("div",{className:"shrink-0 hidden md:block opacity-0 group-hover:opacity-100 transition-opacity translate-x-2 group-hover:translate-x-0 duration-300",children:c.jsx(e0,{className:"text-primary w-5 h-5"})})]})},u.id))}):c.jsxs("div",{className:"text-center py-20 text-muted-foreground bg-muted/10 rounded-lg border border-dashed border-border",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-muted/20 mb-4",children:c.jsx(Nc,{className:"w-6 h-6 opacity-50"})}),c.jsx("h3",{className:"text-lg font-semibold mb-1",children:"No reports found"}),c.jsx("p",{className:"text-sm max-w-sm mx-auto",children:r?"No research reports have been generated in the last 24 hours.":"Start a new analysis to see reports here."}),!r&&c.jsx(pe,{variant:"outline",className:"mt-4",onClick:()=>t("/dashboard"),children:"Go to Dashboard"}),r&&c.jsx(pe,{variant:"outline",className:"mt-4",onClick:()=>t("/research"),children:"View All Reports"})]})]})]})}function pY(){const{data:t,isLoading:e}=nn({queryKey:["news","general"],queryFn:async()=>{const{data:r}=await je.get("/news/general");return r},staleTime:3e5}),n=r=>{if(!r)return"Recently";try{const i=typeof r=="string"?parseFloat(r):r,a=new Date(i>1e10?i:i*1e3);return isNaN(a.getTime())?"Recently":a.toLocaleDateString(void 0,{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Recently"}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(Ar,{}),c.jsx("main",{className:"container max-w-4xl mx-auto px-4 py-6",children:c.jsxs(xt,{className:"border-border/50",children:[c.jsx(Ut,{className:"pb-4 border-b border-border/50",children:c.jsxs(Ht,{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(fi,{className:"w-5 h-5 text-primary"}),"Live Market News"]})}),c.jsx(yt,{className:"p-0",children:e?c.jsxs("div",{className:"flex items-center justify-center py-12 text-muted-foreground",children:[c.jsx(Wt,{className:"w-5 h-5 animate-spin mr-2"}),"Loading news..."]}):!t||t.length===0?c.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No news available at the moment."}):c.jsx("div",{className:"divide-y divide-border/50",children:t.map(r=>c.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"flex gap-4 p-4 hover:bg-muted/30 transition-colors group",children:[(r.image||r.image_url)&&c.jsx("img",{src:r.image||r.image_url,alt:"",className:"w-20 h-16 md:w-28 md:h-20 object-cover rounded-md shrink-0 bg-muted",loading:"lazy",onError:i=>{i.target.style.display="none"}}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground mb-1",children:[c.jsx("span",{className:"font-medium bg-muted/50 px-1.5 py-0.5 rounded",children:r.source}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Bc,{size:10}),n(r.datetime)]})]}),c.jsx("h3",{className:"text-sm font-medium text-foreground group-hover:text-primary transition-colors line-clamp-2",children:r.headline}),c.jsxs("span",{className:"text-[10px] text-primary/80 flex items-center gap-1 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["Read more ",c.jsx(F3,{size:10})]})]})]},r.id))})})]})})]})}function jj({columns:t,data:e,isLoading:n=!1,onRowClick:r,emptyMessage:i="No results found.",defaultSorting:a=[]}){const[o,u]=N.useState(a),h=A0({data:e,columns:t,state:{sorting:o},onSortingChange:u,getCoreRowModel:M0(),getSortedRowModel:yk()});return c.jsx("div",{className:"rounded-md border border-border bg-card overflow-hidden shadow-sm",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full caption-bottom text-sm",children:[c.jsx("thead",{className:"[&_tr]:border-b",children:h.getHeaderGroups().map(f=>c.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:f.headers.map(p=>c.jsx("th",{className:"h-10 px-2 sm:px-4 text-left align-middle font-medium text-muted-foreground hover:text-foreground cursor-pointer select-none whitespace-nowrap",onClick:p.column.getToggleSortingHandler(),children:c.jsxs("div",{className:"flex items-center gap-1",children:[p.isPlaceholder?null:Pl(p.column.columnDef.header,p.getContext()),{asc:c.jsx(t0,{className:"ml-1 h-3 w-3"}),desc:c.jsx(Zx,{className:"ml-1 h-3 w-3"})}[p.column.getIsSorted()]??null]})},p.id))},f.id))}),c.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:n?Array.from({length:5}).map((f,p)=>c.jsx("tr",{className:"border-b",children:t.map((g,x)=>c.jsx("td",{className:"p-4",children:x===0?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(tn,{className:"h-8 w-8 rounded-full"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(tn,{className:"h-4 w-12"}),c.jsx(tn,{className:"h-3 w-20"})]})]}):c.jsx(tn,{className:"h-4 w-full opacity-50"})},x))},p)):h.getRowModel().rows?.length?h.getRowModel().rows.map(f=>c.jsx("tr",{"data-state":f.getIsSelected()&&"selected",className:`group border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted ${r?"cursor-pointer":""}`,onClick:()=>r&&r(f.original),children:f.getVisibleCells().map(p=>c.jsx("td",{className:"p-2 sm:p-4 align-middle whitespace-nowrap",children:Pl(p.column.columnDef.cell,p.getContext())},p.id))},f.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:t.length,className:"h-24 text-center text-muted-foreground",children:i})})})]})})})}const Pd=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),gY=t=>`${t>0?"+":""}${t.toFixed(2)}%`,xY=t=>t?t>=1e12?(t/1e12).toFixed(2)+"T":t>=1e9?(t/1e9).toFixed(2)+"B":(t/1e6).toFixed(2)+"M":"-";function yY({positions:t,onDelete:e,onEdit:n,loading:r}){const i=_t(),a=C0(),o=[a.accessor("symbol",{header:"Asset",cell:u=>{const h=u.row.original.ticker,f=u.row.original.fundamentals,p=u.row.original.counts,g=(p?.research||0)+(p?.news||0)+(p?.social||0)>0;return c.jsxs("div",{className:"flex items-start gap-3 min-w-[140px]",children:[c.jsx(mr,{url:h?.logo_url,symbol:u.getValue(),className:"w-10 h-10 rounded-full"}),c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-base font-bold text-foreground hover:underline cursor-pointer",onClick:x=>{x.stopPropagation(),i(`/ticker/${u.getValue()}`)},children:u.getValue()}),g&&c.jsxs("div",{className:"flex items-center gap-2",children:[p?.research?c.jsxs("div",{className:"flex items-center gap-0.5 text-purple-400",title:`${p.research} Reports`,children:[c.jsx(Nn,{size:10}),c.jsx("span",{className:"text-[9px] font-medium",children:p.research})]}):null,p?.news?c.jsxs("div",{className:"flex items-center gap-0.5 text-sky-400",title:`${p.news} News`,children:[c.jsx(fi,{size:10}),c.jsx("span",{className:"text-[9px] font-medium",children:p.news})]}):null,p?.social?c.jsxs("div",{className:"flex items-center gap-0.5 text-blue-400",title:`${p.social} Social`,children:[c.jsx(Zl,{size:10}),c.jsx("span",{className:"text-[9px] font-medium",children:p.social})]}):null]})]}),c.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[120px]",children:h?.name||"Unknown"}),c.jsx("span",{className:"text-[10px] text-muted-foreground/70 truncate max-w-[120px]",children:h?.industry||h?.sector||f?.sector||"Unknown Sector"})]})]})}}),a.accessor("current_price",{header:"Price / Change",cell:u=>{const h=u.getValue(),f=u.row.original.change_percent||0,p=f>=0;return c.jsxs("div",{className:"flex flex-col items-start min-w-[90px]",children:[c.jsx("span",{className:"text-sm font-mono font-medium text-foreground/90",children:Pd(h)}),c.jsxs("div",{className:Ne("flex items-center text-xs font-bold",p?"text-emerald-500":"text-red-500"),children:[p?c.jsx(Yn,{size:12,className:"mr-0.5"}):c.jsx(Vr,{size:12,className:"mr-0.5"}),Math.abs(f).toFixed(2),"%"]})]})}}),a.accessor("shares",{header:"Position",cell:u=>c.jsxs("div",{className:"flex flex-col min-w-[80px]",children:[c.jsxs("span",{className:"text-sm font-bold",children:[Number(u.getValue()).toFixed(2)," sh"]}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["Avg: ",Pd(Number(u.row.original.buy_price))]})]})}),a.accessor("current_value",{header:()=>c.jsx("span",{className:"hidden md:inline",children:"Value"}),cell:u=>c.jsx("span",{className:"hidden md:inline font-medium text-foreground",children:Pd(u.getValue())})}),a.accessor("gain_loss",{header:()=>c.jsx("span",{className:"hidden md:inline",children:"Total Return"}),cell:u=>{const h=u.getValue(),f=u.row.original.gain_loss_percent,p=h>=0;return c.jsxs("div",{className:Ne("hidden md:flex flex-col items-start font-medium",p?"text-emerald-500":"text-red-500"),children:[c.jsx("div",{className:"flex items-center gap-1",children:c.jsxs("span",{className:"font-mono font-bold text-sm",children:[h>0?"+":"",Pd(h)]})}),c.jsx("span",{className:"text-xs opacity-80",children:gY(f)})]})}}),a.accessor(u=>u.fundamentals?.market_cap,{id:"mkt_cap",header:()=>c.jsx("span",{className:"hidden md:inline",children:"Mkt Cap"}),cell:u=>c.jsx("span",{className:"hidden md:inline text-xs font-mono text-muted-foreground",children:xY(Number(u.getValue()))})}),a.accessor(u=>u.fundamentals?.pe_ttm,{id:"pe",header:()=>c.jsx("span",{className:"hidden md:inline",children:"P/E"}),cell:u=>{const h=u.getValue();return h?c.jsx("span",{className:"hidden md:inline text-xs font-mono text-muted-foreground",children:Number(h).toFixed(2)}):c.jsx("span",{className:"hidden md:inline",children:"-"})}}),a.accessor(u=>u.aiAnalysis?.financial_risk,{id:"risk",header:()=>c.jsx("span",{className:"hidden md:inline",children:"Risk"}),cell:u=>{const h=u.getValue();if(h==null)return c.jsx("span",{className:"hidden md:inline",children:"-"});let f="text-muted-foreground",p=fr;return h<=3.5?(f="text-emerald-500",p=fr):h<=6.5?(f="text-yellow-500",p=mn):(f="text-red-500",p=Jl),c.jsxs("span",{className:Ne("hidden md:flex items-center gap-1.5 font-bold",f),children:[c.jsx(p,{size:14}),Number(h).toFixed(1)]})}}),a.accessor(u=>u.aiAnalysis?.overall_score,{id:"risk_reward",header:()=>c.jsx("span",{className:"hidden md:inline",children:"Risk/Reward"}),cell:u=>{const h=u.getValue();if(!h)return c.jsx("span",{className:"hidden md:inline",children:"-"});let f="text-red-500";return h>=7.5?f="text-emerald-500":h>=5&&(f="text-yellow-500"),c.jsx("span",{className:Ne("hidden md:inline font-bold",f),children:Number(h).toFixed(1)})}}),a.accessor(u=>u.aiAnalysis?.base_price,{id:"upside",header:()=>c.jsx("span",{className:"hidden md:inline",children:"Upside"}),cell:u=>{const h=u.getValue(),f=u.row.original.current_price,p=Sa(f,h,u.row.original.aiAnalysis?.upside_percent),g=p>0;return c.jsxs("div",{className:Ne("hidden md:flex items-center font-bold text-xs",g?"text-emerald-500":"text-muted-foreground"),children:[g&&c.jsx(Yn,{size:12,className:"mr-0.5"}),p.toFixed(1),"%"]})}}),a.accessor(u=>u.aiAnalysis?.financial_risk,{id:"ai_rating",header:()=>c.jsx("span",{className:"hidden md:inline",children:"AI Rating"}),cell:u=>{const h=u.row.original.aiAnalysis?.financial_risk;let f="Hold",p="outline";if(h!==void 0){const g=Number(h),x=u.row.original.current_price,v=Sa(x,u.row.original.aiAnalysis?.base_price,u.row.original.aiAnalysis?.upside_percent),w=u.row.original.aiAnalysis?.overall_score,S=Ra(g,v,w);f=S.rating,p=S.variant}return c.jsxs(Oe,{variant:p,className:"hidden md:flex whitespace-nowrap h-6 px-2 gap-1.5 cursor-default w-fit",children:[c.jsx(Qn,{size:12}),f]})}}),a.display({id:"actions",header:"Actions",cell:u=>c.jsxs("div",{className:"flex items-center gap-1 opacity-20 group-hover:opacity-100 transition-opacity",children:[n&&c.jsx("button",{onClick:h=>{h.stopPropagation(),n(u.row.original)},className:"p-1.5 rounded-md text-muted-foreground hover:text-foreground hover:bg-muted",title:"Edit Position",children:c.jsx(YC,{size:14})}),c.jsx("button",{onClick:h=>{h.stopPropagation(),e(u.row.original.id)},className:"p-1.5 rounded-md text-muted-foreground hover:text-red-400 hover:bg-red-500/10 transition-colors",title:"Delete Position",children:c.jsx(zs,{size:14})})]})})];return r&&t.length===0?c.jsx("div",{className:"w-full mt-6",children:c.jsx(jj,{columns:o,data:[],isLoading:!0})}):t.length===0&&!r?c.jsxs("div",{className:"mt-8 p-12 text-center border border-dashed border-border rounded-xl bg-muted/20",children:[c.jsx("h3",{className:"text-xl font-medium text-foreground",children:"Your portfolio is empty"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Add your first position to start tracking performance and get AI insights."})]}):c.jsx("div",{children:c.jsx(jj,{columns:o,data:t,onRowClick:u=>i(`/ticker/${u.symbol}`)})})}function vY({data:t,isLoading:e,onEdit:n}){const r=_t();if(e)return c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 animate-in fade-in duration-500",children:Array.from({length:8}).map((a,o)=>c.jsxs("div",{className:"h-[200px] border border-border rounded-lg p-4 bg-card/50 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(tn,{className:"h-10 w-10 rounded-full"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(tn,{className:"h-4 w-24"}),c.jsx(tn,{className:"h-3 w-16"})]})]}),c.jsx(tn,{className:"h-8 w-full"}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx(tn,{className:"h-6 w-16"}),c.jsx(tn,{className:"h-6 w-16"})]})]},o))});const i=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a);return c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 animate-in fade-in duration-500",children:t.map(a=>{const o=a.aiAnalysis?.base_price?(Number(a.aiAnalysis.base_price)-a.current_price)/a.current_price*100:Number(a.aiAnalysis?.upside_percent)||0,u=a.gain_loss>=0;return c.jsxs("div",{className:"group relative flex flex-col justify-between rounded-xl border border-border bg-card p-5 transition-all hover:shadow-lg hover:border-primary/50 cursor-pointer",onClick:()=>r(`/ticker/${a.symbol}`),children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(mr,{url:a.ticker?.logo_url,symbol:a.symbol,className:"w-10 h-10 rounded-full border border-border"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-lg leading-none",children:a.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground mt-1 truncate max-w-[120px]",children:a.ticker?.name||"Unknown"})]})]}),(()=>{const h=Number(a.aiAnalysis?.financial_risk??0),f=Number(a.current_price??0),p=Sa(f,a.aiAnalysis?.base_price,a.aiAnalysis?.upside_percent),{rating:g,variant:x}=Ra(h,p,a.aiAnalysis?.overall_score);return c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs(Oe,{variant:x,className:"text-[10px] h-5 gap-1 px-1.5 cursor-default",children:[c.jsx(Qn,{size:10}),g]}),c.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6 -mr-1 text-muted-foreground opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",onClick:v=>{v.stopPropagation(),n(a)},children:c.jsx(YC,{size:12})})]})})()]}),c.jsxs("div",{className:"flex items-end justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Value"}),c.jsx("div",{className:"text-xl font-bold tracking-tight",children:i(a.current_value)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today"}),c.jsxs("div",{className:Ne("font-bold flex items-center justify-end text-sm",a.change_percent>=0?"text-emerald-500":"text-red-500"),children:[a.change_percent>=0?c.jsx(mi,{size:14,className:"mr-1"}):c.jsx(ba,{size:14,className:"mr-1"}),Math.abs(a.change_percent).toFixed(2),"%"]})]})]}),c.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-2 pt-4 border-t border-border/50",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-semibold",children:"Total Return"}),c.jsxs("div",{className:Ne("text-xs font-bold flex items-center",u?"text-emerald-500":"text-red-500"),children:[u?"+":"",a.gain_loss_percent.toFixed(2),"%"]})]}),c.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[c.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-semibold",children:"AI Upside"}),c.jsxs("div",{className:"text-xs font-bold flex items-center text-emerald-500",children:[c.jsx(Yn,{size:12,className:"mr-0.5"}),o.toFixed(1),"%"]})]})]})]},a.id)})})}function Ld({icon:t,label:e,value:n,subValue:r,tone:i="muted"}){const a={primary:"linear-gradient(90deg, #22d3ee, #2563eb)",muted:"linear-gradient(90deg, #a855f7, #6366f1)",accent:"linear-gradient(90deg, #6366f1, #a855f7)",emerald:"linear-gradient(90deg, #22c55e, #14b8a6)",rose:"linear-gradient(90deg, #f472b6, #e11d48)"},o={primary:"text-blue-600 dark:text-blue-400",muted:"text-purple-600 dark:text-purple-300",accent:"text-indigo-600 dark:text-indigo-300",emerald:"text-emerald-600 dark:text-emerald-300",rose:"text-rose-600 dark:text-rose-300"};return c.jsxs("div",{className:Ne("style-kpi relative overflow-hidden rounded-md border px-3 py-2 sm:px-4 sm:py-3"),style:{background:`linear-gradient(rgb(var(--card)), rgb(var(--card))) padding-box, ${a[i]||a.primary} border-box`},children:[c.jsx("div",{className:"style-kpi-grid absolute inset-0 opacity-25 pointer-events-none",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.2) 1px, transparent 1px)",backgroundSize:"18px 18px"},"aria-hidden":!0}),c.jsxs("div",{className:"relative z-10 flex items-start justify-between gap-2 sm:gap-3",children:[c.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[c.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:e}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsx("p",{className:"text-lg sm:text-2xl font-bold text-foreground leading-tight",children:n}),r&&c.jsx("span",{className:"text-xs font-medium",children:r})]})]}),c.jsx(t,{className:Ne("w-4 h-4 sm:w-5 sm:h-5",o[i])})]})]})}function bY({totalValue:t,totalGainLoss:e,totalGainLossPercent:n,positionCount:r,avgRisk:i,onAddPosition:a,onAnalyze:o}){const u=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),h=e>=0;return c.jsxs("section",{className:"style-hero rgb-border relative overflow-hidden rounded-lg border border-border bg-card p-6 sm:p-8",children:[c.jsx("div",{className:"style-hero-grid absolute inset-0 pointer-events-none","aria-hidden":!0}),c.jsx("div",{className:"absolute inset-x-8 bottom-6 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent opacity-70"}),c.jsxs("div",{className:"relative flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between z-10",children:[c.jsx("div",{className:"space-y-4 max-w-3xl",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(XC,{className:"w-10 h-10 text-primary"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"My Portfolio"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track your performance and analyze risk exposure."})]})]})}),c.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[c.jsxs(pe,{onClick:o,variant:"outline",className:"gap-2 border-primary/30 hover:border-primary/60 bg-primary/5",children:[c.jsx(Qn,{size:16,className:"text-primary"}),"AI Analyzer"]}),c.jsxs(pe,{onClick:a,className:"gap-2",children:[c.jsx(ah,{size:16}),"Add Position"]})]})]}),c.jsxs("div",{className:"relative mt-6 grid grid-cols-2 gap-2 sm:gap-4 sm:mt-8 lg:grid-cols-4",children:[c.jsx(Ld,{icon:mi,label:"Total Value",value:u(t),tone:"primary"}),c.jsx(Ld,{icon:h?mi:ba,label:"Total Gain/Loss",value:u(e),subValue:c.jsxs("span",{className:h?"text-emerald-500":"text-red-500",children:[n>0?"+":"",n.toFixed(2),"%"]}),tone:h?"emerald":"rose"}),c.jsx(Ld,{icon:ah,label:"Positions",value:String(r),tone:"muted"}),c.jsx(Ld,{icon:fr,label:"Avg Risk",value:i?i.toFixed(1):"-",tone:"accent"})]})]})}function wY({open:t,onOpenChange:e,onSuccess:n}){const[r,i]=N.useState(""),[a,o]=N.useState(""),[u,h]=N.useState(""),[f,p]=N.useState(new Date().toISOString().split("T")[0]),[g,x]=N.useState(!1),[v,w]=N.useState(null),[S,C]=N.useState([]),[j,E]=N.useState(!1),[_,A]=N.useState(!1),[O,z]=N.useState(-1),F=N.useRef(null);N.useEffect(()=>{t&&(i(""),o(""),h(""),p(new Date().toISOString().split("T")[0]),w(null),C([]),E(!1),z(-1))},[t]),N.useEffect(()=>{const q=setTimeout(async()=>{if(!r.trim()){C([]),E(!1);return}A(!0);try{const{data:J}=await je.get("/tickers",{params:{search:r}});C(J),E(!0)}catch(J){console.error("Search failed",J)}finally{A(!1)}},300);return()=>clearTimeout(q)},[r]),N.useEffect(()=>{function q(J){F.current&&!F.current.contains(J.target)&&E(!1)}return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const P=q=>{i(q.symbol),E(!1)},$=q=>{q.key==="ArrowDown"?(q.preventDefault(),z(J=>J<S.length-1?J+1:J)):q.key==="ArrowUp"?(q.preventDefault(),z(J=>J>0?J-1:-1)):q.key==="Enter"&&j?O>=0&&S[O]?(q.preventDefault(),P(S[O])):S.length>0:q.key==="Escape"&&E(!1)},L=async q=>{q.preventDefault(),x(!0),w(null);try{await je.post("/portfolio/positions",{symbol:r.toUpperCase(),shares:parseFloat(a),buy_price:parseFloat(u),buy_date:f}),n(),e(!1)}catch(J){const de=J instanceof Error?J.message:"Failed to add position";w(de)}finally{x(!1)}};return c.jsxs(gi,{open:t,onOpenChange:e,children:[c.jsx(xi,{children:c.jsxs(yi,{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-1.5 rounded-md bg-primary/10 text-primary",children:c.jsx(Fh,{size:18})}),"Add Position"]})}),c.jsxs("form",{onSubmit:L,className:"space-y-4 mt-4",children:[v&&c.jsx("div",{className:"p-3 bg-red-500/10 text-red-500 text-sm rounded-md border border-red-500/20",children:v}),c.jsxs("div",{className:"space-y-1.5 relative",ref:F,children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Ticker Symbol"}),c.jsxs("div",{className:"relative",children:[c.jsx(Qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),c.jsx(pn,{required:!0,placeholder:"e.g. NVDA",value:r,onChange:q=>i(q.target.value),onKeyDown:$,onFocus:()=>{S.length>0&&E(!0)},className:"pl-9 uppercase placeholder:normal-case font-mono font-bold bg-background"}),_&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c.jsx(Wt,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),j&&S.length>0&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#1c1c1c] border border-border rounded-lg shadow-2xl z-[100] overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:c.jsx("div",{className:"py-1 max-h-[220px] overflow-y-auto custom-scrollbar",children:S.map((q,J)=>c.jsxs("button",{type:"button",className:Fe("w-full flex items-center gap-3 px-3 py-2 text-left transition-colors",J===O?"bg-primary/10 text-primary":"hover:bg-muted/50 text-foreground"),onClick:()=>P(q),onMouseEnter:()=>z(J),children:[c.jsx(mr,{symbol:q.symbol,url:q.logo_url,className:"w-8 h-8 rounded-full border border-border flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-bold text-sm",children:q.symbol}),c.jsx("span",{className:"text-[10px] text-muted-foreground border border-border px-1.5 rounded bg-background/50",children:q.exchange})]}),c.jsx("p",{className:"text-[11px] text-muted-foreground truncate opacity-80 font-sans",children:q.name})]})]},q.symbol))})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Shares"}),c.jsx(pn,{type:"number",step:"any",required:!0,placeholder:"0.00",value:a,onChange:q=>o(q.target.value),className:"bg-background"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Buy Price ($)"}),c.jsx(pn,{type:"number",step:"any",required:!0,placeholder:"0.00",value:u,onChange:q=>h(q.target.value),className:"bg-background"})]})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date Purchased"}),c.jsxs("div",{className:"relative",children:[c.jsx(pn,{type:"date",required:!0,value:f,onChange:q=>p(q.target.value),className:"pl-10 [color-scheme:dark] bg-background"}),c.jsx(Bc,{className:"absolute left-3 top-2.5 text-muted-foreground pointer-events-none",size:16})]})]}),c.jsxs(qc,{className:"pt-2",children:[c.jsx(pe,{variant:"ghost",type:"button",onClick:()=>e(!1),children:"Cancel"}),c.jsx(pe,{type:"submit",disabled:g,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:g?"Adding...":"Confirm"})]})]})]})}function SY(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const NY=t=>{switch(t){case"success":return kY;case"info":return _Y;case"warning":return EY;case"error":return RY;default:return null}},jY=Array(12).fill(0),CY=({visible:t,className:e})=>ye.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ye.createElement("div",{className:"sonner-spinner"},jY.map((n,r)=>ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kY=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EY=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_Y=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RY=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),MY=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AY=()=>{const[t,e]=ye.useState(document.hidden);return ye.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Mx=1;class TY{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Mx++,o=this.toasts.find(h=>h.id===a),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:r}),{...h,...e,id:a,dismissible:u,title:r}):h):this.addToast({title:r,...i,dismissible:u,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const u=i.then(async f=>{if(o=["resolve",f],ye.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(OY(f)&&!f.ok){a=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof g=="object"&&!ye.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:x,...w})}else if(f instanceof Error){a=!1;const g=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,w=typeof g=="object"&&!ye.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:x,...w})}else if(n.success!==void 0){a=!1;const g=typeof n.success=="function"?await n.success(f):n.success,x=typeof n.description=="function"?await n.description(f):n.description,w=typeof g=="object"&&!ye.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:x,...w})}}).catch(async f=>{if(o=["reject",f],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(f):n.error,g=typeof n.description=="function"?await n.description(f):n.description,v=typeof p=="object"&&!ye.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:g,...v})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((f,p)=>u.then(()=>o[0]==="reject"?p(o[1]):f(o[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,n)=>{const r=n?.id||Mx++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vn=new TY,zY=(t,e)=>{const n=e?.id||Mx++;return Vn.addToast({title:t,...e,id:n}),n},OY=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",DY=zY,PY=()=>Vn.toasts,LY=()=>Vn.getActiveToasts(),fa=Object.assign(DY,{success:Vn.success,info:Vn.info,warning:Vn.warning,error:Vn.error,custom:Vn.custom,message:Vn.message,promise:Vn.promise,dismiss:Vn.dismiss,loading:Vn.loading},{getHistory:PY,getToasts:LY});SY("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Fd(t){return t.label!==void 0}const FY=3,BY="24px",IY="16px",Cj=4e3,UY=356,HY=14,VY=45,$Y=200;function si(...t){return t.filter(Boolean).join(" ")}function qY(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const GY=t=>{var e,n,r,i,a,o,u,h,f;const{invert:p,toast:g,unstyled:x,interacting:v,setHeights:w,visibleToasts:S,heights:C,index:j,toasts:E,expanded:_,removeToast:A,defaultRichColors:O,closeButton:z,style:F,cancelButtonStyle:P,actionButtonStyle:$,className:L="",descriptionClassName:q="",duration:J,position:de,gap:se,expandByDefault:te,classNames:B,icons:Y,closeButtonAriaLabel:V="Close toast"}=t,[ge,T]=ye.useState(null),[D,Q]=ye.useState(null),[M,ne]=ye.useState(!1),[ue,H]=ye.useState(!1),[ce,ve]=ye.useState(!1),[Ae,tt]=ye.useState(!1),[dt,Nt]=ye.useState(!1),[Jn,rn]=ye.useState(0),[oe,ke]=ye.useState(0),vt=ye.useRef(g.duration||J||Cj),Zn=ye.useRef(null),Rt=ye.useRef(null),gr=j===0,Wr=j+1<=S,ft=g.type,An=g.dismissible!==!1,Vt=g.className||"",Zi=g.descriptionClassName||"",re=ye.useMemo(()=>C.findIndex(De=>De.toastId===g.id)||0,[C,g.id]),fe=ye.useMemo(()=>{var De;return(De=g.closeButton)!=null?De:z},[g.closeButton,z]),Ee=ye.useMemo(()=>g.duration||J||Cj,[g.duration,J]),Pe=ye.useRef(0),Ve=ye.useRef(0),gn=ye.useRef(0),xn=ye.useRef(null),[sn,Mt]=de.split("-"),an=ye.useMemo(()=>C.reduce((De,bt,Kt)=>Kt>=re?De:De+bt.height,0),[C,re]),nt=AY(),Kr=g.invert||p,kn=ft==="loading";Ve.current=ye.useMemo(()=>re*se+an,[re,an]),ye.useEffect(()=>{vt.current=Ee},[Ee]),ye.useEffect(()=>{ne(!0)},[]),ye.useEffect(()=>{const De=Rt.current;if(De){const bt=De.getBoundingClientRect().height;return ke(bt),w(Kt=>[{toastId:g.id,height:bt,position:g.position},...Kt]),()=>w(Kt=>Kt.filter(yn=>yn.toastId!==g.id))}},[w,g.id]),ye.useLayoutEffect(()=>{if(!M)return;const De=Rt.current,bt=De.style.height;De.style.height="auto";const Kt=De.getBoundingClientRect().height;De.style.height=bt,ke(Kt),w(yn=>yn.find(jt=>jt.toastId===g.id)?yn.map(jt=>jt.toastId===g.id?{...jt,height:Kt}:jt):[{toastId:g.id,height:Kt,position:g.position},...yn])},[M,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const Xr=ye.useCallback(()=>{H(!0),rn(Ve.current),w(De=>De.filter(bt=>bt.toastId!==g.id)),setTimeout(()=>{A(g)},$Y)},[g,A,w,Ve]);ye.useEffect(()=>{if(g.promise&&ft==="loading"||g.duration===1/0||g.type==="loading")return;let De;return _||v||nt?(()=>{if(gn.current<Pe.current){const yn=new Date().getTime()-Pe.current;vt.current=vt.current-yn}gn.current=new Date().getTime()})():(()=>{vt.current!==1/0&&(Pe.current=new Date().getTime(),De=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Xr()},vt.current))})(),()=>clearTimeout(De)},[_,v,g,ft,nt,Xr]),ye.useEffect(()=>{g.delete&&(Xr(),g.onDismiss==null||g.onDismiss.call(g,g))},[Xr,g.delete]);function Ma(){var De;if(Y?.loading){var bt;return ye.createElement("div",{className:si(B?.loader,g==null||(bt=g.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":ft==="loading"},Y.loading)}return ye.createElement(CY,{className:si(B?.loader,g==null||(De=g.classNames)==null?void 0:De.loader),visible:ft==="loading"})}const Aa=g.icon||Y?.[ft]||NY(ft);var Us,Jr;return ye.createElement("li",{tabIndex:0,ref:Rt,className:si(L,Vt,B?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,B?.default,B?.[ft],g==null||(n=g.classNames)==null?void 0:n[ft]),"data-sonner-toast":"","data-rich-colors":(Us=g.richColors)!=null?Us:O,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":M,"data-promise":!!g.promise,"data-swiped":dt,"data-removed":ue,"data-visible":Wr,"data-y-position":sn,"data-x-position":Mt,"data-index":j,"data-front":gr,"data-swiping":ce,"data-dismissible":An,"data-type":ft,"data-invert":Kr,"data-swipe-out":Ae,"data-swipe-direction":D,"data-expanded":!!(_||te&&M),"data-testid":g.testId,style:{"--index":j,"--toasts-before":j,"--z-index":E.length-j,"--offset":`${ue?Jn:Ve.current}px`,"--initial-height":te?"auto":`${oe}px`,...F,...g.style},onDragEnd:()=>{ve(!1),T(null),xn.current=null},onPointerDown:De=>{De.button!==2&&(kn||!An||(Zn.current=new Date,rn(Ve.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(ve(!0),xn.current={x:De.clientX,y:De.clientY})))},onPointerUp:()=>{var De,bt,Kt;if(Ae||!An)return;xn.current=null;const yn=Number(((De=Rt.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),es=Number(((bt=Rt.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jt=new Date().getTime()-((Kt=Zn.current)==null?void 0:Kt.getTime()),Tn=ge==="x"?yn:es,Hs=Math.abs(Tn)/jt;if(Math.abs(Tn)>=VY||Hs>.11){rn(Ve.current),g.onDismiss==null||g.onDismiss.call(g,g),Q(ge==="x"?yn>0?"right":"left":es>0?"down":"up"),Xr(),tt(!0);return}else{var zn,On;(zn=Rt.current)==null||zn.style.setProperty("--swipe-amount-x","0px"),(On=Rt.current)==null||On.style.setProperty("--swipe-amount-y","0px")}Nt(!1),ve(!1),T(null)},onPointerMove:De=>{var bt,Kt,yn;if(!xn.current||!An||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;const jt=De.clientY-xn.current.y,Tn=De.clientX-xn.current.x;var Hs;const zn=(Hs=t.swipeDirections)!=null?Hs:qY(de);!ge&&(Math.abs(Tn)>1||Math.abs(jt)>1)&&T(Math.abs(Tn)>Math.abs(jt)?"x":"y");let On={x:0,y:0};const Ta=Pr=>1/(1.5+Math.abs(Pr)/20);if(ge==="y"){if(zn.includes("top")||zn.includes("bottom"))if(zn.includes("top")&&jt<0||zn.includes("bottom")&&jt>0)On.y=jt;else{const Pr=jt*Ta(jt);On.y=Math.abs(Pr)<Math.abs(jt)?Pr:jt}}else if(ge==="x"&&(zn.includes("left")||zn.includes("right")))if(zn.includes("left")&&Tn<0||zn.includes("right")&&Tn>0)On.x=Tn;else{const Pr=Tn*Ta(Tn);On.x=Math.abs(Pr)<Math.abs(Tn)?Pr:Tn}(Math.abs(On.x)>0||Math.abs(On.y)>0)&&Nt(!0),(Kt=Rt.current)==null||Kt.style.setProperty("--swipe-amount-x",`${On.x}px`),(yn=Rt.current)==null||yn.style.setProperty("--swipe-amount-y",`${On.y}px`)}},fe&&!g.jsx&&ft!=="loading"?ye.createElement("button",{"aria-label":V,"data-disabled":kn,"data-close-button":!0,onClick:kn||!An?()=>{}:()=>{Xr(),g.onDismiss==null||g.onDismiss.call(g,g)},className:si(B?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(Jr=Y?.close)!=null?Jr:MY):null,(ft||g.icon||g.promise)&&g.icon!==null&&(Y?.[ft]!==null||g.icon)?ye.createElement("div",{"data-icon":"",className:si(B?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Ma():null,g.type!=="loading"?Aa:null):null,ye.createElement("div",{"data-content":"",className:si(B?.content,g==null||(a=g.classNames)==null?void 0:a.content)},ye.createElement("div",{"data-title":"",className:si(B?.title,g==null||(o=g.classNames)==null?void 0:o.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ye.createElement("div",{"data-description":"",className:si(q,Zi,B?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),ye.isValidElement(g.cancel)?g.cancel:g.cancel&&Fd(g.cancel)?ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:De=>{Fd(g.cancel)&&An&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,De),Xr())},className:si(B?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,ye.isValidElement(g.action)?g.action:g.action&&Fd(g.action)?ye.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||$,onClick:De=>{Fd(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,De),!De.defaultPrevented&&Xr())},className:si(B?.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function kj(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function YY(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",u=a?IY:BY;function h(f){["top","right","bottom","left"].forEach(p=>{n[`${o}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${o}-${f}`]=u:n[`${o}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):h(u)}),n}const QY=ye.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:u,closeButton:h,className:f,offset:p,mobileOffset:g,theme:x="light",richColors:v,duration:w,style:S,visibleToasts:C=FY,toastOptions:j,dir:E=kj(),gap:_=HY,icons:A,containerAriaLabel:O="Notifications"}=e,[z,F]=ye.useState([]),P=ye.useMemo(()=>r?z.filter(M=>M.toasterId===r):z.filter(M=>!M.toasterId),[z,r]),$=ye.useMemo(()=>Array.from(new Set([a].concat(P.filter(M=>M.position).map(M=>M.position)))),[P,a]),[L,q]=ye.useState([]),[J,de]=ye.useState(!1),[se,te]=ye.useState(!1),[B,Y]=ye.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=ye.useRef(null),ge=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=ye.useRef(null),D=ye.useRef(!1),Q=ye.useCallback(M=>{F(ne=>{var ue;return(ue=ne.find(H=>H.id===M.id))!=null&&ue.delete||Vn.dismiss(M.id),ne.filter(({id:H})=>H!==M.id)})},[]);return ye.useEffect(()=>Vn.subscribe(M=>{if(M.dismiss){requestAnimationFrame(()=>{F(ne=>ne.map(ue=>ue.id===M.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{nC.flushSync(()=>{F(ne=>{const ue=ne.findIndex(H=>H.id===M.id);return ue!==-1?[...ne.slice(0,ue),{...ne[ue],...M},...ne.slice(ue+1)]:[M,...ne]})})})}),[z]),ye.useEffect(()=>{if(x!=="system"){Y(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;const M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:ne})=>{Y(ne?"dark":"light")})}catch{M.addListener(({matches:ue})=>{try{Y(ue?"dark":"light")}catch(H){console.error(H)}})}},[x]),ye.useEffect(()=>{z.length<=1&&de(!1)},[z]),ye.useEffect(()=>{const M=ne=>{var ue;if(o.every(ve=>ne[ve]||ne.code===ve)){var ce;de(!0),(ce=V.current)==null||ce.focus()}ne.code==="Escape"&&(document.activeElement===V.current||(ue=V.current)!=null&&ue.contains(document.activeElement))&&de(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[o]),ye.useEffect(()=>{if(V.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,D.current=!1)}},[V.current]),ye.createElement("section",{ref:n,"aria-label":`${O} ${ge}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((M,ne)=>{var ue;const[H,ce]=M.split("-");return P.length?ye.createElement("ol",{key:M,dir:E==="auto"?kj():E,tabIndex:-1,ref:V,className:f,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":H,"data-x-position":ce,style:{"--front-toast-height":`${((ue=L[0])==null?void 0:ue.height)||0}px`,"--width":`${UY}px`,"--gap":`${_}px`,...S,...YY(p,g)},onBlur:ve=>{D.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(D.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||D.current||(D.current=!0,T.current=ve.relatedTarget)},onMouseEnter:()=>de(!0),onMouseMove:()=>de(!0),onMouseLeave:()=>{se||de(!1)},onDragEnd:()=>de(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},P.filter(ve=>!ve.position&&ne===0||ve.position===M).map((ve,Ae)=>{var tt,dt;return ye.createElement(GY,{key:ve.id,icons:A,index:Ae,toast:ve,defaultRichColors:v,duration:(tt=j?.duration)!=null?tt:w,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:i,visibleToasts:C,closeButton:(dt=j?.closeButton)!=null?dt:h,interacting:se,position:M,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:Q,toasts:P.filter(Nt=>Nt.position==ve.position),heights:L.filter(Nt=>Nt.position==ve.position),setHeights:q,expandByDefault:u,gap:_,expanded:J,swipeDirections:e.swipeDirections})})):null}))});function WY({open:t,onOpenChange:e,position:n,onSuccess:r}){const[i,a]=N.useState(!1),[o,u]=N.useState(""),[h,f]=N.useState(""),[p,g]=N.useState(""),[x,v]=N.useState(!1);N.useEffect(()=>{n&&t&&(a(!1),u(String(n.shares)),f(String(n.buy_price)),g(n.buy_date?new Date(n.buy_date).toISOString().split("T")[0]:""))},[n,t]);const w=async C=>{C.preventDefault(),v(!0);try{await je.patch(`/portfolio/positions/${n.id}`,{shares:parseFloat(o),buy_price:parseFloat(h),buy_date:p}),fa.success("Position modified successfully"),r(),e(!1)}catch{fa.error("Failed to modify position")}finally{v(!1)}},S=async()=>{v(!0);try{await je.delete(`/portfolio/positions/${n.id}`),fa.success("Position removed"),r(),e(!1)}catch{fa.error("Failed to remove position")}finally{v(!1)}};return i?c.jsxs(gi,{open:t,onOpenChange:e,className:"sm:max-w-[425px]",children:[c.jsxs(xi,{children:[c.jsxs(yi,{className:"flex items-center gap-2 text-red-500",children:[c.jsx(mn,{size:20}),"Delete Position?"]}),c.jsxs(Rc,{children:["Are you sure you want to remove ",c.jsx("strong",{children:n?.symbol})," from your portfolio? This action cannot be undone."]})]}),c.jsxs(qc,{className:"gap-2 sm:gap-0",children:[c.jsx(pe,{variant:"ghost",onClick:()=>a(!1),children:"Cancel"}),c.jsx(pe,{variant:"destructive",onClick:S,disabled:x,children:x?"Deleting...":"Delete"})]})]}):c.jsxs(gi,{open:t,onOpenChange:e,className:"sm:max-w-[425px] bg-card text-foreground border-border",children:[c.jsx(xi,{children:c.jsxs(yi,{children:["Manage Position: ",n?.symbol]})}),c.jsxs("form",{onSubmit:w,className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(gt,{className:"text-right",children:"Shares"}),c.jsx(pn,{type:"number",step:"any",required:!0,value:o,onChange:C=>u(C.target.value),className:"col-span-3 bg-background"})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(gt,{className:"text-right",children:"Avg Price"}),c.jsx(pn,{type:"number",step:"any",required:!0,value:h,onChange:C=>f(C.target.value),className:"col-span-3 bg-background"})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(gt,{className:"text-right",children:"Buy Date"}),c.jsx(pn,{type:"date",value:p,onChange:C=>g(C.target.value),className:"col-span-3 bg-background"})]}),c.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-border/50",children:[c.jsxs(pe,{type:"button",variant:"destructive",size:"sm",className:"opacity-90 hover:opacity-100",onClick:()=>a(!0),children:[c.jsx(zs,{size:14,className:"mr-1.5"}),"Delete"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(pe,{type:"button",variant:"ghost",onClick:()=>e(!1),children:"Cancel"}),c.jsx(pe,{type:"submit",disabled:x,children:x?"Saving...":c.jsxs(c.Fragment,{children:[c.jsx(WC,{size:14,className:"mr-1.5"}),"Save"]})})]})]})]})]})}const A_=N.createContext(void 0),uc=N.forwardRef(({className:t,value:e,onValueChange:n,children:r,...i},a)=>c.jsx(A_.Provider,{value:{value:e,onValueChange:n},children:c.jsx("div",{className:Ne("grid gap-2",t),...i,ref:a,children:r})}));uc.displayName="RadioGroup";const _n=N.forwardRef(({className:t,value:e,onClick:n,...r},i)=>{const a=N.useContext(A_),o=a?.value===e,u=h=>{a?.onValueChange?.(e),n?.(h)};return c.jsx("button",{type:"button",role:"radio","aria-checked":o,"data-state":o?"checked":"unchecked",className:Ne("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),onClick:u,...r,ref:i})});_n.displayName="RadioGroupItem";function KY({open:t,onOpenChange:e}){const[n,r]=N.useState("survey"),[i,a]=N.useState("medium"),[o,u]=N.useState("medium-term"),[h,f]=N.useState("growth"),[p,g]=N.useState("gemini-2.5-flash-lite"),[x,v]=N.useState(""),[w,S]=N.useState([]),[C,j]=N.useState(!1),E=async()=>{j(!0);try{const{data:O}=await je.get("/portfolio/analyses");S(O)}catch(O){console.error("Failed to fetch history",O)}finally{j(!1)}},_=async()=>{r("analyzing");try{const{data:O}=await je.post("/portfolio/analyze",{riskAppetite:i,horizon:o,goal:h,model:p});v(O),r("result")}catch(O){const z=O?.response?.data?.message||"Failed to generate AI analysis";fa.error(z),r("survey")}},A=()=>{r("survey"),v("")};return c.jsxs(gi,{open:t,onOpenChange:e,className:"sm:max-w-[600px] max-h-[90vh] overflow-hidden flex flex-col bg-card border-border",children:[c.jsx(xi,{className:"pb-4 border-b border-border/50",children:c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsxs(yi,{className:"flex items-center gap-2 text-xl",children:[c.jsx(Qn,{className:"text-primary",size:24}),"AI Portfolio Analyzer"]}),c.jsx(pe,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-primary transition-colors",onClick:()=>{n==="history"?r("survey"):(r("history"),E())},children:n==="history"?c.jsxs(c.Fragment,{children:[c.jsx(Gd,{size:16}),"New Analysis"]}):c.jsxs(c.Fragment,{children:[c.jsx(jc,{size:16}),"History"]})})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto py-6",children:[n==="survey"&&c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Fine-tune your analysis"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Answer a few questions to help the AI understand your strategy."})]}),c.jsxs("div",{className:"space-y-6 px-1",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[c.jsx(Nn,{size:16,className:"text-purple-400"}),"What is your risk appetite?"]}),c.jsxs(uc,{value:i,onValueChange:a,className:"grid grid-cols-3 gap-3",children:[c.jsxs(gt,{className:Ne("flex flex-col items-center justify-between rounded-lg border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer transition-all",i==="low"&&"border-primary bg-primary/5"),children:[c.jsx(_n,{value:"low",className:"sr-only"}),c.jsx("span",{className:"text-xs font-bold uppercase mb-1",children:"Low"}),c.jsx("span",{className:"text-[10px] text-muted-foreground text-center",children:"Conservative & Stable"})]}),c.jsxs(gt,{className:Ne("flex flex-col items-center justify-between rounded-lg border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer transition-all",i==="medium"&&"border-primary bg-primary/5"),children:[c.jsx(_n,{value:"medium",className:"sr-only"}),c.jsx("span",{className:"text-xs font-bold uppercase mb-1",children:"Medium"}),c.jsx("span",{className:"text-[10px] text-muted-foreground text-center",children:"Balanced Yield"})]}),c.jsxs(gt,{className:Ne("flex flex-col items-center justify-between rounded-lg border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer transition-all",i==="high"&&"border-primary bg-primary/5"),children:[c.jsx(_n,{value:"high",className:"sr-only"}),c.jsx("span",{className:"text-xs font-bold uppercase mb-1",children:"High"}),c.jsx("span",{className:"text-[10px] text-muted-foreground text-center",children:"Aggressive Growth"})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[c.jsx(lh,{size:16,className:"text-sky-400"}),"What is your investment horizon?"]}),c.jsxs(uc,{value:o,onValueChange:u,className:"grid grid-cols-3 gap-3",children:[c.jsxs(gt,{className:Ne("flex flex-col items-center justify-between rounded-lg border border-border p-3 cursor-pointer hover:bg-muted/50 transition-colors text-center",o==="short-term"&&"bg-primary/10 border-primary"),children:[c.jsx(_n,{value:"short-term",className:"sr-only"}),c.jsx("span",{className:"text-xs font-medium",children:"Short Term"}),c.jsx("span",{className:"text-[9px] text-muted-foreground mt-1",children:"< 1 Year"})]}),c.jsxs(gt,{className:Ne("flex flex-col items-center justify-between rounded-lg border border-border p-3 cursor-pointer hover:bg-muted/50 transition-colors text-center",o==="medium-term"&&"bg-primary/10 border-primary"),children:[c.jsx(_n,{value:"medium-term",className:"sr-only"}),c.jsx("span",{className:"text-xs font-medium",children:"Medium Term"}),c.jsx("span",{className:"text-[9px] text-muted-foreground mt-1",children:"1-5 Years"})]}),c.jsxs(gt,{className:Ne("flex flex-col items-center justify-between rounded-lg border border-border p-3 cursor-pointer hover:bg-muted/50 transition-colors text-center",o==="long-term"&&"bg-primary/10 border-primary"),children:[c.jsx(_n,{value:"long-term",className:"sr-only"}),c.jsx("span",{className:"text-xs font-medium",children:"Long Term"}),c.jsx("span",{className:"text-[9px] text-muted-foreground mt-1",children:"5+ Years"})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[c.jsx(LO,{size:16,className:"text-emerald-400"}),"What is your primary goal?"]}),c.jsxs(uc,{value:h,onValueChange:f,className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[c.jsxs(gt,{className:Ne("flex items-center gap-3 rounded-lg border border-border p-3 cursor-pointer hover:bg-muted/50 transition-colors",h==="growth"&&"bg-primary/10 border-primary"),children:[c.jsx(_n,{value:"growth",className:"sr-only"}),c.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs font-medium",children:"Growth"}),c.jsx("span",{className:"text-[9px] text-muted-foreground",children:"Total return"})]})]}),c.jsxs(gt,{className:Ne("flex items-center gap-3 rounded-lg border border-border p-3 cursor-pointer hover:bg-muted/50 transition-colors",h==="income"&&"bg-primary/10 border-primary"),children:[c.jsx(_n,{value:"income",className:"sr-only"}),c.jsx("div",{className:"h-2 w-2 rounded-full bg-sky-500"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs font-medium",children:"Income"}),c.jsx("span",{className:"text-[9px] text-muted-foreground",children:"Dividends"})]})]}),c.jsxs(gt,{className:Ne("flex items-center gap-3 rounded-lg border border-border p-3 cursor-pointer hover:bg-muted/50 transition-colors",h==="trading"&&"bg-primary/10 border-primary"),children:[c.jsx(_n,{value:"trading",className:"sr-only"}),c.jsx("div",{className:"h-2 w-2 rounded-full bg-orange-500"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs font-medium",children:"Trading"}),c.jsx("span",{className:"text-[9px] text-muted-foreground",children:"Momentum"})]})]})]})]}),c.jsxs("div",{className:"space-y-4 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[c.jsx(Gd,{size:16,className:"text-amber-400"}),"Select AI Model"]}),c.jsxs(uc,{value:p,onValueChange:g,className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs(gt,{className:Ne("group relative flex flex-col gap-2 rounded-xl border-2 border-border p-4 cursor-pointer hover:border-primary/50 hover:bg-muted/30 transition-all",p==="gemini-2.5-flash-lite"&&"border-primary bg-primary/5 shadow-[0_0_15px_rgba(59,130,246,0.1)]"),children:[c.jsx(_n,{value:"gemini-2.5-flash-lite",className:"sr-only"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-sm font-bold tracking-tight",children:"Gemini 2.5 Flash Lite"}),c.jsx("span",{className:"text-[10px] text-muted-foreground leading-tight",children:"Ultra-fast for quick, concise summaries."})]}),p==="gemini-2.5-flash-lite"&&c.jsx("div",{className:"h-2 w-2 rounded-full bg-primary animate-pulse"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal",children:[c.jsx(Rs,{size:8})," 3s"]}),c.jsx(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal text-amber-500 bg-amber-500/10 border-amber-500/20",children:" 1 Credit"})]})]}),c.jsxs(gt,{className:Ne("group relative flex flex-col gap-2 rounded-xl border-2 border-border p-4 cursor-pointer hover:border-primary/50 hover:bg-muted/30 transition-all",p==="gemini-3-flash-preview"&&"border-primary bg-primary/5 shadow-[0_0_15px_rgba(59,130,246,0.1)]"),children:[c.jsx(_n,{value:"gemini-3-flash-preview",className:"sr-only"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-sm font-bold tracking-tight",children:"Gemini 3 Flash"}),c.jsx("span",{className:"text-[10px] text-muted-foreground leading-tight",children:"Next-gen intelligence for regular updates."})]}),p==="gemini-3-flash-preview"&&c.jsx("div",{className:"h-2 w-2 rounded-full bg-primary animate-pulse"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal",children:[c.jsx(Rs,{size:8})," 6s"]}),c.jsx(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal text-amber-500 bg-amber-500/10 border-amber-500/20",children:" 2 Credits"})]})]}),c.jsxs(gt,{className:Ne("group relative flex flex-col gap-2 rounded-xl border-2 border-border p-4 cursor-pointer hover:border-primary/50 hover:bg-muted/30 transition-all",p==="gpt-4.1-mini"&&"border-primary bg-primary/5 shadow-[0_0_15px_rgba(59,130,246,0.1)]"),children:[c.jsx(_n,{value:"gpt-4.1-mini",className:"sr-only"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-sm font-bold tracking-tight",children:"GPT-4.1 Mini"}),c.jsx("span",{className:"text-[10px] text-muted-foreground leading-tight",children:"Balanced speed vs. thoroughness."})]}),p==="gpt-4.1-mini"&&c.jsx("div",{className:"h-2 w-2 rounded-full bg-primary animate-pulse"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal",children:[c.jsx(Rs,{size:8})," 11s"]}),c.jsx(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal text-amber-500 bg-amber-500/10 border-amber-500/20",children:" 1 Credit"})]})]}),c.jsxs(gt,{className:Ne("group relative flex flex-col gap-2 rounded-xl border-2 border-border p-4 cursor-pointer hover:border-primary/50 hover:bg-muted/30 transition-all",p==="gemini-3-pro-preview"&&"border-primary bg-primary/5 shadow-[0_0_15px_rgba(59,130,246,0.1)]"),children:[c.jsx(_n,{value:"gemini-3-pro-preview",className:"sr-only"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"text-sm font-bold tracking-tight",children:"Gemini 3 Pro"}),c.jsx(Oe,{variant:"default",className:"h-4 px-1 text-[9px] bg-purple-600 hover:bg-purple-700 border-purple-500/50 text-white shadow-purple-500/20",children:"PRO"})]}),c.jsx("span",{className:"text-[10px] text-muted-foreground leading-tight",children:"Optimal for complex reasoning tasks."})]}),p==="gemini-3-pro-preview"&&c.jsx("div",{className:"h-2 w-2 rounded-full bg-primary animate-pulse"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal",children:[c.jsx(Rs,{size:8})," 18s"]}),c.jsx(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal text-amber-500 bg-amber-500/10 border-amber-500/20",children:" 5 Credits"})]})]}),c.jsxs(gt,{className:Ne("group relative flex flex-col gap-2 rounded-xl border-2 border-border p-4 cursor-pointer hover:border-primary/50 hover:bg-muted/30 transition-all",p==="gpt-5.1"&&"border-primary bg-primary/5 shadow-[0_0_15px_rgba(59,130,246,0.1)]"),children:[c.jsx(_n,{value:"gpt-5.1",className:"sr-only"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"text-sm font-bold tracking-tight",children:"GPT-5.1"}),c.jsx(Oe,{variant:"default",className:"h-4 px-1 text-[9px] bg-purple-600 hover:bg-purple-700 border-purple-500/50 text-white shadow-purple-500/20",children:"PRO"})]}),c.jsx("span",{className:"text-[10px] text-muted-foreground leading-tight",children:"OpenAI flagship for detailed thesis."})]}),p==="gpt-5.1"&&c.jsx("div",{className:"h-2 w-2 rounded-full bg-primary animate-pulse"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal",children:[c.jsx(Rs,{size:8})," 18s"]}),c.jsx(Oe,{variant:"secondary",className:"text-[9px] h-4 px-1 gap-0.5 font-normal text-amber-500 bg-amber-500/10 border-amber-500/20",children:" 5 Credits"})]})]})]})]})]})]}),n==="analyzing"&&c.jsxs("div",{className:"h-64 flex flex-col items-center justify-center space-y-6 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-violet-600/20 rounded-full blur-xl animate-pulse"}),c.jsx("div",{className:"relative bg-background border-2 border-violet-500/50 p-6 rounded-full animate-bounce duration-1000 shadow-[0_0_30px_rgba(124,58,237,0.3)]",children:c.jsx(Qn,{size:48,className:"text-violet-500"})}),c.jsx("div",{className:"absolute -top-2 -right-2",children:c.jsx(Gd,{size:24,className:"text-fuchsia-400 animate-spin-slow"})})]}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h3",{className:"text-xl font-bold tracking-tight",children:"AI is analyzing your holdings..."}),c.jsxs("div",{className:"flex items-center justify-center gap-1.5 overflow-hidden",children:[c.jsx("div",{className:"h-1 w-1 bg-violet-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),c.jsx("div",{className:"h-1 w-1 bg-fuchsia-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),c.jsx("div",{className:"h-1 w-1 bg-violet-500 rounded-full animate-bounce"})]}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-[280px]",children:"Checking diversification, risk scores, and sector overexposure."})]})]}),n==="result"&&c.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 prose prose-invert prose-sm max-w-none px-2",children:c.jsx(w0,{components:{h1:({...O})=>c.jsx("h1",{className:"text-primary font-bold text-lg mb-2",...O}),h2:({...O})=>c.jsx("h2",{className:"text-foreground font-bold text-base mt-4 mb-2 flex items-center gap-2",...O}),li:({...O})=>c.jsx("li",{className:"text-muted-foreground leading-relaxed",...O}),strong:({...O})=>c.jsx("strong",{className:"text-foreground font-semibold",...O})},children:x})}),n==="history"&&c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300 px-1",children:[c.jsxs("div",{className:"text-center space-y-2 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Previous Insights"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Review your past portfolio strategy sessions."})]}),C?c.jsx("div",{className:"space-y-4",children:[1,2,3].map(O=>c.jsx("div",{className:"h-24 bg-muted/30 rounded-xl animate-pulse border border-border/50"},O))}):w.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-4",children:[c.jsx("div",{className:"bg-muted/50 p-4 rounded-full",children:c.jsx(jc,{size:32,className:"text-muted-foreground"})}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"No historical analyses found."})]}):c.jsx("div",{className:"space-y-3",children:w.map(O=>c.jsxs("div",{className:"group p-4 bg-muted/20 border border-border rounded-xl hover:bg-muted/40 hover:border-primary/50 transition-all cursor-pointer",onClick:()=>{v(O.response),r("result")},children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx(lh,{size:12}),new Date(O.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(","," ")]}),c.jsxs("div",{className:"text-sm font-bold flex items-center gap-1.5 capitalize",children:[O.goal," Focused Strategy"]})]}),c.jsx(Lh,{size:16,className:"text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs(Oe,{variant:"outline",className:"text-[9px] h-4 px-1 capitalize border-purple-500/20 text-purple-400",children:[O.riskAppetite," Risk"]}),c.jsx(Oe,{variant:"outline",className:"text-[9px] h-4 px-1 capitalize border-sky-500/20 text-sky-400",children:O.horizon.replace("-"," ")}),c.jsx(Oe,{variant:"outline",className:"text-[9px] h-4 px-1 capitalize border-amber-500/20 text-amber-500",children:O.model})]})]},O.id))})]})]}),c.jsxs(qc,{className:"pt-4 border-t border-border/50",children:[n==="survey"&&c.jsxs(pe,{className:"w-full gap-2 text-base h-11",onClick:_,children:["Analyze Portfolio",c.jsx(e0,{size:18})]}),n==="result"&&c.jsxs("div",{className:"flex gap-2 w-full",children:[c.jsxs(pe,{variant:"outline",className:"flex-1 gap-2",onClick:A,children:[c.jsx(xO,{size:16}),"Analyze Again"]}),c.jsx(pe,{className:"flex-1",onClick:()=>e(!1),children:"Done"})]})]})]})}function XY(){const[t,e]=N.useState(!1),[n,r]=N.useState(!1),[i,a]=N.useState(!1),[o,u]=N.useState(null),[h,f]=N.useState("table"),[p,g]=N.useState(""),[x,v]=N.useState({risk:[],aiRating:[],upside:null,sector:[],overallScore:null}),{data:w=[],isLoading:S,refetch:C}=nn({queryKey:["portfolio"],queryFn:async()=>{const{data:A}=await je.get("/portfolio/positions");return A}}),j=N.useMemo(()=>{let A=0,O=0,z=0,F=0,P=0;w.forEach(q=>{A+=q.current_value,z+=q.cost_basis;const J=q.aiAnalysis?.financial_risk;typeof J=="number"&&(F+=J,P++)}),O=A-z;const $=z>0?O/z*100:0,L=P>0?F/P:null;return{totalValue:A,totalGain:O,totalGainPct:$,count:w.length,avgRisk:L}},[w]),E=N.useMemo(()=>w.filter(A=>{if(!(!p||A.symbol.includes(p.toUpperCase())||A.ticker?.name?.toLowerCase().includes(p.toLowerCase())))return!1;if(x.risk.length>0){const z=Number(A.aiAnalysis?.financial_risk||0);if(!x.risk.some(P=>P.includes("Low")?z<=3.5:P.includes("Medium")?z>3.5&&z<=6.5:P.includes("High")?z>6.5:!1))return!1}if(x.aiRating.length>0){const z=Number(A.aiAnalysis?.financial_risk||0),F=Number(A.aiAnalysis?.upside_percent||0),P=A.aiAnalysis?.overall_score,{rating:$}=Ra(z,F,P);if(!x.aiRating.includes($))return!1}if(x.sector.length>0){const z=A.ticker?.sector||A.fundamentals?.sector;if(!z||!x.sector.includes(z))return!1}if(x.upside){const z=parseInt(x.upside.replace(/[^0-9]/g,""));let P=Number(A.aiAnalysis?.upside_percent||0);if(typeof A.aiAnalysis?.base_price=="number"&&A.current_price>0&&(P=(A.aiAnalysis.base_price-A.current_price)/A.current_price*100),P<=z)return!1}if(x.overallScore){const z=parseFloat(x.overallScore.replace(/[^0-9.]/g,""));if(Number(A.aiAnalysis?.overall_score||0)<=z)return!1}return!0}),[w,p,x]),_=async A=>{if(confirm("Are you sure you want to delete this position?"))try{await je.delete(`/portfolio/positions/${A}`),fa.success("Position removed"),C()}catch{fa.error("Failed to remove position")}};return c.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/30",children:[c.jsx(Ar,{}),c.jsx(QY,{position:"top-right",theme:"dark"}),c.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-[90rem] space-y-4 sm:space-y-5 animate-in fade-in duration-500",children:[c.jsx(bY,{totalValue:j.totalValue,totalGainLoss:j.totalGain,totalGainLossPercent:j.totalGainPct,positionCount:j.count,avgRisk:j.avgRisk,onAddPosition:()=>e(!0),onAnalyze:()=>r(!0)}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(wE,{filters:x,onFilterChange:(A,O)=>v(z=>({...z,[A]:O})),onReset:()=>v({risk:[],aiRating:[],upside:null,sector:[],overallScore:null})}),c.jsxs("div",{className:"flex flex-row items-center justify-between gap-3",children:[c.jsxs("div",{className:"relative flex-1 sm:max-w-md",children:[c.jsx(Qi,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{placeholder:"Search symbols or names...",value:p,onChange:A=>g(A.target.value),className:"pl-9 h-10 w-full rounded-md border border-input bg-background/50 px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"})]}),c.jsx("div",{className:"flex items-center justify-end gap-2",children:c.jsxs("div",{className:"flex items-center space-x-1 border border-border rounded-md p-1 bg-card h-10",children:[c.jsx("button",{onClick:()=>f("table"),className:`p-1.5 rounded transition-colors ${h==="table"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,title:"Table View",children:c.jsx(i0,{size:16})}),c.jsx("button",{onClick:()=>f("grid"),className:`p-1.5 rounded transition-colors ${h==="grid"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,title:"Grid View",children:c.jsx(r0,{size:16})})]})})]})]}),h==="table"?c.jsx("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:c.jsx(yY,{positions:E,loading:S,onDelete:_,onEdit:A=>u(A)})}):c.jsx(vY,{data:E,isLoading:S,onEdit:A=>u(A)})]}),c.jsx(wY,{open:t,onOpenChange:e,onSuccess:C}),c.jsx(KY,{open:n,onOpenChange:r}),o&&c.jsx(WY,{open:!!o,onOpenChange:A=>!A&&u(null),position:o,onSuccess:()=>{u(null),C()}}),c.jsxs("div",{className:"sm:hidden fixed bottom-6 right-6 flex flex-col items-end gap-4 z-[9999]",children:[i&&c.jsxs("div",{className:"flex flex-col items-end gap-4 mb-2 animate-in fade-in slide-in-from-bottom-6 duration-300",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"bg-background/90 backdrop-blur-md px-3 py-1.5 rounded-full text-xs font-bold shadow-lg border border-blue-500/20 text-blue-400",children:"Add Position"}),c.jsx(pe,{onClick:()=>{e(!0),a(!1)},className:"h-14 w-14 rounded-full shadow-[0_8px_30px_rgb(59,130,246,0.3)] flex items-center justify-center p-0 bg-primary hover:bg-primary/90 text-primary-foreground",children:c.jsx(ah,{size:24})})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"bg-background/90 backdrop-blur-md px-3 py-1.5 rounded-full text-xs font-bold shadow-lg border border-purple-500/20 text-purple-400",children:"AI Analysis"}),c.jsx(pe,{onClick:()=>{r(!0),a(!1)},className:"h-14 w-14 rounded-full shadow-[0_8px_30px_rgb(168,85,247,0.4)] bg-gradient-to-r from-violet-600 to-fuchsia-600 border-0 flex items-center justify-center p-0 transition-all active:scale-90",children:c.jsx(Qn,{size:26,className:"text-white"})})]})]}),c.jsx(pe,{onClick:()=>a(!i),className:Ne("rounded-full flex items-center justify-center p-0 transition-all duration-300",i?"h-12 w-12 rotate-90 bg-slate-800 hover:bg-slate-700 shadow-none mr-2":"h-16 w-16 shadow-[0_12px_40px_rgb(168,85,247,0.4)] hover:scale-110 active:scale-95 bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white"),children:i?c.jsx(Ea,{size:24}):c.jsx(Fh,{size:32})})]})]})}function _r({children:t}){const{user:e,loading:n}=Or();return n?c.jsx("div",{className:"min-h-screen bg-[#09090b] flex items-center justify-center text-blue-500",children:"Loading NeuralTicker..."}):e?c.jsx(c.Fragment,{children:t}):c.jsx(Hx,{to:"/login",replace:!0})}function JY(){return c.jsx(pT,{children:c.jsxs(Uz,{children:[c.jsx(ZY,{}),c.jsx(ZO,{children:c.jsxs(qA,{children:[c.jsx(Zt,{path:"/login",element:c.jsx(nD,{})}),c.jsx(Zt,{path:"/",element:c.jsx(_r,{children:c.jsx(qS,{})})}),c.jsx(Zt,{path:"/dashboard",element:c.jsx(_r,{children:c.jsx(fh,{children:c.jsx(qS,{})})})}),c.jsx(Zt,{path:"/ticker/:symbol/:tab?",element:c.jsx(_r,{children:c.jsx(aY,{})})}),c.jsx(Zt,{path:"/research/:id",element:c.jsx(_r,{children:c.jsx(fY,{})})}),c.jsx(Zt,{path:"/research",element:c.jsx(_r,{children:c.jsx(mY,{})})}),c.jsx(Zt,{path:"/dashboard/ticker/:symbol",element:c.jsx(Hx,{to:"/ticker/:symbol",replace:!0})}),c.jsx(Zt,{path:"/profile",element:c.jsx(_r,{children:c.jsx(SN,{})})}),c.jsx(Zt,{path:"/profile",element:c.jsx(_r,{children:c.jsx(SN,{})})}),c.jsx(Zt,{path:"/portfolio",element:c.jsx(_r,{children:c.jsx(XY,{})})}),c.jsx(Zt,{path:"/watchlist",element:c.jsx(_r,{children:c.jsx(XS,{})})}),c.jsx(Zt,{path:"/watchlist",element:c.jsx(_r,{children:c.jsx(XS,{})})}),c.jsx(Zt,{path:"/analyzer",element:c.jsx(_r,{children:c.jsx(DV,{})})}),c.jsx(Zt,{path:"/news",element:c.jsx(_r,{children:c.jsx(pY,{})})}),c.jsx(Zt,{path:"/admin",element:c.jsx($V,{children:c.jsx(fh,{children:c.jsx(VV,{})})})}),c.jsx(Zt,{path:"/access-denied",element:c.jsx(UV,{})}),c.jsx(Zt,{path:"/oauth-callback",element:c.jsx(eQ,{})})]})})]})})}function ZY(){const{user:t}=Or();return N.useEffect(()=>{let e=t?.theme||"dark";e.startsWith("g")&&(e="dark"),["light","dark","rgb"].includes(e)||(e="dark"),document.documentElement.setAttribute("data-theme",e),document.documentElement.classList.remove("theme-light","theme-dark","theme-rgb"),document.documentElement.classList.add(`theme-${e}`),e==="rgb"||e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const n=document.querySelector('meta[name="theme-color"]');n&&n.setAttribute("content",e==="light"?"#ffffff":"#09090b")},[t?.theme]),null}function eQ(){const{refreshSession:t}=Or(),e=_t();return N.useEffect(()=>{(async()=>{const i=new URLSearchParams(window.location.search).get("token");i&&(console.log("OAuth Header Fallback Active"),pa.defaults.headers.common.Authorization=`Bearer ${i}`,je.defaults.headers.common.Authorization=`Bearer ${i}`),await t(),e("/")})()},[t,e]),c.jsx("div",{className:"min-h-screen bg-[#09090b] flex items-center justify-center text-[#a1a1aa]",children:"Authenticating..."})}JM.createRoot(document.getElementById("root")).render(c.jsx(N.StrictMode,{children:c.jsxs(G5,{client:th,persistOptions:Z5,children:[c.jsx(JY,{}),c.jsx(Y5,{initialIsOpen:!1})]})}));
